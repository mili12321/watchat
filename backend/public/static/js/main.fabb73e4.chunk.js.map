{"version":3,"sources":["serviceWorker.js","services/httpService.js","services/movieService.js","store/actions/movieActions.js","store/actions/systemActions.js","services/userService.js","store/actions/userActions.js","cmps/CinemaCard.jsx","cmps/HeroCarousel.jsx","cmps/Carousel.jsx","cmps/GoogleOauth.jsx","pages/Login.js","cmps/LoginModal.jsx","pages/Home.jsx","pages/About.jsx","cmps/ReviewModal.jsx","pages/MovieDetails.jsx","services/reviewService.js","services/cloudinarySerivice.js","services/socketService.js","pages/UserDetails.jsx","store/actions/reviewActions.js","cmps/Toolbar.jsx","cmps/UserPreview.jsx","cmps/UsersCarousel.jsx","cmps/Search.jsx","cmps/MobileToolbar.jsx","cmps/UserList.jsx","data/emojis.js","data/msgs1.js","cmps/Chat.jsx","cmps/ReactionPicker.jsx","cmps/VideoControls.jsx","cmps/MovieLoader.jsx","pages/Room.jsx","cmps/MoviePreview.jsx","cmps/MovieList.jsx","cmps/FilteredMovieList.jsx","cmps/FilteredMovie.jsx","cmps/MovieFilter.jsx","pages/Movie.jsx","pages/CategoryPage.jsx","pages/EditorsMovies.jsx","routes.js","cmps/UserModal.jsx","cmps/Navbar.jsx","cmps/FavoritePreview.jsx","cmps/FavoriteList.jsx","cmps/MobileNavbar.jsx","cmps/ScrollToTop.js","App.jsx","store/reducers/reviewReducer.js","store/reducers/userReducer.js","store/reducers/systemReducer.js","store/reducers/movieReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["Boolean","window","location","hostname","match","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","assign","gFavoriteMovies","movieService","query","filterBy","queryStr","search","minYear","maxYear","type","httpService","getById","movieId","save","movie","_id","getFavoriteList","loadFromStorage","Promise","resolve","toggleFavList","key","val","localStorage","setItem","JSON","stringify","getItem","parse","loadMovies","dispatch","movies","login","logout","signup","getUsers","userId","remove","update","addFavMovie","removeFavMovie","loginByGoogle","user","newUser","_handleLogin","userCred","sessionStorage","clear","favMovies","filter","_movie","loadUsers","userService","users","updateUser","toggleFavUserList","loggedInUser","length","CinemaCard","Fragment","className","perspective","glareEnable","glareMaxOpacity","scale","style","backgroundImage","coverUrl","to","HeroCarousel","changeRateToStars","content","avgRate","props","avgReview","i","Math","ceil","push","this","toggleFavoriteList","isFavoriteMovie","infinite","mouseTracking","duration","autoPlay","startIndex","fadeOutAnimation","mouseDragEnabled","playButtonEnabled","autoPlayInterval","autoPlayDirection","autoPlayActionDisabled","map","idx","heroCoverUrl","title","genres","genre","onClick","Component","Carousel","e","item","slide","responsive","0","items","350","720","1000","1290","onSlideChange","onSlideChanged","id","slice","_GoogleOauth","responseGoogle","userCreds","email","profileObj","avatar","imageUrl","username","givenName","closeModal","clientId","buttonText","onSuccess","onFailure","cookiePolicy","mapDispatchToProps","GoogleOauth","connect","state","isLoading","system","Test","msg","loginCred","password","signupCred","section","loginHandleChange","ev","target","name","value","setState","prevState","signupHandleChange","doLogin","preventDefault","doSignup","signupCreds","removeUser","onSignup","signupSection","onSubmit","onChange","placeholder","loginSection","canvasClassName","params","particles","number","density","enable","size","random","anim","speed","size_min","line_linked","move","direction","out_mode","interactivity","events","onhover","mode","onclick","modes","bubble","distance","opacity","repulse","addFavMovieTxt","LoginModal","isShown","onOpenModal","stopPropagation","Login","React","_Home","Infinity","showComponent","favoriteList","find","handleInputs","field","sumReviews","ratingCount","reviews","forEach","review","rating","parseInt","toFixed","AOS","init","HeroMovies","getHeroMoviesForDisplay","watchRoomMovies","data-aos","src","alt","loop","muted","splice","viewersNumber","floor","Home","About","ReviewModal","children","updateMovie","_MovieDetails","showReviewComponent","favoriteBtn","reviewToEdit","txt","byUser","isRate","activeRateCount","prevActiveRateCount","handleChange","onOpenReviewModal","selectRate","rate","getRatingActiveStars","backgroundImagePosition","loadMovie","wideCoverUrl","renderTitleColor","renderInfoColor","year","scenesUrl","scene","description","cast","actor","img","split","character","cols","rows","substring","MovieDetails","add","reviewId","addedReview","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","secure_url","socket","_UserDetails","imgUrl","onUploadImg","cloudImg","handleInput","onSave","removeFromFavList","history","goBack","loadReviews","reviewService","UserDetails","socketService","setup","io","terminate","on","eventName","cb","off","emit","broadcast","Toolbar","fullScreenChatBackground","onGoBack","onShare","href","data-action","UserPreview","isSelected","userPosition","posX","previewRef","createRef","onUserToggle","currUser","previewEl","current","getBoundingClientRect","left","setTimeout","ref","width","sendGift","onUsernameSelect","UsersCarousel","400","600","700","800","1400","1600","gift","socketInfo","userIdx","el","_Search","toggleView","onClearSearch","inputField","searchingValue","autoComplete","input","onFocus","autocomplete","onClearInput","Search","_MobileToolbar","color","active","changeToActiveBtn","MobileToolbar","withRouter","_UserList","currPage","currSearch","getUsersForDisplay","numOfUsers","myUserIdx","findIndex","unshift","innerWidth","startUser","onMoveRight","onMoveLeft","vlaue","toLowerCase","includes","getFileredUsersForDisplay","isFullScreen","toggleFullScreen","SwitchTransition","CSSTransition","addEndListener","node","done","addEventListener","classNames","UserList","customEmojis","short_names","text","emoticons","keywords","customCategory","msgList1","from","nameColor","senderId","_Chat","sendedMsg","msgList","giftName","showGift","showRecivedGift","showRecivedMsg","giftPosition","gifts","msgForUser","msgsFromUsers","popupVisible","inputRef","scrollBarRef","handleClick","document","removeEventListener","handleOutsideClick","contains","rotatedGiftTxt","setupSockets","roomId","firstUser","onAddNewUser","_gift","uuid","newGifts","currMsg","newMsgs","_msg","cleanUp","userRoom","onMsgSend","sendMsg","onMsgEnter","charAt","removeMsg","hideEmojis","closeMsg","onMsgInput","onEmojiSelect","emoji","native","focus","ReplyToSender","sender","privateMsg","isPrivate","replaceWithGif","result","replaceWithTagName","em","trolldance","temp","searchStr","replace","tagname","scrollDown","scrollBar","scrollToBottom","dangerouslySetInnerHTML","__html","char","fullScreenChat","isVisible","showParticles","value_area","shape","stroke","polygon","nb_sides","image","height","opacity_min","sync","straight","bounce","attract","rotateX","rotateY","detect_on","resize","grab","particles_nb","retina_detect","isChatVisible","fullScreenMsg","fullScreenMessageMe","fullScreenMessageUser","custom","theme","perLine","showPreview","showSkinTones","onSelect","exclude","emojiTooltip","fullScreenInput","onKeyPress","showEmojis","Chat","ReactionPicker","reactions","onSelectReaction","VideoControls","showVolume","showReactions","reactionIds","newReaction","getRandomNum","removeReaction","min","max","reaction","onToggleReactions","hideReactions","changeVolume","onVolumeChange","onVolumeToggle","hideVolume","fullScreenControlPanel","onTogglePlay","isPlaying","step","volume","right","MovieLoader","phrases","currTxt","txtInterval","hideSpinner","animateText","counter","setInterval","_Room","showVideo","currTime","timeSet","startX","startY","endX","endY","played","secondsElapsed","notFirstUser","allowedToJoin","request","isFirstUser","playerRef","onDuration","onProgress","progress","player","seekTo","onGetCurrTime","onPlaying","newVolume","onMovieReady","updateCurrTime","toggleEmojis","fullScreenWatchRoom","fullScreenRoomWindow","fullScreenFrame","fullScreenIframe","handleTouchStart","x","targetTouches","clientX","y","clientY","handleTouchMove","handleTouchEnd","interval","onTouchStart","touchStartEvent","onTouchMove","touchMoveEvent","onTouchEnd","onUpdateFirstUser","videoUrl","playing","Room","_MoviePreview","appCondition","MoviePreview","MovieList","popular","FilteredMovieList","FilteredMovie","moviesByGenres","currGenre","currCmp","getMoviesForDisplay","MovieFilter","activeBtn","keyUpValue","buttons","currCategory","changeGenre","event","searchValue","onKeyUp","onKeyUpValue","bind","changeToActive","_Movie","currView","cmpMap","newView","category","DynamicCmp","Movie","_CategoryPage","changeCategory","CategoryPage","_EditorsMovies","getMovies","EditorsMovies","path","component","UserModal","onOpenUserModal","_Navbar","showUserModal","listenScrollEvent","scrollY","pathname","hideNavbar","onActiveBtnAndToggleView","backgroundColor","Navbar","FavoritePreview","FavoriteList","onToggleList","isClose","favMovie","_MobileNavbar","MobileNavbar","useEffect","unlisten","listen","scrollTo","_App","routes","route","exact","App","initialState","selectedReview","localLoggedinUser","rootReducer","combineReducers","action","savedMovie","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fabb73e4.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import Axios from 'axios'\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/api/' : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n  withCredentials: true,\r\n})\r\n\r\nexport default {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, 'GET', data)\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data)\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data)\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data)\r\n  },\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data,\r\n    })\r\n    return res.data\r\n  } catch (err) {\r\n    console.log(\r\n      `Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`\r\n    )\r\n    console.dir(err)\r\n    if (err.response && err.response.status === 401) {\r\n      window.location.assign('/#/login')\r\n    }\r\n    throw err\r\n  }\r\n}\r\n","import httpService from './httpService'\r\n\r\nconst KEY = 'favorite'\r\nlet gFavoriteMovies =[];\r\n\r\nexport const movieService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    getFavoriteList,\r\n    toggleFavList\r\n}\r\n\r\n\r\nfunction query(filterBy) {\r\n    const queryStr = `?search=${filterBy.search}&minYear=${filterBy.minYear}&maxYear=${filterBy.maxYear}&type=${filterBy.type}`;\r\n    return httpService.get(`movie${queryStr}`);\r\n}\r\n\r\nfunction getById(movieId) {\r\n    return httpService.get(`movie/${movieId}`)\r\n}\r\n\r\nfunction save(movie) {\r\n    return httpService.put(`movie/${movie._id}`, movie)\r\n}\r\n\r\nfunction getFavoriteList(){\r\n    gFavoriteMovies = loadFromStorage(KEY)\r\n    if(!gFavoriteMovies){\r\n        return \"no favorite movies\"\r\n    }else{\r\n        console.log(\"fav list in Storage:\",gFavoriteMovies)\r\n        return Promise.resolve(gFavoriteMovies)\r\n    }\r\n}\r\n\r\nfunction toggleFavList(movie){\r\n    console.log(\"the movie that added to fav list in Storage:\",movie)\r\n    gFavoriteMovies = [movie, ...gFavoriteMovies]\r\n    saveToStorage(KEY, gFavoriteMovies)\r\n}\r\n\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage.setItem(key, JSON.stringify(val))\r\n}\r\n\r\nfunction loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return JSON.parse(val)\r\n}","import { movieService } from '../../services/movieService'\r\nimport { loading, doneLoading } from './systemActions';\r\n\r\nexport function loadMovies(filterBy) {\r\n  \r\n    return async dispatch => {\r\n        try{\r\n            dispatch(loading());\r\n            const movies = await movieService.query(filterBy);\r\n            dispatch({ type: 'SET_MOVIES', movies })\r\n        }catch(err){\r\n            console.log('MovieActions: err in loadMovies', err);\r\n        }finally{\r\n            dispatch(doneLoading());\r\n        }\r\n    }\r\n}\r\n\r\nexport function addMovie(movie) {\r\n    return async dispatch => {\r\n        try{\r\n            await movieService.save(movie)\r\n            dispatch({ type: 'ADD_MOVIE', movie})\r\n        }catch(err){\r\n            console.log('MovieActions: err in addMovie', err); \r\n        }\r\n    }\r\n}\r\n\r\nexport function updateMovie(movie) {\r\n    return async dispatch => {\r\n        try{\r\n            await movieService.save(movie)\r\n            dispatch({ type: 'UPDATE_MOVIE', movie})\r\n        }catch(err){\r\n            console.log('MovieActions: err in updateMovie', err); \r\n        }\r\n    }\r\n}\r\n\r\n","export function loading() {\r\n  return { type: 'LOADING_START' }\r\n}\r\nexport function doneLoading() {\r\n  return { type: 'LOADING_DONE' }\r\n}","import httpService from './httpService'\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n  signup,\r\n  getUsers,\r\n  getById,\r\n  remove,\r\n  update,\r\n  addFavMovie,\r\n  removeFavMovie,\r\n  loginByGoogle\r\n}\r\n\r\nfunction getUsers() {\r\n  return httpService.get('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n  return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n  return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n}\r\n\r\nasync function login(userCred) {\r\n  const user = await httpService.post('auth/login', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function signup(userCred) {\r\n  const user = await httpService.post('auth/signup', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function logout() {\r\n  await httpService.post('auth/logout')\r\n  sessionStorage.clear()\r\n}\r\n\r\nasync function loginByGoogle(userCred) {\r\n  const user = await httpService.post('auth/loginByGoogle', userCred)\r\n  return _handleLogin(user)\r\n}\r\n\r\nfunction _handleLogin(user) {\r\n  sessionStorage.setItem('user', JSON.stringify(user))\r\n  return user\r\n}\r\n\r\nasync function addFavMovie(user,movie){\r\n  user.favMovies = [movie, ...user.favMovies]\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n\r\n}\r\nasync function removeFavMovie(user,movie){\r\n  user.favMovies = user.favMovies.filter(_movie=>_movie._id!==movie._id)\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n}","import userService from '../../services/userService'\r\nimport { loading, doneLoading } from './systemActions'\r\n\r\n// THUNK\r\nexport function loadUsers() {\r\n  return async (dispatch) => {\r\n    try {\r\n      // example for loading\r\n      dispatch(loading())\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n      // example for rerouting - after changing the store\r\n      // history.push('/some/path');\r\n    } finally {\r\n      dispatch(doneLoading())\r\n    }\r\n  }\r\n}\r\n// THUNK\r\nexport function removeUser(userId) {\r\n  return async (dispatch) => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'USER_REMOVE', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n// THUNK\r\nexport function login(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.login(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.signup(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\nexport function logout() {\r\n  return async (dispatch) => {\r\n    await userService.logout()\r\n    dispatch({ type: 'SET_USER', user: null })\r\n  }\r\n}\r\n\r\nexport function loginByGoogle(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.loginByGoogle(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\n\r\nexport function updateUser(newUser) {\r\n  return async (dispatch) => {\r\n    const user = await userService.update(newUser)\r\n    dispatch({ type: 'UPDATE_USER', user })\r\n  }\r\n}\r\n\r\nexport function toggleFavUserList(loggedInUser,movie){\r\n  const newMovieList = loggedInUser.favMovies.filter(_movie=>_movie._id===movie._id)\r\n  if(newMovieList.length>0){\r\n    return async dispatch => {\r\n      try{\r\n          const user = await userService.removeFavMovie(loggedInUser,movie)\r\n          dispatch({ type: 'REMOVE_FAV_MOVIE', user})\r\n      }catch(err){\r\n          console.log('UserActions: err in removeFavoriteMovie', err); \r\n      }\r\n    }\r\n  }else{\r\n    return async (dispatch) => {\r\n      try{\r\n          const user = await userService.addFavMovie(loggedInUser,movie)\r\n          dispatch({ type: 'ADD_FAV_MOVIE', user})\r\n      }catch(err){\r\n          console.log('UserActions: err in addFavoriteMovie', err); \r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport Tilt from 'react-parallax-tilt';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport function CinemaCard({ movie }) {\r\n  return (\r\n    <React.Fragment>\r\n      <Tilt\r\n        className=\"parallax-effect-glare-scale\"\r\n        perspective={500}\r\n        glareEnable={true}\r\n        glareMaxOpacity={0.45}\r\n        scale={1.02}\r\n        style={{backgroundImage: `url(${movie.coverUrl})`}}\r\n      >\r\n        <div className=\"inner-element\">\r\n          <Link to={`/room/${movie._id}`}><div className=\"paly-card-btn\"><i className=\"fas fa-play card-play\"></i></div></Link>\r\n        </div>\r\n      </Tilt>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class HeroCarousel extends Component{\r\n\r\n    changeRateToStars=(movie)=>{\r\n      let content = [];\r\n      const avgRate = this.props.avgReview(movie)/2\r\n      for (let i = 1; i < Math.ceil(avgRate); i++) {\r\n        content.push(<i className='fas fa-star star-color'></i>)\r\n        \r\n      }\r\n      if(Math.ceil(avgRate)===avgRate){\r\n        return <i className='fas fa-star star-color'></i>\r\n      }else if(Math.ceil(avgRate)>avgRate){\r\n        content.push(<i className='fas fa-star-half-alt star-color'></i>)\r\n      }\r\n      if(Math.ceil(avgRate)<5){\r\n        for (let i = avgRate+1; i < 5; i++) {\r\n          content.push(<i className='far fa-star star-color'></i>)\r\n          \r\n        }\r\n      }\r\n      return content\r\n    }\r\n\r\n    render() {\r\n      const {movies, toggleFavoriteList, isFavoriteMovie} = this.props\r\n      return (\r\n        <React.Fragment>\r\n        <AliceCarousel\r\n        infinite\r\n        mouseTracking\r\n        duration={400}\r\n        autoPlay={true}\r\n        startIndex = {1}\r\n        fadeOutAnimation={true}\r\n        mouseDragEnabled={true}\r\n        playButtonEnabled={true}\r\n        autoPlayInterval={2000}\r\n        autoPlayDirection=\"ltr\"\r\n        autoPlayActionDisabled={true}\r\n      >\r\n         {movies.map((movie, idx) => (\r\n            <div className=\"hero-carousel\">\r\n                 <div className={`slide${idx + 1} slide`}  style={{\r\n                    backgroundImage: `url(${\r\n                      movie.heroCoverUrl ? movie.heroCoverUrl : ''\r\n                    })`,\r\n                  }}>\r\n                 {/* movie details */}\r\n       <div className='text-inside-slide'>\r\n         <div className='slide-upper-text-container'>\r\n          <div className='slide-title'>{movie.title}</div>\r\n         <div className={`slide-genres`}>\r\n             {movie.genres.map((genre, idx) => (\r\n              <div key={movie._id} className={`genre${idx + 1}`}>\r\n                {genre}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className='slide-btns'>\r\n            <Link  to={`/room/${movie._id}`} >\r\n              <div className='slide-btn1 slide-btn'>\r\n                watch movie\r\n              </div>\r\n            </Link>\r\n            <Link to={`/movie/${movie._id}`} className=\"slide-btn-style slide-btn\"  >\r\n              <div className={`slide-btn2 `}>\r\n                view info\r\n              </div>\r\n            </Link>\r\n           \r\n           \r\n            <div className={`slide-btn3 slide-btn`} onClick={()=>{toggleFavoriteList(movie)}}>\r\n              {isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                <Link ><i className=\"fas fa-plus\"></i></Link>:\r\n                <Link ><i className=\"fas fa-check\"></i></Link>\r\n              }\r\n              add to favorite\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='slide-rate'>\r\n         { this.changeRateToStars(movie)}\r\n        </div>\r\n      </div>\r\n      {/* and of movie details */}\r\n     \r\n      {/* atart of information about the app - text */}\r\n      <div className='text-inside-slide2'>\r\n        <div className='info-in-slide'>\r\n          {/* <div>\r\n            Watch movies with your friends with interactive chat and live reactions\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n      {/* end of information about the app */}\r\n               </div>\r\n               </div>\r\n                ))}\r\n        </AliceCarousel>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n    // <div className={`slide${idx + 1}`}>\r\n    //   {/* movie details */}\r\n    //   <div className='text-inside-slide'>\r\n    //     <div className='slide-upper-text-container'>\r\n    //       <div className='slide-title'>{movie.title}</div>\r\n    //       <div className={`slide-genres`}>\r\n    //         {movie.genres.map((genre, idx) => (\r\n    //           <div key={movie._id} className={`genre${idx + 1}`}>\r\n    //             {genre}\r\n    //           </div>\r\n    //         ))}\r\n    //         {/* <div className=\"duration\">Duration: 1h 52m</div> */}\r\n    //       </div>\r\n    //       <div className='slide-btns'>\r\n    //         <div className='slide-btn1 slide-btn'>\r\n    //           <Link  to={`/room/${movie._id}`}>watch movie</Link>\r\n    //         </div>\r\n    //         <div className={`slide-btn2 slide-btn`}>\r\n    //           <Link to={`/movie/${movie._id}`} >view info</Link>\r\n    //         </div>\r\n           \r\n    //         <div className={`slide-btn3 slide-btn`} onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n    //           {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n    //             <Link><i className=\"fas fa-plus\"></i></Link>:\r\n    //             <Link><i className=\"fas fa-check\"></i></Link>\r\n    //           }\r\n    //           add to favorite\r\n    //         </div>\r\n    //       </div>\r\n    //     </div>\r\n    //     <div className='slide-rate'>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star-half-alt star-color'></i>\r\n    //       <i className='far fa-star star-color'></i>\r\n    //     </div>\r\n    //   </div>\r\n    //   {/* and of movie details */}\r\n     \r\n    //   {/* atart of information about the app - text */}\r\n    //   <div className='text-inside-slide2'>\r\n    //     <div className='info-in-slide'>\r\n    //       {/* <div>\r\n    //         Watch movies with your friends with interactive chat and live reactions\r\n    //       </div> */}\r\n    //     </div>\r\n    //   </div>\r\n    //   {/* end of information about the app */}\r\n    // </div>\r\n\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Carousel extends Component{\r\n\r\n\r\n    onSlideChange(e) {\r\n      console.log('Item`s position during a change: ', e.item);\r\n      console.log('Slide`s position during a change: ', e.slide);\r\n    }\r\n  \r\n    onSlideChanged(e) {\r\n      console.log('Item`s position after changes: ', e.item);\r\n      console.log('Slide`s position after changes: ', e.slide);\r\n    }\r\n  \r\n    render() {\r\n      const {movies} = this.props\r\n      const responsive = {\r\n        0: {\r\n          items: 1\r\n        },\r\n        350: {\r\n          items: 2\r\n        },\r\n        720: {\r\n          items: 3\r\n        },\r\n        1000: {\r\n          items: 4\r\n        },\r\n        1290: {\r\n          items: 5\r\n        }\r\n      };\r\n  \r\n      return (\r\n        <React.Fragment>\r\n        <AliceCarousel\r\n        duration={400}\r\n        autoPlay={true}\r\n        startIndex = {1}\r\n        fadeOutAnimation={true}\r\n        mouseDragEnabled={true}\r\n        playButtonEnabled={true}\r\n        responsive={responsive}\r\n        autoPlayInterval={2000}\r\n        autoPlayDirection=\"rtl\"\r\n        autoPlayActionDisabled={true}\r\n        onSlideChange={this.onSlideChange}\r\n        onSlideChanged={this.onSlideChanged}\r\n        className=\"alice-carousel\"\r\n        id=\"top-carousel\"\r\n      >\r\n        {movies.slice(10,20).map((movie, idx) => (\r\n          <Link to={`/movie/${movie._id}`} >\r\n                  <div key={movie._id} className={`carousel-card`}>\r\n                    {/* <Link to={`/movie/${movie._id}`} > */}\r\n                    <div className=\"movie-img-container\">\r\n                      <div className='movie-img'\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            movie.coverUrl ? movie.coverUrl : ''\r\n                          })`,\r\n                        }}>\r\n                          \r\n                      </div>\r\n                    </div>\r\n                        <div className={`top-number ${idx===9?\"last-child\":\"\"}`}>{idx + 1}</div>\r\n                      \r\n                  </div>\r\n          </Link>\r\n                ))}\r\n        </AliceCarousel>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { loginByGoogle } from '../store/actions/userActions'\r\n\r\nexport class _GoogleOauth extends Component {\r\n    responseGoogle = (response) => {\r\n        const userCreds = { \r\n            email: response.profileObj.email,\r\n            avatar:response.profileObj.imageUrl, \r\n            username: response.profileObj.givenName \r\n        }\r\n        this.props.loginByGoogle(userCreds)\r\n        console.log(\"loggedInUser:\", this.props.loggedInUser)\r\n        this.props.closeModal()\r\n    }\r\n       \r\n    render() {\r\n        return (\r\n           <div>\r\n                <GoogleLogin\r\n                    clientId=\"866960241942-jhfvtsh6b7adl5jae5cth72jlhug4i72.apps.googleusercontent.com\"\r\n                    buttonText=\"Login With Google\"\r\n                    onSuccess={this.responseGoogle}\r\n                    onFailure={this.responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n           </div> \r\n        )}\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      users: state.user.users,\r\n      loggedInUser: state.user.loggedInUser,\r\n      isLoading: state.system.isLoading,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loginByGoogle\r\n}\r\nexport const GoogleOauth = connect(mapStateToProps, mapDispatchToProps)(_GoogleOauth)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Particles from 'react-particles-js'\r\nimport { GoogleOauth } from '../cmps/GoogleOauth'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup,\r\n} from '../store/actions/userActions'\r\n\r\nclass Test extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    signupCred: {\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n    },\r\n    section: true,\r\n  }\r\n\r\n  loginHandleChange = (ev) => {\r\n    const { name, value } = ev.target\r\n    this.setState((prevState) => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = (ev) => {\r\n    const { name, value } = ev.target\r\n    this.setState((prevState) => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  doLogin = async (ev) => {\r\n    ev.preventDefault()\r\n    const { email, password } = this.state.loginCred\r\n    if (!email || !password) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { email, password }\r\n    this.props.login(userCreds)\r\n    this.setState({ loginCred: { email: '', password: '' } })\r\n    this.props.closeModal()\r\n  }\r\n\r\n  doSignup = async (ev) => {\r\n    ev.preventDefault()\r\n    const { email, password, username } = this.state.signupCred\r\n    if (!email || !password || !username) {\r\n      return this.setState({ msg: 'All inputs are required!' })\r\n    }\r\n    const signupCreds = { email, password, username }\r\n    this.props.signup(signupCreds)\r\n    this.setState({ signupCred: { email: '', password: '', username: '' } })\r\n    this.props.closeModal()\r\n  }\r\n\r\n  removeUser = (userId) => {\r\n    this.props.removeUser(userId)\r\n  }\r\n\r\n  onSignup = () => {\r\n    this.setState({ section: !this.state.section })\r\n  }\r\n\r\n  render() {\r\n    let signupSection = (\r\n      <form onSubmit={this.doSignup} className='signup-container'>\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='email'\r\n          value={this.state.signupCred.email}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Email'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          name='password'\r\n          type='password'\r\n          value={this.state.signupCred.password}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Password'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='username'\r\n          value={this.state.signupCred.username}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Username'\r\n        />\r\n        <br />\r\n        <button className='login-btn'>Signup</button>\r\n      </form>\r\n    )\r\n    let loginSection = (\r\n      <form onSubmit={this.doLogin} className='login-container'>\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='email'\r\n          value={this.state.loginCred.email}\r\n          onChange={this.loginHandleChange}\r\n          placeholder='Email'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          type='password'\r\n          name='password'\r\n          value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange}\r\n          placeholder='Password'\r\n        />\r\n        <br />\r\n        <button className='login-btn'>Login</button>\r\n      </form>\r\n    )\r\n\r\n    const { loggedInUser } = this.props\r\n    return (\r\n      <React.Fragment>\r\n        <Particles\r\n          canvasClassName='example'\r\n          params={{\r\n            particles: {\r\n              number: {\r\n                value: 160,\r\n                density: {\r\n                  enable: false,\r\n                },\r\n              },\r\n              size: {\r\n                value: 3,\r\n                random: true,\r\n                anim: {\r\n                  speed: 4,\r\n                  size_min: 0.3,\r\n                },\r\n              },\r\n              line_linked: {\r\n                enable: false,\r\n              },\r\n              move: {\r\n                random: true,\r\n                speed: 1,\r\n                direction: 'top',\r\n                out_mode: 'out',\r\n              },\r\n            },\r\n            interactivity: {\r\n              events: {\r\n                onhover: {\r\n                  enable: true,\r\n                  mode: 'bubble',\r\n                },\r\n                onclick: {\r\n                  enable: true,\r\n                  mode: 'repulse',\r\n                },\r\n              },\r\n              modes: {\r\n                bubble: {\r\n                  distance: 250,\r\n                  duration: 2,\r\n                  size: 0,\r\n                  opacity: 0,\r\n                },\r\n                repulse: {\r\n                  distance: 400,\r\n                  duration: 4,\r\n                },\r\n              },\r\n            },\r\n          }}></Particles>\r\n        <div className='login-page'>\r\n        <button className='close-modal' onClick={this.props.closeModal}>\r\n              x\r\n          </button>\r\n          <h1 className='login-title'>\r\n            <div\r\n              className={`welcome-txt ${\r\n                this.props.addFavMovieTxt ? 'hide-txt' : ''\r\n              }`}>\r\n              <div>Welcome</div>\r\n              <div className='welcome-txt2'>\r\n                Sign in with your email address\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={`guest-addFav-txt ${\r\n                this.props.addFavMovieTxt ? '' : 'hide-txt'\r\n              }`}>\r\n              <div className='guest-addFav-center-txt'>Add to favorites</div>\r\n              <div className='guest-addFav-bigger-txt'>\r\n                Before you can do that...\r\n              </div>\r\n              <div>Sign in or register with your email address</div>\r\n            </div>\r\n          </h1>\r\n          <h2 className='mag'>{this.state.msg}</h2>\r\n\r\n\r\n          <div className='auth-form'>\r\n\r\n            {!loggedInUser && this.state.section ? loginSection : signupSection}\r\n            <div className='login-txt'>\r\n              {`${this.state.section ? \"DON'T HAVE ACCOUNT YET?\" : ''}`}{' '}\r\n            </div>\r\n            <div className=\"google-oauth\">\r\n            <GoogleOauth className=\"google-oauth-btn\" closeModal={this.props.closeModal}/>\r\n            </div>\r\n            <div className='login-txt-btn' onClick={this.onSignup}>{`${\r\n              this.state.section ? 'Signup Here' : 'Go Back'\r\n            }`}</div>\r\n          </div>\r\n\r\n          <hr />\r\n         \r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.user.users,\r\n    loggedInUser: state.user.loggedInUser,\r\n    isLoading: state.system.isLoading,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  removeUser,\r\n  loadUsers,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Test)\r\n","import React from 'react'\r\nimport Login from '../pages/Login'\r\nexport class LoginModal extends React.Component {\r\n  state = {\r\n    isShown: true,\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ isShown: false })\r\n    this.props.onOpenModal()\r\n  }\r\n  render() {\r\n    const { isShown } = this.state\r\n    return (\r\n      <div\r\n        className={`modal-wrapper ${isShown ? '' : 'hide'}`}\r\n        onClick={this.closeModal}>\r\n        <div className='modal-content' onClick={(ev) => ev.stopPropagation()}>\r\n          <Login closeModal={this.closeModal} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { CinemaCard } from '../cmps/CinemaCard'\r\nimport AOS from 'aos'\r\nimport 'aos/dist/aos.css' // You can also use <link> for styles\r\nimport { FaRegEye } from 'react-icons/fa'\r\nimport { AiFillStar } from 'react-icons/ai'\r\nimport { BsArrowUp } from 'react-icons/bs'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { HeroCarousel } from \"../cmps/HeroCarousel\";\r\nimport { Carousel } from \"../cmps/Carousel\";\r\nimport { LoginModal } from '../cmps/LoginModal';\r\n\r\nimport { HashLink as Link } from 'react-router-hash-link'\r\n\r\nclass _Home extends Component {\r\n  state = {\r\n    filterBy: {\r\n      search: '',\r\n      minYear: -Infinity,\r\n      maxYear: Infinity,\r\n      type: 'All',\r\n    },\r\n    showComponent: false,\r\n  }\r\n  heroMovie1\r\n  heroMovie2\r\n  heroMovie3\r\n  heroMovie4\r\n  componentDidMount() {\r\n    this.props.loadMovies(this.state.filterBy)\r\n    AOS.init({\r\n      // initialise with other settings\r\n      // duration : 2000\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const filterBy = {\r\n      search: '',\r\n      minYear: -Infinity,\r\n      maxYear: Infinity,\r\n      type: 'All',\r\n    }\r\n\r\n    this.setState({ filterBy })\r\n  }\r\n\r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      console.log(\"loggedInUser.favMovies:\", this.props.loggedInUser.favMovies)\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n      console.log('favoriteList:',this.props.favoriteList)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  handleInputs = (ev) => {\r\n    const field = ev.target.name\r\n    const value = ev.target.value\r\n    this.setState(\r\n      { ...this.state, filterBy: { ...this.state.filterBy, [field]: value } },\r\n      () => {\r\n        this.props.loadMovies(this.state.filterBy)\r\n      }\r\n    )\r\n  }\r\n  avgReview = (movie) => {\r\n    let sumReviews = 0\r\n    let avg = 0\r\n    let ratingCount = 0\r\n    if(movie.reviews){\r\n      movie.reviews.forEach((review) => {\r\n        if (review.rating) {\r\n          sumReviews += parseInt(review.rating)\r\n          ratingCount++\r\n        }\r\n      })\r\n      avg = sumReviews / ratingCount\r\n      return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n  \r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  getHeroMoviesForDisplay(){\r\n    return this.props.movies.filter(\r\n      (movie) =>\r\n      movie.title === 'Wrath of the Titans' ||\r\n      movie.title === 'Guardians of the Galaxy' ||\r\n      movie.title === 'Avengers: Endgame' ||\r\n      movie.title === 'IT'\r\n    );\r\n  }\r\n\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { movies } = this.props\r\n    const HeroMovies = this.getHeroMoviesForDisplay()\r\n    if (!movies) return <div>Loading....</div>\r\n    const watchRoomMovies = movies.filter(\r\n      (movie) =>\r\n        movie.title === 'X-Men: Dark Phoenix' ||\r\n        movie.title === '21 Bridges' ||\r\n        movie.title === 'Hellboy' ||\r\n        movie.title === 'Avatar'\r\n    )\r\n    \r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n        </div>\r\n        <div className='movie-app' id='top'>\r\n          <div className='main-header-container'>\r\n            {/* start of hero */}\r\n            <div className='hero-slider'>\r\n              <HeroCarousel \r\n              movies={HeroMovies} \r\n              toggleFavoriteList={this.toggleFavoriteList} \r\n              isFavoriteMovie={this.isFavoriteMovie}\r\n              onOpenModal={this.onOpenModal}\r\n              avgReview={this.avgReview}\r\n              />\r\n            </div>\r\n            {/* end of hero */}\r\n          </div>\r\n          {/* end of main header container */}\r\n          <div className='main-movies-section'>\r\n            <div className='Streaming-section1' >\r\n              <div>So How Does It Work...</div>\r\n              <div className='explantion-btn' data-aos='fade-right'>\r\n                <Link to='/#example'>\r\n                  <button>Click Here</button>\r\n                </Link>\r\n                <span></span>\r\n                <span></span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='live-cinema-section'>\r\n              <div className='live-movie-example'>\r\n                <div className='img-example'>\r\n                  <img\r\n                    className='laptop-blank'\r\n                    src='assets/img/laptop-blank.png'\r\n                    alt=''\r\n                  />\r\n                  <video className='home-video' loop autoPlay muted>\r\n                    <source src='assets/img/video.mp4' type='video/mp4' />\r\n                  </video>\r\n                  <img\r\n                    className='chat-img2'\r\n                    src='assets/img/chat-img2.png'\r\n                    alt=''\r\n                  />\r\n                </div>\r\n                <div className='movie-example'>\r\n                  <div className='main-title'>\r\n                    <div>WATCH WHATEVER, TOGETHER</div>\r\n                  </div>\r\n                  <div className='main-title2'>\r\n                    Connect with others who are as obsessed with your favorite\r\n                    movies as you are. Come together for watch parties, chat\r\n                    about your favorite shows and movies, and discover your next\r\n                    binge.\r\n                  </div>\r\n                  <div className='title'>\r\n                    <i> Streaming Live Now</i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='live-rooms-container'>\r\n                <div className='watch-container'>\r\n                  {watchRoomMovies.map((movie,idx) => (\r\n                    <div  key={idx}>\r\n                      <div className='live-tag'>\r\n                        <i>Live</i>\r\n                      </div>\r\n                      <CinemaCard className='watch-movie' movie={movie} />\r\n                      <div className='watch-movie-details'>\r\n                        <div\r\n                          className={`title ${\r\n                            movie.title.length > 11 ? 'ellipsis' : ''\r\n                          }`}>\r\n                          <div>{movie.title}</div>\r\n                        </div>\r\n                        <div className='details'>\r\n                          {movie.genres.splice(2).map((genre,idx) => (\r\n                            <span \r\n                            key={idx}className='details-genre'>\r\n                              <i>{genre}</i>\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                        <div>\r\n                          <Link to={`/movie/${movie._id}`}>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </Link>\r\n                        </div>\r\n                        <div className='watching-details'>\r\n                          <div>\r\n                            <FaRegEye className='faRegEye icon-style' />\r\n                            {movie.viewersNumber\r\n                              ? movie.viewersNumber\r\n                              : Math.floor(Math.random() * (2000 - 500) + 500)}\r\n                          </div>\r\n                          <div>\r\n                            <AiFillStar className='icon-style'  />\r\n                            {this.avgReview(movie)}/10\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* end of live cinema section */}\r\n\r\n            <div className='new-movies'>\r\n              <div className='movies-title'>New Movies in WatChat</div>\r\n              <div className='home-new-movies-container'>\r\n                {movies.slice(0,11).map((movie) => (\r\n                  <div key={movie._id} className={`home-new-movie-container`}>\r\n\r\n                    <Link to={`/movie/${movie._id}`} className='new-movie-img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n\r\n                    <div className='info-continer-movie-card'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n\r\n                      <div className='genres-container'>\r\n                        {movie.genres.map((genre,idx) => (\r\n                          <div  key={idx} className='genre'>{genre}</div>\r\n                        ))}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <span className='movie-btn movie-btn-details'>\r\n                          <Link to={`/movie/${movie._id}`}>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn'>\r\n                          <Link to={`/room/${movie._id}`}>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                        {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                          <Link><i className=\"fas fa-plus\"></i></Link>:\r\n                          <Link><i className=\"fas fa-check\"></i></Link>\r\n                        }\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className='rate-container'>\r\n                        <div>\r\n                          <i className='far fa-eye'></i>\r\n                          {movie.viewersNumber\r\n                            ? movie.viewersNumber\r\n                            : Math.floor(Math.random() * (200 - 50) + 50)}\r\n                        </div>\r\n                         {this.avgReview(movie)}/10\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className='top-movies'>\r\n              <div className='movies-title'>TOP 10</div>\r\n              <div className='home-top-movies-container'>\r\n                <Carousel movies={movies} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className='editors-movies module-border-wrap'>\r\n              <div className='editors-title'>EDITOR'S CHOICE</div>\r\n\r\n              <div className='home-choices-container'>\r\n                <div className='side-img-container2'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr10.png' alt='' />\r\n                  <div className='info-container'>\r\n                    <Link to={`/editor-movies/editors-adventure/#top`} >\r\n                    <div>\r\n                      SEE ALL <span className='number-style'>14</span>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to={`/movies/Adventure`} >\r\n                    <div>Adventure</div> \r\n                    </Link>\r\n                    {/* <div>Adventure</div> */}\r\n                  </div>\r\n                </div>\r\n                {movies.slice(8, 12).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n                     <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}>\r\n                     </Link>\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* {end of editors part 1} */}\r\n            <div className='editors-movies2 module-border-wrap'>\r\n              <div className='home-choices-container3'>\r\n                <div className='side-img-container3'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr12.png' alt='' />\r\n                  <div className='info-container'>\r\n                  <Link to={`/editor-movies/editors-action/#top`} >\r\n                  <div>\r\n                      SEE ALL <span className='number-style'>22</span>\r\n                    </div>\r\n                  </Link>\r\n                  <Link to={`/movies/Action`} >\r\n                  <div>Action</div>\r\n                  </Link>\r\n                    \r\n                 \r\n                  </div>\r\n                </div>\r\n                {movies.slice(12, 16).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n                       <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* end of rditors part 2 */}\r\n            <div className='editors-movies2 module-border-wrap'>\r\n\r\n              <div className='home-choices-container2'>\r\n                <div className='side-img-container2'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr13.png' alt='' />\r\n                  <div className='info-container'>\r\n                  <Link to={`/editor-movies/editors-horror/#top`} >\r\n                  <div>\r\n                      SEE ALL <span className='number-style'>17</span>\r\n                    </div>\r\n                  </Link>\r\n\r\n                  <Link to={`/movies/Horror`} >\r\n                  <div>Horror</div>\r\n                  </Link>\r\n                  </div>\r\n                </div>\r\n                {movies.slice(16, 20).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n\r\n                       <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          {' '}\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* end of editors part 3 */}\r\n\r\n            <div>\r\n              <div className='example-imgs' id='example'>\r\n                <div className='example-img1'>\r\n                  <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/choose-movie.jpg)`,\r\n                      }}></div>\r\n                  <div>choose a movie to stream or live cinema</div>\r\n                </div>\r\n                <div className='example-img2'>\r\n                <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/send-link.jpg)`,\r\n                      }}></div>\r\n        \r\n                  <div>Send a link to your friends</div>\r\n                </div>\r\n                <div className='example-img3'>\r\n                <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/watch-together.jpg)`,\r\n                      }}></div>\r\n\r\n                  <div>Watch and chat together</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='got-to-top-button'>\r\n              <Link to='/#top'>\r\n                <button>\r\n                  <BsArrowUp className='bsArrowUp' />\r\n                </button>\r\n              </Link>\r\n              <span></span>\r\n              <span></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n    favoriteList: state.movie.favoriteList\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadMovies,\r\n  logout,\r\n  toggleFavUserList\r\n}\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n","import React, { Component } from 'react'\r\n\r\n\r\nexport class About extends Component {\r\n    render() {\r\n        return (\r\n        <div className='about-page'>\r\n          \r\n        </div>\r\n        )\r\n    }\r\n}","\r\nimport React from 'react'\r\nexport class ReviewModal extends React.Component {\r\n    state = {\r\n        isShown: true,\r\n    }\r\n    closeModal = () => {\r\n        this.setState({ isShown: false })\r\n        this.props.onOpenModal()\r\n        \r\n    }\r\n    render() {\r\n        const { isShown } = this.state\r\n        const { children,updateMovie } = this.props\r\n        return (\r\n            <div className={ `modal-wrapper ${isShown ? '' : 'hide'}` } onClick={ this.closeModal } >\r\n                <div className=\"review-modal-content\" onClick={ (ev) => ev.stopPropagation() }>\r\n                    <form onSubmit={updateMovie} className='review-form'>\r\n                    { children }\r\n                    <button className=\"review-submit-btn\" >Continue</button>\r\n                    </form>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { movieService } from '../services/movieService.js'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport {updateMovie} from '../store/actions/movieActions.js'\r\nimport {updateUser} from '../store/actions/userActions.js'\r\nimport {ReviewModal} from '../cmps/ReviewModal'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { LoginModal } from '../cmps/LoginModal';\r\n\r\nclass _MovieDetails extends Component {\r\n  state = {\r\n    movie: null,\r\n    showComponent: false,\r\n    showReviewComponent: false,\r\n    favoriteBtn:false,\r\n    reviewToEdit: {\r\n      txt: '',\r\n      byUser: '',\r\n      rating : '',\r\n    },\r\n    isRate:false,\r\n    activeRateCount:0,\r\n    prevActiveRateCount:0,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadMovie()\r\n  }\r\n\r\n  async loadMovie() {\r\n    const movieId = this.props.match.params.id\r\n    const movie = await movieService.getById(movieId)\r\n    this.setState({ movie })\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    if(this.props.loggedInUser){\r\n      this.setState(prevState => ({\r\n        reviewToEdit: {\r\n          ...prevState.reviewToEdit,[name]: value, byUser: this.props.loggedInUser.username\r\n        }\r\n      }));\r\n    }else{\r\n      this.setState(prevState => ({\r\n        reviewToEdit: {\r\n          ...prevState.reviewToEdit,[name]: value, byUser: 'GUEST'\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  updateMovie = ev => {\r\n    ev.preventDefault();\r\n    if(!this.state.reviewToEdit.rating){\r\n      console.log(\" rating required\")\r\n      this.setState({isRate:true})\r\n      return \r\n    }else{\r\n      this.state.movie.reviews.push(this.state.reviewToEdit)\r\n      this.props.updateMovie(this.state.movie);\r\n      this.setState({ reviewToEdit: { txt: '' } });\r\n      this.onOpenReviewModal()\r\n    }\r\n  };\r\n\r\n  renderTitleColor(title) {\r\n    switch(title) {\r\n      case \"The Equalizer\":\r\n        return 'dark-title-on-background';\r\n      default:\r\n        return 'light-title-on-background';\r\n    }\r\n  }\r\n\r\n  renderInfoColor(title) {\r\n    switch(title) {\r\n      case \"The Equalizer\":\r\n        return 'dark-info-on-background';\r\n      case \"Kill Switch\":\r\n        return 'dark-info-on-background';\r\n      case \"Hellboy\":\r\n        return 'dark-info-on-background';\r\n      default:\r\n        return 'light-info-on-background';\r\n    }\r\n  }\r\n\r\n  avgReview=()=>{\r\n    let sumReviews =0\r\n    let avg= 0\r\n    let ratingCount = 0\r\n    if(this.state.movie.reviews){\r\n      this.state.movie.reviews.forEach(review=>\r\n        {  \r\n          if(review.rating){\r\n            sumReviews += parseInt(review.rating)\r\n            ratingCount ++}\r\n          }\r\n         \r\n        )\r\n        avg = sumReviews/ratingCount\r\n        return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  \r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n  \r\n  onOpenReviewModal=()=>{\r\n    this.setState({\r\n      showReviewComponent: !this.state.showReviewComponent\r\n      });\r\n    this.setState({activeRateCount:0})\r\n  }\r\n\r\n  selectRate=(rate)=>{\r\n    this.setState({prevActiveRateCount:this.state.activeRateCount},()=>{\r\n    })\r\n    this.setState({reviewToEdit:{...this.state.reviewToEdit, rating:rate}})\r\n    this.setState({activeRateCount:rate},()=>{\r\n      console.log(\"activeRateCount:\",this.state.activeRateCount)\r\n    })\r\n    this.setState({isRate:false})\r\n  }\r\n\r\n\r\n  getRatingActiveStars=()=>{\r\n    let content = [];\r\n    for (let i = 1; i <= this.state.activeRateCount; i++) {\r\n      content.push(\r\n        <i key={i} \r\n        className={`fa fa-star rating-star star${i} rating-active`} \r\n        onClick={()=>{this.selectRate(i)}}  \r\n        ></i>\r\n      )\r\n    }\r\n    for (let i = this.state.activeRateCount+1; i < 11; i++) {\r\n      content.push(\r\n        <i key={i}\r\n         className={`fa fa-star rating-star star${i} `} \r\n         onClick={()=>{this.selectRate(i)}}  \r\n        ></i>\r\n      )\r\n    }\r\n    return content;\r\n  }\r\n\r\n\r\n  backgroundImagePosition=(movie)=>{\r\n    if(movie.title===\"Ice Age 3\"){\r\n      return 'img-position'\r\n    }else{\r\n      return\r\n    }\r\n  }\r\n  \r\n \r\n\r\n\r\n  render() {\r\n    const { movie } = this.state\r\n\r\n    if (!movie) return <div>Loading....</div>\r\n    return (\r\n      <React.Fragment>\r\n        <div className='movie-details'>\r\n          <div\r\n            className={`details-hero-container  ${this.backgroundImagePosition(movie)}`}\r\n            style={{\r\n              backgroundImage: `url(${\r\n                movie.wideCoverUrl ? movie.wideCoverUrl : ''\r\n              })`,\r\n            }}>\r\n            <div className={`details-hero-info-container ${movie.title.length>27?'long-title':''}`}>\r\n            <div className={`details-hero-title ${this.renderTitleColor(movie.title)} ${movie.title.length>27?'long-title':''}`}>{movie.title}</div>\r\n            <div className={`details-hero-info ${this.renderInfoColor(movie.title)}`}>\r\n                <div className='details year'>{movie.year}</div>\r\n                <div className='details duration'>{movie.duration}</div>\r\n              </div>\r\n              <div className='details-hero-btns'>\r\n                <Link to={`/room/${movie._id}`}>\r\n                  <div className='details-hero-btn play-btn'>\r\n                    Play\r\n                  </div>\r\n                </Link>\r\n                <div className={`details-hero-btn my-list-btn ${this.isFavoriteMovie(movie)}`} onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?<span className=\"list-btn-symble\">+</span>:\r\n                  <span className=\"list-btn-symble\"><i className=\"fas fa-check\"></i></span>}\r\n                  <span> My List</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='scenes-container'>\r\n              {movie.scenesUrl.map((scene) => (\r\n                <div\r\n                  className='scene-img-container'\r\n                  style={{ backgroundImage: `url(${scene})` }}></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <section className='details-more-info-section'>\r\n            <div className='description-container'>\r\n              <div className='overview-title'>Overview</div>\r\n              <div className='genres-title'>Genres</div>\r\n              <div className='overview-txt'>{movie.description}</div>\r\n              <div className='genres-txt'>\r\n                {movie.genres.map((genre) => (\r\n                  <div>{genre}</div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className='cast-continer'>\r\n              <div className='cast-title'>Cast</div>\r\n              {movie.cast.map((actor, idx) => (\r\n                <div className={`actor-container actor-${idx + 1}`}>\r\n                  <img className='actor-img' src={`${actor.img}`} alt='' />\r\n                  <div className='actor-info-container'>\r\n                    <div className='actor-name'>\r\n                      <span>{actor.name.split(\" \")[0]}</span>\r\n                      <span> {actor.name.split(\" \")[1]}</span>\r\n                    </div>\r\n                    <div className='actor-character'>{actor.character}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n          <section className='reviews-container'>\r\n              <div className='reviews-title'>\r\n             \r\n             <div>\r\n             <div>Reviews</div>\r\n                <div className='reviews-count' >({movie.reviews ? movie.reviews.length : 0} Reviews)</div>\r\n             </div>\r\n                <div className=\"number-style avg-number\">\r\n                \r\n                {this.avgReview()}/10\r\n                </div>\r\n               \r\n              <button className=\"colorful-button dark add-review-btn\" onClick={this.onOpenReviewModal}>\r\n                  <div className=\"wrapper\">\r\n                      <span>Add Review</span>\r\n                      <div className=\"circle circle-12\"></div>\r\n                      <div className=\"circle circle-11\"></div>\r\n                      <div className=\"circle circle-10\"></div>\r\n                      <div className=\"circle circle-9\"></div>\r\n                      <div className=\"circle circle-8\"></div>\r\n                      <div className=\"circle circle-7\"></div>\r\n                      <div className=\"circle circle-6\"></div>\r\n                      <div className=\"circle circle-5\"></div>\r\n                      <div className=\"circle circle-4\"></div>\r\n                      <div className=\"circle circle-3\"></div>\r\n                      <div className=\"circle circle-2\"></div>\r\n                      <div className=\"circle circle-1\"></div>\r\n                  </div>\r\n              </button>\r\n\r\n              </div>\r\n\r\n            <div className='reviews-section'>\r\n\r\n\r\n            {this.state.showReviewComponent?\r\n            <ReviewModal onOpenModal={this.onOpenReviewModal} updateMovie={this.updateMovie}>\r\n             <div className=\"form-container\">\r\n             <div className=\"form-title\">Your Rating</div>\r\n\r\n                <div className=\"rating-star-section\">\r\n                {this.getRatingActiveStars()}\r\n                </div>\r\n\r\n                {this.state.isRate&&<div className=\"rate-msg\"><i className=\"fas fa-exclamation\"></i> Please select rate</div>}\r\n                <div  className=\"form-title\">Your Review</div>\r\n              <textarea  className=\"review-textarea\" placeholder=\"Give us some detail about what you liked and disliked about the movie\" cols=\"30\" rows=\"5\"\r\n                name=\"txt\"\r\n                onChange={this.handleChange}\r\n                value={this.state.reviewToEdit.txt}\r\n              ></textarea>\r\n             </div>\r\n            </ReviewModal>\r\n           :null}\r\n\r\n                {movie.reviews&&movie.reviews.map(review => (\r\n                <table className=\"reviews-table\">\r\n                  <tr className=\"reviews-tr\">\r\n                    <th className=\"reviews-th th-letter\" >{review.byUser?review.byUser.substring(0, 1):\"Guest\".substring(0, 1)}</th>\r\n                     <th className=\"reviews-th th-name\">\r\n                       <div>\r\n                          <span className='reviews-th-name'>{review.byUser?review.byUser: \"Guest\"}</span>\r\n                          <span>\r\n                            \r\n                            {review.rating}/10\r\n                          </span>\r\n\r\n                       </div>\r\n                    </th>\r\n                  </tr>\r\n                  <tr className=\"reviews-tr\">\r\n                    <td className=\"reviews-td\"></td>\r\n                    <td className=\"reviews-td\"><div className=\"td-txt\">{review.txt}</div></td>\r\n                  </tr>\r\n                </table>\r\n                ))}\r\n\r\n            </div>\r\n\r\n          </section>\r\n       \r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n    favoriteList: state.movie.favoriteList,\r\n    reviews: state.review.reviews,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList,\r\n  updateMovie,\r\n  updateUser\r\n};\r\n\r\n\r\nexport const MovieDetails = connect(mapStateToProps,mapDispatchToProps)(_MovieDetails)\r\n\r\n","import httpService from './httpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  remove\r\n};\r\n\r\nfunction query(movieId) {\r\n  console.log('movieId',movieId)\r\n  var queryStr = (!movieId)? '':`?movieId=${movieId}&sort=anaAref`;\r\n  return httpService.get(`review${queryStr || ''}`);\r\n}\r\n\r\nfunction remove(reviewId) {\r\n  return httpService.delete(`review/${reviewId}`);\r\n}\r\nasync function add(review) {\r\n  const addedReview  = await httpService.post('review', review);\r\n  return  addedReview\r\n}\r\n","export const cloudinaryService = {\n    uploadImg\n}\n\nasync function uploadImg(ev) {\n    const CLOUD_NAME = \"dzvebcsrp\"\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n\n    const formData = new FormData();\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', 'mister_toy');\n    try {\n        const res = await fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n        const data = await res.json()\n        console.log(data.secure_url);\n        console.log(\"data.secure_url\");\n        return data\n\n    } catch (err) {\n        console.log(err);\n    }\n}\n","import io from 'socket.io-client'\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030/'\r\n\r\nlet socket\r\n\r\nexport const socketService = {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit,\r\n  broadcast,\r\n}\r\n\r\nfunction setup() {\r\n  socket = io.connect(BASE_URL)\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  console.log('ON SOCKET EVENT')\r\n  socket.on(eventName, cb)\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb)\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data)\r\n}\r\n\r\nfunction broadcast(eventName, data) {\r\n  socket.broadcast.emit(eventName, data)\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadReviews } from '../store/actions/reviewActions.js';\r\nimport { updateUser, toggleFavUserList } from '../store/actions/userActions.js';\r\nimport { cloudinaryService } from '../services/cloudinarySerivice';\r\n\r\n\r\n\r\nclass _UserDetails extends Component {\r\n    state = {\r\n        imgUrl:'',\r\n        name:''\r\n    }\r\n    componentDidMount() {\r\n        if(!this.props.loggedInUser){\r\n            this.props.history.goBack()\r\n        }else{\r\n            this.setState({\r\n                imgUrl:this.props.loggedInUser.avatar,\r\n                name:this.props.loggedInUser.username\r\n            })\r\n           console.log(\"this.props.loggedInUser\",this.props.loggedInUser)\r\n        }\r\n    }\r\n\r\n    \r\n    onUploadImg = async (ev) => {\r\n        ev.preventDefault()\r\n        const cloudImg = await cloudinaryService.uploadImg(ev)\r\n        const imgUrl = cloudImg.secure_url\r\n        console.log(\"onUploadImg -> imgUrl\", imgUrl)\r\n        this.setState({ ...this.state, imgUrl })\r\n\r\n    }\r\n    handleInput = (ev) => {\r\n        const field = ev.target.name\r\n        const value = ev.target.value\r\n        this.setState({ ...this.state, [field]: value })\r\n    }\r\n\r\n    onSave =ev=>{\r\n        ev.preventDefault()\r\n        const newUser = { ...this.props.loggedInUser, username:this.state.name, avatar:this.state.imgUrl}\r\n        this.props.updateUser(newUser);\r\n        this.props.closeModal()\r\n    }\r\n    removeFromFavList=(ev,movie)=>{\r\n        if(this.props.loggedInUser){\r\n          ev.stopPropagation()\r\n          this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const { loggedInUser } = this.props\r\n        const { imgUrl } = this.state\r\n        if (!loggedInUser) return <div>Loading....</div>    \r\n        return (\r\n            <React.Fragment>\r\n                <form className=\"user-details-form\" onSubmit={this.onSave} >\r\n\r\n               <div className=\"user-avatar\">\r\n                    <div style={{ backgroundImage: `url(${imgUrl})` }}></div>\r\n                    \r\n                    <label className=\"custom-file-upload\">\r\n                        <input onChange={this.onUploadImg} type=\"file\"/>\r\n                        Upload Image\r\n                    </label>\r\n               </div>\r\n\r\n               <div className=\"username\">\r\n                <div> Change your username:</div>\r\n                <input value={this.state.name} onChange={this.handleInput} type=\"text\"  name=\"name\"/>\r\n              </div>\r\n\r\n                <button onClick={this.onSave}>Save Changes</button>\r\n              </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        movies: state.movie.movies,\r\n        loggedInUser: state.user.loggedInUser,\r\n        users: state.user.users,\r\n        reviews: state.review.reviews,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadReviews,\r\n    updateUser,\r\n    toggleFavUserList\r\n  };\r\nexport const UserDetails = connect(mapStateToProps,mapDispatchToProps)(_UserDetails)","import reviewService from '../../services/reviewService';\r\n\r\nexport function loadReviews(movieId) {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query(movieId);\r\n      dispatch({ type: 'SET_REVIEWS', reviews });\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review);\r\n      dispatch({ type: 'REVIEW_ADD',  addedReview });\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err);\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n  IoMdShare,\r\n} from 'react-icons/io'\r\n\r\n\r\n\r\nexport class Toolbar extends Component {\r\n  render() {\r\n    return (\r\n      <div className={`toolbar ${this.props.fullScreenChatBackground()}`}>\r\n        <div className='user-count toolbar-icon' onClick={this.props.onGoBack}>\r\n          <i className=\"fas fa-home\" size='20px'></i>\r\n        </div>\r\n        <div className='add-user toolbar-icon' onClick={this.props.onShare}>\r\n          <a\r\n            href={`whatsapp://send?text=${window.location.href} Watch ${this.props.movie.title} Together With Friends!`}\r\n            data-action='share/whatsapp/share'\r\n            // target='_blank'\r\n            >\r\n            <IoMdShare size='20px' />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport class UserPreview extends Component {\r\n  state = {\r\n    isSelected: false,\r\n    userPosition: ['20%', '40%', '60%', '80%'],\r\n    posX: 0,\r\n  }\r\n\r\n  previewRef = React.createRef()\r\n\r\n \r\n\r\n  onUserToggle = () => {\r\n    if (this.props.user.username === this.props.currUser.username) return\r\n    this.setState({ isSelected: !this.state.isSelected })\r\n    const previewEl = this.previewRef.current\r\n    this.setState({ posX: previewEl.getBoundingClientRect().left + 25 })\r\n    console.log(\"posX:\", this.state.posX)\r\n    setTimeout(() => {\r\n      this.setState({ isSelected: false })\r\n    }, 5000)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.previewRef} className='user-preview'  style = {{ width:'50px' }}>\r\n        <div\r\n          className={`user-menu-icons ${\r\n            this.state.isSelected ? '' : 'hidden'\r\n          }`}>\r\n          <span className='user-icon follow'></span>\r\n          <span\r\n            onClick={() => this.props.sendGift('drink', this.state.posX,this.props.user)}\r\n            className='user-icon drink'></span>\r\n          <span\r\n            onClick={() => this.props.sendGift('kiss', this.state.posX,this.props.user)}\r\n            className='user-icon kiss'></span>\r\n          <span\r\n            onClick={() =>\r\n              this.props.sendGift('small-popcorn', this.state.posX,this.props.user)\r\n            }\r\n            className='user-icon small-popcorn'></span>\r\n        </div>\r\n  \r\n        <div className='user-avatar' onClick={this.onUserToggle}>\r\n          <img\r\n            src={\r\n              this.props.user.avatar\r\n                ? this.props.user.avatar\r\n                : 'https://res.cloudinary.com/dl5mlxukz/image/upload/v1601299626/samples/default-avatar_smehur.png'\r\n            } alt=\"\"></img>\r\n        </div>\r\n        <div\r\n          className='user-name'\r\n          onClick={() => {\r\n            this.props.onUsernameSelect(this.props.user)\r\n          }}>\r\n          {this.props.user.username === this.props.currUser.username\r\n            ? `${this.props.currUser.username}(Me)`\r\n            : this.props.user.username}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { UserPreview } from './UserPreview'\r\n\r\nexport class UsersCarousel extends Component {\r\n    render() {\r\n        const {users} = this.props\r\n        const responsive = {\r\n            0: { items: 4 },\r\n            400: { items: 4 },\r\n            600: { items: 5 },\r\n            700: { items: 6 },\r\n            800: { items: 3 },\r\n            1400: { items: 4 },\r\n            1600: { items: 5 },\r\n        };\r\n\r\n        \r\n        return (\r\n            <React.Fragment>\r\n            <AliceCarousel\r\n            mouseTracking\r\n            infinite\r\n            responsive={responsive}\r\n            >\r\n            { users.map((user, idx)=>\r\n                <UserPreview\r\n                key={user._id}\r\n                gift={this.props.gift} \r\n                sendGift={this.props.sendGift}\r\n                socketInfo={this.props.socketInfo}\r\n                user={user}\r\n                userIdx={idx}\r\n                currUser={this.props.currUser}\r\n                onUsernameSelect={this.props.onUsernameSelect}\r\n                ref={(el) => (this.Carousel = el)}\r\n                />\r\n            )}\r\n            </AliceCarousel>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\n\r\nclass _Search extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            search: '',\r\n            minYear: -Infinity,\r\n            maxYear: Infinity,\r\n            type: 'All'\r\n        },\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadMovies(this.state.filterBy)\r\n    }\r\n\r\n\r\n\r\n    handleInputs = (ev) => {\r\n        const field = ev.target.name\r\n        let value = ev.target.value\r\n        if(value){\r\n            this.props.toggleView('FilteredMovie')\r\n        }else{\r\n            this.props.toggleView('main') \r\n        }\r\n\r\n        this.setState({ ...this.state, filterBy: { ...this.state.filterBy, [field]: value } }, () => {\r\n                this.props.loadMovies(this.state.filterBy)\r\n        })\r\n    }\r\n\r\n    onClearSearch=()=>{\r\n        this.inputField.value = \"\"\r\n        this.props.toggleView('main')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment> \r\n               {this.props.searchingValue===\"movie\"&&<form className=\"navlink-search\">\r\n                    <div className=\"search-input-container\">\r\n                        <input placeholder=\"Search Movie\" name=\"search\" autoComplete=\"off\" onChange={ this.handleInputs} type=\"search\"  \r\n                        ref={input => this.inputField = input}\r\n                        onFocus = {() =>  this.inputField.value = \"\"}\r\n                        />\r\n                        <div className=\"search\" onClick={()=>{this.onClearSearch()} } ></div>\r\n                    </div>\r\n                </form>}\r\n\r\n                {this.props.searchingValue===\"user\"&&\r\n                    <form className=\"navlink-search\" >\r\n                        <div className=\"search-input-container\">\r\n                            <input onChange={this.props.handleInput} type=\"search\"  name=\"name\" autocomplete=\"off\" placeholder=\"Search user\" ref={input => this.inputField = input}\r\n                            onFocus = {() =>  this.inputField.value = \"\"}\r\n                            />\r\n                        <div className=\"search\" onClick={()=>{this.props.onClearInput('')}}></div>\r\n                        </div>\r\n                    </form>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        movies: state.movie.movies,\r\n        loggedInUser: state.user.loggedInUser,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadMovies,\r\n}\r\nexport const Search = connect(mapStateToProps,mapDispatchToProps)(_Search)","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport {Search} from './Search'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  IoMdShare,\r\n  IoIosPerson,\r\n} from 'react-icons/io'\r\n\r\n\r\nexport class _MobileToolbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        color: '',\r\n        active: \"\"\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setState({ active: 'home' })\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n \r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n    }\r\n  render() {\r\n    return (\r\n    <div className=\"mobile-toolbar\">\r\n\r\n        <div className=\"toolbar-btns\">\r\n            <div className={`home nav-column ${this.state.active === 'home' ? 'active-navLink' : ''}` }>\r\n                <NavLink className={`navlink-btn toolbar-btn`}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}>\r\n                    <i className=\"fas fa-home\"></i>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className='add-user toolbar-icon' onClick={this.props.onShare}>\r\n                <a\r\n                href={`whatsapp://send?text=${window.location.href} \r\n                Watch ${this.props.movie.title} Together With Friends!\r\n                `}\r\n                data-action='share/whatsapp/share'\r\n                // target='_blank'\r\n                >\r\n                    <IoMdShare size='25px' />\r\n                </a>\r\n            </div>\r\n\r\n           <div className=\"toolbar-search\">\r\n                <Search searchingValue={\"user\"} \r\n                handleInput={this.props.handleInput}\r\n                onClearInput={this.props.onClearInput}\r\n                />\r\n           </div>\r\n\r\n            <div  className='total-users-mobile'>\r\n                <IoIosPerson size='25px' color='white' />\r\n                 {this.props.users.length}\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n    }\r\n}\r\n\r\nexport const MobileToolbar = connect(mapStateToProps)(withRouter(_MobileToolbar))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { IoIosPerson } from 'react-icons/io'\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group'\r\nimport { Toolbar } from './Toolbar'\r\nimport { UsersCarousel } from './UsersCarousel'\r\nimport { MobileToolbar } from './MobileToolbar'\r\nimport {\r\n  loadUsers\r\n} from '../store/actions/userActions'\r\n\r\nexport class _UserList extends Component {\r\n  state = {\r\n    currPage: 0,\r\n    currSearch:''\r\n  }\r\n\r\n\r\n  getUsersForDisplay = () => {\r\n    let numOfUsers = 4\r\n    const myUserIdx = this.props.users.findIndex(\r\n      (user) => user._id === this.props.currUser._id\r\n    )\r\n    if (myUserIdx > 0) {\r\n      this.props.users.splice(myUserIdx, 1)\r\n      this.props.users.unshift(this.props.currUser)\r\n    }\r\n    const width = parseInt(window.innerWidth)\r\n    if (width <= 500) numOfUsers = 1\r\n    if (width > 500 && width <= 900) numOfUsers = 2\r\n    if (width > 900 && width <= 1100) numOfUsers = 3\r\n    const startUser = this.state.currPage * numOfUsers\r\n    const users = this.props.users.slice(startUser, startUser + numOfUsers)\r\n    return users\r\n  }\r\n\r\n  onMoveRight = () => {\r\n    if ((this.state.currPage + 1) * 4 < this.props.users.length) {\r\n      this.setState(function (prevState) {\r\n        return {\r\n          currPage: prevState.currPage + 1,\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  onMoveLeft = () => {\r\n    if (this.state.currPage > 0)\r\n      this.setState(function (prevState) {\r\n        return {\r\n          currPage: prevState.currPage - 1,\r\n        }\r\n      })\r\n  }\r\n\r\n  handleInput=(ev)=>{\r\n    this.setState({ currSearch: ev.target.value })\r\n  }\r\n  onClearInput=(vlaue)=>{\r\n    this.setState({ currSearch: vlaue})\r\n  }\r\n   \r\n\r\n  getFileredUsersForDisplay(){\r\n    if(this.state.currSearch){\r\n      return this.props.users.filter(user =>\r\n            user.username.toLowerCase().includes(this.state.currSearch.toLowerCase())\r\n          )\r\n    }else{\r\n      return this.props.users\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const users = this.getFileredUsersForDisplay()\r\n    return (\r\n      <div className={`user-list-container ${window.innerWidth>813?this.props.fullScreenChatBackground():\"\"}`}>\r\n        <div className=\"watch-room-users-container\">\r\n          <UsersCarousel \r\n          users={users}\r\n          gift={this.props.gift} \r\n          sendGift={this.props.sendGift}\r\n          socketInfo={this.props.socketInfo}\r\n          currUser={this.props.currUser}\r\n          onUsernameSelect={this.props.onUsernameSelect}\r\n          />\r\n        </div>\r\n        <input onChange={this.handleInput} type=\"text\"  name=\"name\" autocomplete=\"off\" placeholder=\"Search user\" className=\"search-user-input\"/>\r\n        <MobileToolbar \r\n        onShare={this.props.onShare} \r\n        movie={this.props.movie} \r\n        users={users} \r\n        handleInput={this.handleInput} \r\n        onClearInput={this.onClearInput}\r\n        onGoBack={this.props.onGoBack}/>\r\n        <Toolbar \r\n        onShare={this.props.onShare} \r\n        movie={this.props.movie} \r\n        fullScreenChatBackground={this.props.fullScreenChatBackground}\r\n        isFullScreen={this.props.isFullScreen}\r\n        toggleFullScreen={this.props.toggleFullScreen}\r\n        onGoBack={this.props.onGoBack}\r\n        />\r\n        <div className={`user-list ${this.props.fullScreenChatBackground()}`}>\r\n          <SwitchTransition mode='out-in'>\r\n            <CSSTransition\r\n              key={this.state.currPage}\r\n              addEndListener={(node, done) => {\r\n                node.addEventListener('transitionend', done, false)\r\n              }}\r\n              classNames='fade'>\r\n              <div className='users-container'>\r\n                {this.getUsersForDisplay().length < 1 ? (\r\n                  <h1>Loading...</h1>\r\n                ) : (\r\n                  <UsersCarousel \r\n                  users={users}\r\n                  gift={this.props.gift} \r\n                  sendGift={this.props.sendGift}\r\n                  socketInfo={this.props.socketInfo}\r\n                  currUser={this.props.currUser}\r\n                  onUsernameSelect={this.props.onUsernameSelect}\r\n                  />\r\n                )}\r\n              </div>\r\n            </CSSTransition>\r\n          </SwitchTransition>\r\n          <span className='total-users'>\r\n            <IoIosPerson size='15px' color='white' /> {this.props.users.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n      loggedInUser: state.user.loggedInUser, \r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadUsers,\r\n}\r\nexport const UserList = connect(mapStateToProps,mapDispatchToProps)(_UserList)","export const customEmojis = [\r\n  {\r\n    name: ':meow_party:',\r\n    short_names: ['meow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1563480763/5999/meow_party.gif?1563480763',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party_parrot:',\r\n    short_names: ['party_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1471119458/990/party_parrot.gif?1471119458',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':aww-yeah:',\r\n    short_names: ['yeah'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1488512507/1804/aaw_yeah.gif?1488512507',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ban_dance:',\r\n    short_names: ['banana'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450694616/220/bananadance.gif?1450694616',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':meow_heart:',\r\n    short_names: ['meow_heart'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1596061862/9845/meow_heart.png?1596061862',\r\n    customCategory: 'Gif',\r\n  },\r\n\r\n  {\r\n    name: ':meow_popcorn:',\r\n    short_names: ['meow_popcorn'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1568064900/6383/meow-popcorn.gif?1568064900',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':sad:',\r\n    short_names: ['fbsad'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594314837/9661/fbsad.gif?1594314837',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':nice:',\r\n    short_names: ['nice'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1599588897/10418/nice.png?1599588897',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':wow:',\r\n    short_names: ['fbwow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594314885/9662/fbwow.gif?1594314885',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':hearteyes:',\r\n    short_names: ['heart'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340467/4971/hearteyes.gif?1542340467',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party:',\r\n    short_names: ['party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340469/4975/party.gif?1542340469',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':facepalm:',\r\n    short_names: ['facepalm'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340464/4967/facepalm.gif?1542340464',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':anger:',\r\n    short_names: ['anger'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340458/4962/anger.gif?1542340458',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':watching-you:',\r\n    short_names: ['watching-you'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':blush:',\r\n    short_names: ['blush'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340460/4963/blush.gif?1542340460',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':yuck:',\r\n    short_names: ['yuck'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4983/yuck.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':giggle:',\r\n    short_names: ['giggle'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340466/4970/giggle.gif?1542340466',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':watch:',\r\n    short_names: ['watching'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':shh:',\r\n    short_names: ['shh'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340470/4977/shhh.gif?1542340470',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':lol:',\r\n    short_names: ['lol'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340468/4973/lol.gif?1542340468',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':flyingkiss:',\r\n    short_names: ['kiss'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340465/4969/flying-kiss.gif?1542340465',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':alert:',\r\n    short_names: ['alert'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1497901371/2453/alert.gif?1497901371',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':pika:',\r\n    short_names: ['pika'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1579216111/7550/pikachu_wave.gif?1579216111',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':angel_parrot:',\r\n    short_names: ['angel_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1578626548/7489/angel_parrot.gif?1578626548',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':a-parrot:',\r\n    short_names: ['a-parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1512661804/3258/a-parrot.gif?1512661804',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':bunny_parrot:',\r\n    short_names: ['bunny_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609843/10048/bunny_parrot.gif?1597609843',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':everythings_fine_parrot:',\r\n    short_names: ['everythings_fine_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10064/everythings_fine_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':doc_parrot:',\r\n    short_names: ['doc_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10063/doc_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':evil_parrot:',\r\n    short_names: ['evil_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10065/evil_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':headbanging_parrot:',\r\n    short_names: ['headbanging_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609860/10080/headbanging_parrot.gif?1597609860',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':hypno_parrot_dark:',\r\n    short_names: ['hypno_parrot_dark'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609863/10086/hypno_parrot_dark.gif?1597609863',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':popcorn_parrot:',\r\n    short_names: ['popcorn_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1495224267/2309/popcorn_parrot.gif?1495224267',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':unicorn_parrot:',\r\n    short_names: ['unicorn_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609906/10161/unicorn_parrot.gif?1597609906',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':troll-parrot:',\r\n    short_names: ['troll-parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1533926586/4455/troll-parrot.gif?1533926586',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ultra_fast_parrot:',\r\n    short_names: ['ultra_fast_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609906/10160/ultra_fast_parrot.gif?1597609906',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':thegrokeparrot:',\r\n    short_names: ['thegrokeparrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1567421610/6303/thegrokeparrot.gif?1567421610',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_party:',\r\n    short_names: ['among_us_party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479284/10796/among_us_party.gif?1605479284',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party_blob:',\r\n    short_names: ['party_blob'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1547582922/5197/party_blob.gif?1547582922',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ahhhhhhhhh:',\r\n    short_names: ['ahhhhhhhhh'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1558099591/5711/ahhhhhhhhh.gif?1558099591',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_orange_dance:',\r\n    short_names: ['among_us_orange_dance'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605722420/11386/among_us_orange_dance.gif?1605722420',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':crewmate:',\r\n    short_names: ['crewmate'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479278/11110/crewmate.gif?1605479278',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_dead:',\r\n    short_names: ['among_us_dead'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479285/10741/among_us_dead.png?1605479285',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':among_us_voted:',\r\n    short_names: ['among_us_voted'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479301/11160/among_us_voted.png?1605479301',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':nightking:',\r\n    short_names: ['nightking'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301698/5612/nightking.png?1555301698',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':johnsnow:',\r\n    short_names: ['johnsnow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301587/5608/johnsnow.png?1555301587',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':daenery:',\r\n    short_names: ['daenery'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301439/5604/daenery.png?1555301439',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':cersei:',\r\n    short_names: ['cersei'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301396/5603/cersei.png?1555301396',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':nyancat_big:',\r\n    short_names: ['nyancat_big'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450458551/184/nyancat_big.gif?1450458551',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':eevee:',\r\n    short_names: ['eevee'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080836/1363/eevee.gif?1479080836',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':vaporeon:',\r\n    short_names: ['vaporeon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479081197/1368/vaporeon.gif?1479081197',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':jolteon:',\r\n    short_names: ['jolteon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080759/1360/jolteon.gif?1479080759',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':espeon:',\r\n    short_names: ['espeon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080869/1364/espeon.gif?1479080869',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':mewtwo:',\r\n    short_names: ['mewtwo'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450736076/242/mewtwo.png?1450736076',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':poke_pika_wink:',\r\n    short_names: ['poke_pika_wink'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1472722300/1128/poke_pika_wink.png?1472722300',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':kirby:',\r\n    short_names: ['kirby'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450716258/223/kirby.gif?1450716258',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':coin:',\r\n    short_names: ['coin'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1490884029/1971/coin.gif?1490884029',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':baby-yoda:',\r\n    short_names: ['baby-yoda'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1575297777/7233/baby-yoda.png?1575297777',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':storm_trooper:',\r\n    short_names: ['storm_trooper'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1526741134/3958/storm_trooper.gif?1526741134',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':baby-yoda-soup:',\r\n    short_names: ['baby-yoda-soup'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1575409644/7248/baby-yoda-soup.gif?1575409644',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':baby_yoda:',\r\n    short_names: ['baby-yoda'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1591793668/9336/baby-yoda.gif?1591793668',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':love:',\r\n    short_names: ['love'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1492722354/2080/love.gif?1492722354',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':sheepy:',\r\n    short_names: ['sheepy'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450319441/5/sheepy.gif?1450319441',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':kermit_typing:',\r\n    short_names: ['kermit_typing'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1608026376/11743/kermit_typing.gif?1608026376',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':smudge:',\r\n    short_names: ['smudge'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1606826279/11557/smudge.png?1606826279',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':holy-poop:',\r\n    short_names: ['holy-poop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594751185/9689/holy-poop.png?1594751185',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':rage-poop:',\r\n    short_names: ['rage-poop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1526489538/3928/rage-poop.png?1526489538',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':goldpoop:',\r\n    short_names: ['goldpoop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1565740433/6175/goldpoop.png?1565740433',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':poop_fire:',\r\n    short_names: ['poop_fire'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1559173484/5752/poop_fire.gif?1559173484',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':trolldance:',\r\n    short_names: ['trolldance'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1477057420/1271/trolldance.gif?1477057420',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':troll:',\r\n    short_names: ['troll'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1463602125/429/troll.png?1463602125',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':coronavirus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1582658942/7898/coronavirus.png?1582658942',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':corona-virus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1580374434/7652/coronavirus.png?1580374434',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':corona-highfive:',\r\n    short_names: ['corona-highfive'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1600175068/10466/corona-highfive.gif?1600175068',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':corona_virus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1583409623/7970/coronavirus.png?1583409623',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':corona_party:',\r\n    short_names: ['corona_party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1592398908/9398/corona_party.gif?1592398908',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':angry_trump:',\r\n    short_names: ['angry_trump'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450319451/91/angry_trump.jpg?1450319451',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':viking_parrot:',\r\n    short_names: ['viking_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609908/10164/viking_parrot.gif?1597609908',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':zouk_parrot:',\r\n    short_names: ['zouk_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609915/10178/zouk_parrot.gif?1597609915',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':jumping_parrot_jr:',\r\n    short_names: ['jumping_parrot_jr'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609868/10095/jumping_parrot_jr.gif?1597609868',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':virusparrot:',\r\n    short_names: ['virusparrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1583753108/8026/virusparrot.png?1583753108',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':cr_angry:',\r\n    short_names: ['cr_angry'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1563480734/5984/cr_angry.gif?1563480734',\r\n    customCategory: 'Gif',\r\n  },\r\n]\r\n","export const msgList1 = [\r\n  {\r\n    type: '',\r\n    from: 'Angela',\r\n    to: '',\r\n    txt: 'Seriously? How did he do that...',\r\n    nameColor: 'purple',\r\n    senderId: '10001',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'David Bowie',\r\n    to: '',\r\n    txt: 'lets rock!! :aww-yeah: :headbanging_parrot:',\r\n    nameColor: 'red',\r\n    senderId: '10002',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'M.Jackson',\r\n    to: '',\r\n    nameColor: 'darkgreen',\r\n    txt: 'wow this movie is **** :yuck:',\r\n    senderId: '10003',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Angela',\r\n    to: '',\r\n    nameColor: 'purple',\r\n    txt: ' :lol: ',\r\n    senderId: '10001',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Christy',\r\n    to: '',\r\n    nameColor: 'darkorange',\r\n    txt: 'I know what will happen next',\r\n    senderId: '10005',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Sandra',\r\n    nameColor: 'brown',\r\n    to: '',\r\n    txt: 'no spoilers please! :rage-poop: :watching-you: ',\r\n    senderId: '10004',\r\n  },\r\n]\r\n","import React, { Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from '../services/socketService'\r\nimport { IoMdSend, IoIosHappy } from 'react-icons/io'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\nimport { UserList } from './UserList'\r\nimport { customEmojis } from '../data/emojis'\r\nimport uuid from 'react-uuid'\r\nimport RSC from 'react-scrollbars-custom'\r\nimport { msgList1 } from '../data/msgs1'\r\nimport Particles from 'react-particles-js'\r\n\r\n\r\nclass _Chat extends Component {\r\n  state = {\r\n    currUser: null,\r\n    msg: {\r\n      type: '',\r\n      from: '',\r\n      to: '',\r\n      txt: '',\r\n      senderId: '',\r\n      user:null,\r\n      sendedMsg:''\r\n    },\r\n    msgList: [],\r\n    users: [],\r\n    giftName: '',\r\n    showGift: '',\r\n    showRecivedGift: '',\r\n    showRecivedMsg: '',\r\n    giftPosition: '',\r\n    socketInfo:[],\r\n    gift:{},\r\n    gifts:[],\r\n    msgForUser:{},\r\n    msgsFromUsers:[],\r\n    popupVisible: false,\r\n  }\r\n\r\n  inputRef = React.createRef()\r\n  scrollBarRef = React.createRef()\r\n\r\n\r\n  handleClick=() =>{\r\n    if (!this.state.popupVisible) {\r\n      // attach/remove emojies picker\r\n      document.addEventListener('click', this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener('click', this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n       popupVisible: !prevState.popupVisible,\r\n    }));\r\n  }\r\n\r\n  handleOutsideClick=(e)=> {\r\n    // ignore clicks on the component itself( the emojies picker )\r\n    if (this.node.contains(e.target)) {\r\n      return;\r\n    }\r\n    \r\n    this.handleClick();\r\n  }\r\n\r\n  rotatedGiftTxt=(gift)=>{\r\n    let chars;\r\n    switch(gift.name) {\r\n      case 'kiss':\r\n        chars =`XOXO`.split(\"\")\r\n        return chars;\r\n      case 'drink':\r\n        chars =`Drink on me!`.split(\"\")\r\n        return chars;\r\n      case 'small-popcorn':\r\n        chars =`What's Poppin?`.split(\"\")\r\n        return chars;\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.cleanUp)\r\n    if (this.props.currUser) this.setState({ currUser: this.props.currUser })\r\n    this.setupSockets()\r\n    this.setState({ msgList: msgList1 })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.cleanUp()\r\n    window.removeEventListener('beforeunload', this.cleanUp)\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollDown()\r\n  }\r\n\r\n  setupSockets = () => {\r\n    socketService.emit('chat room', {\r\n      roomId: this.props.roomId,\r\n      user: this.props.currUser,\r\n    })\r\n    socketService.on('chat room', (users, newUser, firstUser) => {\r\n      console.log(\"firstUser: \",firstUser)\r\n      this.setState({ users })\r\n      if (!this.state.currUser) {\r\n        this.setState({ currUser: newUser },()=>{\r\n          console.log(\"this.state.currUser123:\",this.state.currUser)\r\n        })\r\n      }\r\n      this.props.onAddNewUser(users, newUser, firstUser)\r\n    })\r\n    socketService.on('chat', (msg) => {\r\n      this.setState({ msgList: [...this.state.msgList, msg] })\r\n    })\r\n    socketService.on('remove-user', (users, firstUser) => {\r\n      this.setState({ users })\r\n    })\r\n    socketService.on('receive-gift', (_gift) => {\r\n      console.log('RECEIVING NEW gift FROM SOCKET: ', _gift.name)\r\n\r\n      this.setState({ gift:{_gift,showRecivedGift:true }})\r\n      let gift={\r\n        ..._gift,\r\n        id:uuid(),\r\n        showRecivedGift:true \r\n      }\r\n      this.setState({ gifts:[...this.state.gifts,gift] },()=>{\r\n        setTimeout(() => {\r\n          const newGifts = this.state.gifts.filter(_gift=>_gift.id!==gift.id)\r\n          this.setState({ gifts:newGifts})\r\n        }, 5500)\r\n        console.log('this.state.gifts-->',this.state.gifts)\r\n      })\r\n    })\r\n\r\n\r\n    socketService.on('receive-msg', (msg) => {\r\n      console.log('RECEIVING NEW msg FROM SOCKET: ', msg)\r\n      const currMsg = {\r\n        txt:msg.txt,\r\n        from:msg.from,\r\n        to:msg.to,\r\n        sendedMsg:msg.sendedMsg,\r\n        id:uuid(),\r\n        showRecivedMsg:true\r\n      }\r\n      this.setState({ msgForUser:currMsg })\r\n      this.setState({ msgsFromUsers:[...this.state.msgsFromUsers,currMsg] },()=>{\r\n        setTimeout(() => {\r\n          const newMsgs = this.state.msgsFromUsers.filter(_msg=>_msg.id!==currMsg.id)\r\n          this.setState({ msgsFromUsers:newMsgs})\r\n        }, 10000)\r\n      })\r\n    })\r\n  } \r\n\r\n\r\n  cleanUp = () => {\r\n    if (this.state.currUser)\r\n      socketService.emit('remove-user', {\r\n        userId: this.state.currUser._id,\r\n        userRoom: this.props.roomId,\r\n      })\r\n    socketService.terminate()\r\n  }\r\n\r\n  onMsgSend = () => {\r\n    if (this.state.msg.txt !== '') this.sendMsg()\r\n  }\r\n\r\n  onMsgEnter = (ev) => {\r\n    if (ev.key === 'Enter' && this.state.msg.txt !== '') this.sendMsg()\r\n  }\r\n\r\n  sendMsg = () => {\r\n    let msg = this.state.msg\r\n    msg.from = this.state.currUser.username\r\n    msg.senderId = this.state.currUser._id\r\n    socketService.emit('chat', msg)\r\n    if(this.state.msg.txt.charAt(0)===\"@\"){\r\n      console.log('receive-msg')\r\n      console.log('receive-msg from',this.state.currUser)\r\n      console.log('receive-msg to',this.state.msg.user)\r\n      socketService.emit('receive-msg',{from:this.state.currUser, user:this.state.msg.user, txt: this.state.msg.txt, sendedMsg: this.state.msg.sendedMsg, to:this.state.msg.to })\r\n    }\r\n    this.removeMsg()\r\n    this.props.hideEmojis()\r\n  }\r\n\r\n  closeMsg=(currMsg)=>{\r\n    const newMsgs = this.state.msgsFromUsers.filter(_msg=>_msg.id!==currMsg.id)\r\n    this.setState({ msgsFromUsers:newMsgs})\r\n  }\r\n\r\n  onMsgInput = (ev) => {\r\n    const msg = this.state.msg\r\n    msg.txt = ev.target.value\r\n    this.setState({ msg })\r\n  }\r\n\r\n  onEmojiSelect = (emoji) => {\r\n    let msg = this.state.msg\r\n    if (emoji.native) {\r\n      msg.txt += emoji.native\r\n      this.setState({\r\n        msg,\r\n      })\r\n    } else {\r\n      msg.txt += emoji.name\r\n      this.setState({\r\n        msg,\r\n      })\r\n    }\r\n  }\r\n\r\n  onUsernameSelect = (user) => {\r\n    if (user._id === this.state.currUser._id) return\r\n    const input = this.inputRef.current\r\n    input.value = '@' + user.username + ' '\r\n    const msg = { to: user.username, txt: input.value ,user}\r\n    this.setState({ msg })\r\n    input.focus()\r\n  } \r\n  \r\n  ReplyToSender = (user,sendedMsg) => {\r\n    if (user._id === this.state.currUser._id) return\r\n    const input = this.inputRef.current\r\n    input.value = '@' + user.username + ' '\r\n    const msg = { to: user.username, txt: input.value ,user, sendedMsg}\r\n    this.setState({ msg })\r\n    input.focus()\r\n  }\r\n\r\n  sendGift = (giftName, giftPosition, user) => {\r\n    this.setState({ giftName, showGift: true, giftPosition})\r\n    console.log('GIFT POSITION: ', giftPosition)\r\n    console.log('user that recived gift: ', user)\r\n    let gift={\r\n      user,\r\n      giftName,\r\n      sender:this.state.currUser\r\n    }\r\n    socketService.emit('receive-gift',{gift})\r\n    setTimeout(() => {\r\n      this.setState({ showGift: false })\r\n    }, 2000)\r\n  }\r\n\r\n\r\n  removeMsg = () => {\r\n    const msg = {\r\n      type: '',\r\n      from: '',\r\n      to: '',\r\n      txt: '',\r\n    }\r\n    const privateMsg = {\r\n      isPrivate: false,\r\n      to: '',\r\n    }\r\n    this.setState({ privateMsg })\r\n    this.setState({ msg })\r\n  }\r\n\r\n  replaceWithGif = (msg) => {\r\n    msg = this.replaceWithTagName(msg)\r\n    let result = msg\r\n    customEmojis.forEach((em) => {\r\n      const emoji = `\r\n      <img src=${em.imageUrl} className='gif-img'></img>\r\n    ` \r\n    const trolldance = `\r\n      <img src=${em.imageUrl} className='gif-img gif-img-trolldance'></img>\r\n    `\r\n      let temp = ''\r\n      while (result !== temp) {\r\n        temp = result\r\n        const searchStr = em.name\r\n        if(searchStr===\":trolldance:\"){\r\n          result = result.replace(searchStr, trolldance)\r\n        }else{\r\n          result = result.replace(searchStr, emoji)\r\n        }\r\n      }\r\n    })\r\n    return result\r\n  }\r\n\r\n  replaceWithTagName = (msg) => {\r\n    let result = msg\r\n    this.state.users.forEach((user) => {\r\n      const tagname = `<span className='name-tag'>${user.username}</span>`\r\n      const searchStr = user.username\r\n      result = result.replace(searchStr, tagname)\r\n      // result = result.replace('@', '')\r\n    })\r\n    return result\r\n  }\r\n\r\n  scrollDown = () => {\r\n    const scrollBar = this.scrollBarRef.current\r\n    if (scrollBar) scrollBar.scrollToBottom()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    if (!this.state.currUser) return <div>Loading...</div>\r\n    return (\r\n      <React.Fragment>\r\n{this.state.msgsFromUsers.map(msgForUser=>\r\n\r\n  <div className={`msgForUser ${!msgForUser.showRecivedMsg ? 'hidden' : \"slide-left\"}`}>\r\n  {msgForUser.sendedMsg&&\r\n      <div className=\"old-msg\">\r\n          <span>About:</span>\r\n          <span dangerouslySetInnerHTML={{__html: this.replaceWithGif(msgForUser.sendedMsg.slice(msgForUser.to.length+1)),}}></span>\r\n      </div>\r\n  }\r\n\r\n  <div className=\"new-msg\">\r\n    <div  className=\"sender-avatar-container\" >\r\n    <div className=\"sender-avatar\" \r\n    style={{backgroundImage: `url(${\r\n        msgForUser.from.avatar ? msgForUser.from.avatar : ''})`,}}></div>\r\n    </div>\r\n    <div className=\"sender-msg-container\">\r\n        <div className=\"sender-msg-name\">{msgForUser.from.username}</div>\r\n        <div className=\"sender-msg-txt\" dangerouslySetInnerHTML={{__html: this.replaceWithGif(msgForUser.txt.slice(msgForUser.to.length+1)),}}></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div className=\"reply-btn\" onClick={()=>{this.ReplyToSender(msgForUser.from, msgForUser.txt)}}>Reply</div>\r\n\r\n  <div className=\"close-msg\" onClick={()=>{this.closeMsg(msgForUser)}}>X</div>\r\n</div>\r\n)}\r\n        \r\n        \r\n\r\n        {this.state.gifts.map(gift=>\r\n        gift.showRecivedGift?\r\n <div className={`recived-gift sended-gift sended-${gift.name} ${\r\n  !gift.showRecivedGift ? 'hidden' : \"start-animation\"\r\n}`}>\r\n  <h1>\r\n    {this.rotatedGiftTxt(gift).map((char,idx)=>\r\n        <span className={`char char-${idx+1}`} key={idx}>\r\n            {char}\r\n        </span>\r\n    )}\r\n  </h1>\r\n  <div className=\"gift-sender\">\r\n    <div className=\"avatar-container\">\r\n      <div className=\"avatar-img\" style={{\r\n        backgroundImage: `url(${\r\n          gift.sender.avatar ? gift.sender.avatar : ''\r\n        })`,\r\n      }}></div>\r\n    </div>\r\n      <div className=\"name\">{gift.sender.username}</div>\r\n  </div>\r\n</div>:''\r\n        )}\r\n\r\n      <section className={`chat ${this.props.fullScreenChat()}`}>\r\n        {this.props.isVisible&&\r\n        <UserList\r\n          socketInfo={this.state.socketInfo}\r\n          msgForUser={this.state.msgForUser}\r\n          movie={this.props.movie}\r\n          sendGift={this.sendGift}\r\n          users={this.state.users}\r\n          currUser={this.state.currUser}\r\n          onUsernameSelect={this.onUsernameSelect}\r\n          fullScreenChatBackground={this.props.fullScreenChatBackground}\r\n          isFullScreen={this.props.isFullScreen}\r\n          toggleFullScreen={this.props.toggleFullScreen}\r\n          onGoBack={this.props.onGoBack}\r\n        />}\r\n        <div className={`chat-window ${window.innerWidth>813?this.props.fullScreenChatBackground():\"\"}`}>\r\n\r\n        {this.props.showParticles&&<Particles \r\n          canvasClassName='chat-particles'\r\n          params={{\r\n            particles:{number:{value:160,density:{enable:true,value_area:800}},color:{value:'#f01548'},shape:{type:'circle',stroke:{width:0,color:'#000000'},polygon:{nb_sides:5},image:{src:'img/github.svg',width:100,height:100}},opacity:{value:1,random:true,anim:{enable:true,speed:1,opacity_min:0,sync:false}},size:{value:3,random:true,anim:{enable:false,speed:4,size_min:0.3,sync:false}},line_linked:{enable:false,distance:150,color:'#ffffff',opacity:0.4,width:1},move:{enable:true,speed:1,direction:'none',random:true,straight:false,out_mode:'out',bounce:false,attract:{enable:false,rotateX:600,rotateY:600}}},interactivity:{detect_on:'canvas',events:{onhover:{enable:true,mode:'bubble'},onclick:{enable:true,mode:'repulse'},resize:true},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:0.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:true\r\n          }}></Particles>\r\n\r\n          }\r\n\r\n\r\n          <div className='chat-box' ref={node => { this.node = node; }} >\r\n            {this.props.isChatVisible&&<RSC\r\n              ref={this.scrollBarRef}\r\n              // className='chat-box'\r\n              style={{ color: 'red', \r\n              direction:'rtl' }}>\r\n              {this.state.msgList.map((msg) => (\r\n                <div\r\n                  key={uuid()} \r\n                  style={{ direction:'ltr' }}\r\n                  className={`msg-container ${\r\n                    this.state.currUser &&\r\n                    msg.senderId === this.state.currUser._id\r\n                      ? 'left'\r\n                      : 'right'\r\n                  }-msg ${this.props.fullScreenMsg()}`}>\r\n                  <div\r\n                    className={`chat-msg from-${\r\n                      this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ? 'me'\r\n                        : 'user'\r\n                    } ${this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ?this.props.fullScreenMessageMe():this.props.fullScreenMessageUser()}`}\r\n                    key={uuid()}>\r\n                    <div\r\n                      className='msg-sender'\r\n                    >\r\n                      {this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ? 'Me'\r\n                        : msg.from}\r\n                    </div>\r\n                    <div\r\n                      className='msg-content'\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: this.replaceWithGif(msg.txt),\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </RSC>}\r\n            <div\r\n              className={`gift ${\r\n                !this.state.showGift ? 'hidden' : this.state.giftName\r\n              }`}\r\n              style={{ left: `${this.state.giftPosition}px` }}>\r\n            </div>\r\n           {\r\n          this.state.popupVisible &&\r\n             <div \r\n              className='emojis'\r\n              >\r\n              <Picker\r\n                style={{ width: '100%' }}\r\n                custom={customEmojis}\r\n                theme='light'\r\n                perLine={6}\r\n                showPreview={false}\r\n                showSkinTones={false}\r\n                onSelect={this.onEmojiSelect}\r\n                // onClick={this.on}\r\n                exclude={[\r\n                  'flags',\r\n                  'symbols',\r\n                  'nature',\r\n                  'search',\r\n                  'places',\r\n                  'objects',\r\n                  'activity',\r\n                ]}\r\n                emojiTooltip={true}\r\n              />\r\n            </div>}\r\n          </div>\r\n\r\n          {this.props.isChatVisible&&<div className={`chat-input ${this.props.fullScreenInput()}`}>\r\n            <input\r\n              ref={this.inputRef}\r\n              type='text'\r\n              value={this.state.msg.txt}\r\n              placeholder='Type a message'\r\n              onChange={this.onMsgInput}\r\n              onKeyPress={this.onMsgEnter}\r\n              onFocus={this.props.hideEmojis}\r\n            />\r\n            <div\r\n              className={`input-icon ${\r\n                this.state.msg.txt === '' ? '' : 'msg-content'\r\n              }`}>\r\n              <IoMdSend size='20px' onClick={this.onMsgSend} />\r\n            </div>\r\n            <div\r\n              className={`input-icon emoji ${\r\n                this.props.showEmojis ? 'selected' : ''\r\n              }`}\r\n              onClick={this.handleClick}\r\n              >\r\n              <IoIosHappy size='20px' />\r\n            </div>\r\n          </div>}\r\n        </div>\r\n\r\n\r\n      </section>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n      loggedInUser: state.user.loggedInUser, \r\n  }\r\n}\r\n\r\nexport const Chat = connect(mapStateToProps)(_Chat)","import React from 'react'\r\n\r\nexport class ReactionPicker extends React.Component {\r\n  state = {\r\n    reactions: ['like', 'heart', 'angry', 'sad', 'wow', 'lol'],\r\n  }\r\n  render() {\r\n    const { onSelectReaction } = this.props\r\n    return (\r\n      <div className='reactions-menu'>\r\n        {this.state.reactions.map((emoji,idx) => (\r\n          <span\r\n            key={idx}\r\n            className={`reaction ${emoji}`}\r\n            onClick={() => {\r\n              onSelectReaction(emoji)\r\n            }}></span>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { IoIosVolumeLow, IoIosThumbsUp } from 'react-icons/io'\r\nimport uuid from 'react-uuid'\r\nimport { ReactionPicker } from './ReactionPicker'\r\nimport { socketService } from '../services/socketService'\r\n\r\nexport class VideoControls extends React.Component {\r\n  state = {\r\n    showVolume: false,\r\n    showReactions: false,\r\n    reactions: [],\r\n    reactionIds: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    socketService.on('reactions', (reaction) => {\r\n      this.setState({ reactions: [...this.state.reactions, reaction] })\r\n    })\r\n    socketService.on('reaction-delete', (id) => {\r\n      this.removeReaction(id)\r\n    })\r\n  } \r\n\r\n  componentWillUnmount(){\r\n    this.setState({ reactions:[] })\r\n  }\r\n\r\n  onSelectReaction = (type) => {\r\n    const newReaction = { id: uuid(), type, posX:this.getRandomNum(5, 8)}\r\n    this.setState({ reactions: [...this.state.reactions, newReaction] })\r\n    socketService.emit('reactions', newReaction)\r\n    setTimeout(() => {\r\n      socketService.emit('reaction-delete', newReaction.id)\r\n    }, 2000)\r\n    this.removeReaction(newReaction.id)\r\n  }\r\n\r\n  getRandomNum = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min\r\n  }\r\n\r\n  removeReaction = (id) => {\r\n    let reactions = this.state.reactions\r\n    reactions = reactions.filter((reaction) => reaction.id !== id)\r\n    this.setState({ reactions })\r\n  }\r\n\r\n  onToggleReactions = () => {\r\n    this.setState({ showReactions: !this.state.showReactions })\r\n  }\r\n\r\n  hideReactions = () => {\r\n    this.setState({ showReactions: false })\r\n  }\r\n\r\n  changeVolume = (ev) => {\r\n    this.props.onVolumeChange(ev.target.value)\r\n  }\r\n\r\n  onVolumeToggle = () => {\r\n    this.setState({ showVolume: !this.state.showVolume })\r\n  }\r\n\r\n  hideVolume = () => {\r\n    this.setState({ showVolume: false })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`control-panel ${this.props.fullScreenControlPanel()}`}>\r\n        <div className='reactions' onClick={this.onToggleReactions}>\r\n          <div\r\n            className={`reactions-container ${\r\n              this.state.showReactions ? '' : 'hidden'\r\n            }`}>\r\n            <ReactionPicker\r\n              hideReactions={this.hideReactions}\r\n              onSelectReaction={this.onSelectReaction}\r\n            />\r\n          </div>\r\n\r\n          <IoIosThumbsUp style={{ width: '70%', height: '70%' }} />\r\n        </div>\r\n\r\n       \r\n        <div onClick={this.props.onTogglePlay} className=\"movie-play-btn\">\r\n        {this.props.isPlaying?<i className=\"fas fa-grip-lines-vertical\"></i>:<i className=\"fas fa-play\"></i>}\r\n        </div>\r\n\r\n        <div className='volume' onClick={this.onVolumeToggle}>\r\n          <input\r\n            type='range'\r\n            id='volume'\r\n            className={this.state.showVolume ? '' : 'hidden'}\r\n            name='volume'\r\n            min='0'\r\n            max='1'\r\n            step='0.01'\r\n            value={this.props.volume}\r\n            onChange={this.changeVolume}></input>\r\n          <IoIosVolumeLow style={{ width: '100%', height: '100%' }} />\r\n        </div>\r\n        \r\n        <div onClick={this.props.toggleFullScreen} className=\"full-sceen-btn\">\r\n          {!this.props.isFullScreen&&<i className=\"fas fa-expand-arrows-alt\"></i>}\r\n          {this.props.isFullScreen&&<i className=\"fas fa-compress-arrows-alt\"></i>}\r\n        </div>\r\n\r\n        {this.state.reactions.map((reaction) => (\r\n          <div\r\n            style={{ right: `${reaction.posX}%` }}\r\n            key={reaction.id}\r\n            className={`reaction-animation ${reaction.type}`}></div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group'\r\n\r\nexport class MovieLoader extends React.Component {\r\n  state = {\r\n    phrases: ['Grab your popcorn', 'Enjoy!'],\r\n    currTxt: 'Take a seat',\r\n    txtInterval: null,\r\n    hideSpinner: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.animateText()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ txtInterval: null })\r\n  }\r\n\r\n  animateText = () => {\r\n    let counter = 0\r\n    const txtInterval = setInterval(() => {\r\n      if (this.state.phrases[counter] === 'Enjoy')\r\n        this.setState({ hideSpinner: true })\r\n      if (counter < 2) this.setState({ currTxt: this.state.phrases[counter] })\r\n      counter++\r\n    }, 2000)\r\n    this.setState({ txtInterval })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='movie-loader'>\r\n        <div className={this.state.hideSpinner ? 'hidden' : 'red-spinner'}>\r\n          <img\r\n            style={{ width: '100%', height: '100%' }}\r\n            src='https://i.gifer.com/8Etj.gif'\r\n            alt=''\r\n          />\r\n        </div>\r\n        <div>\r\n          <SwitchTransition mode='out-in'>\r\n            <CSSTransition\r\n              key={this.state.currTxt}\r\n              addEndListener={(node, done) => {\r\n                node.addEventListener('transitionend', done, false)\r\n              }}\r\n              classNames='phrase'>\r\n              <div\r\n                className={`phrases ${this.state.hideSpinner?'large-text' : ''}`}>\r\n                {this.state.currTxt}\r\n              </div>\r\n            </CSSTransition>\r\n          </SwitchTransition>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport ReactPlayer from 'react-player'\r\nimport { movieService } from '../services/movieService'\r\nimport { socketService } from '../services/socketService'\r\nimport { Chat } from '../cmps/Chat'\r\nimport { VideoControls } from '../cmps/VideoControls'\r\nimport { MovieLoader } from '../cmps/MovieLoader'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\n\r\nexport class _Room extends Component {\r\n  state = {\r\n    movie: null,\r\n    showVideo: false,\r\n    volume: 0.2,\r\n    currTime: 1,\r\n    timeSet: false,\r\n    currUser: null,\r\n    isFullScreen:false,\r\n    showParticles:true,\r\n    isVisible:true,\r\n    isChatVisible:true,\r\n    startX:0,\r\n    startY:0,\r\n    endX:0,\r\n    endY:0,\r\n    showEmojis: false,\r\n    duration: null,\r\n    played:null,\r\n    secondsElapsed: null,\r\n    notFirstUser:false,\r\n    newUser:{},\r\n    allowedToJoin:false,\r\n    request:false,\r\n    isFirstUser:false,\r\n    firstUser:{},\r\n    isPlaying:true\r\n\r\n  }\r\n\r\n  playerRef = React.createRef()\r\n \r\n  componentDidMount() {\r\n    this.loadMovie()\r\n    this.setState({ currUser: this.props.loggedInUser })\r\n    socketService.setup()\r\n    socketService.on('get-first-user', (data) => {\r\n      this.setState({isFirstUser:data.isFirstUser})\r\n    })\r\n    socketService.on('sending-request-for-approval', (data) => {\r\n      socketService.emit('sending-currTime-to-user',{newUser:data.newUser,currTime:this.state.currTime})\r\n    })\r\n    socketService.on('toggle-play-btn', (isPlaying) => {\r\n      this.setState({isPlaying})\r\n    })\r\n  }\r\n\r\n  onTogglePlay=()=>{\r\n    this.setState({isPlaying:!this.state.isPlaying},()=>{\r\n      socketService.emit('toggle-play-btn', this.state.isPlaying)\r\n    })\r\n\r\n    \r\n  }\r\n\r\n  onAddNewUser=(users, newUser, firstUser)=>{\r\n    if(newUser._id===firstUser._id){\r\n      this.setState({ allowedToJoin: true })\r\n      this.setState({firstUser:firstUser})\r\n      this.setState({isFirstUser:true})\r\n    }else{\r\n      this.setState({isFirstUser:false})\r\n      this.setState({ allowedToJoin: false })\r\n      console.log(\"bbbbbbbbbbbbbbbbbb\",firstUser)\r\n      firstUser&&socketService.emit('get-first-user', firstUser)\r\n      firstUser&&socketService.emit('sending-request-for-approval', {newUser,firstUser})\r\n      socketService.on('sending-currTime-to-user', (data) => {\r\n        this.setState({currTime:data.currTime})\r\n        this.setState({ allowedToJoin: true })\r\n      })\r\n    }\r\n  }\r\n\r\n  onDuration = (duration) =>{\r\n    console.log(\"onDuration:\",duration)\r\n    this.setState({duration})\r\n  }\r\n\r\n  onProgress=(progress)=>{\r\n    if(!this.state.isPlaying)return\r\n    if (!this.state.showVideo) {\r\n          setTimeout(() => {\r\n            this.setState({ showVideo: true })\r\n          }, 6500)\r\n        }\r\n    if(this.state.isFirstUser){\r\n      console.log(\"this.state.currTime\",this.state.currTime)\r\n      let player = this.playerRef.current\r\n        if (player && !this.state.timeSet&&this.state.allowedToJoin ) {\r\n          player.seekTo(this.state.currTime, 'seconds')\r\n          this.setState({ timeSet: true })\r\n      }\r\n      if(!this.state.duration) return\r\n      const secondsElapsed = progress.played * this.state.duration\r\n      if(secondsElapsed!==this.state.secondsElapsed){\r\n        this.setState({ currTime:secondsElapsed })\r\n        console.log(\"currTime\",secondsElapsed)\r\n      }\r\n    }else{\r\n      this.onGetCurrTime()\r\n      if(!this.state.duration) return\r\n      const secondsElapsed = progress.played * this.state.duration\r\n      if(secondsElapsed!==this.state.secondsElapsed){\r\n        this.setState({ currTime:secondsElapsed })\r\n        console.log(\"currTime\",secondsElapsed)\r\n      }\r\n    }\r\n  } \r\n\r\n\r\n  onGetCurrTime=()=>{\r\n    console.log(\"this.state.currTime\",this.state.currTime)\r\n    let player = this.playerRef.current\r\n      if (player && !this.state.timeSet&&this.state.allowedToJoin ) {\r\n        player.seekTo(this.state.currTime, 'seconds')\r\n        this.setState({ timeSet: true })\r\n      }\r\n  }\r\n\r\n\r\n  onPlaying=()=>{\r\n    if(this.state.currTime){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ currTime: 1 })\r\n    this.setState({ interval: null })\r\n  }\r\n\r\n  async loadMovie() {\r\n    const movieId = this.props.match.params.id\r\n    const movie = await movieService.getById(movieId)\r\n    this.setState({ movie })\r\n  }\r\n\r\n  onVolumeChange = (newVolume) => {\r\n    this.setState({ volume: newVolume })\r\n  }\r\n\r\n  onMovieReady = () => {\r\n    let player = this.playerRef.current\r\n    if(player && this.state.allowedToJoin){\r\n      player.seekTo(this.state.currTime)\r\n    }\r\n  }\r\n\r\n  updateCurrTime = () => {\r\n    socketService.emit('timestamp', 0)\r\n  }\r\n\r\n  toggleEmojis = () => {\r\n    this.setState({ showEmojis: !this.state.showEmojis })\r\n  }\r\n\r\n  hideEmojis = () => {\r\n    this.setState({ showEmojis: false })\r\n  }\r\n\r\n\r\n\r\n  // full sceen classes \r\n  toggleFullScreen=()=>{\r\n    if(window.innerWidth<813){\r\n      this.setState({isFullScreen:false})\r\n    }else{\r\n      this.setState({isFullScreen:!this.state.isFullScreen})\r\n    }\r\n  }\r\n  fullScreenWatchRoom=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-watch-room\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenChat=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-chat\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }  \r\n  \r\n  fullScreenMsg=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenInput=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-chat-input\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenChatBackground =()=>{//.user-list-container, .chat <div className=\"\">     </div>chat-window\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        this.setState({showParticles:false})\r\n        return \"chat-background\" \r\n    }else{\r\n        this.setState({showParticles:true})\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenRoomWindow=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-room-window\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }    \r\n\r\n  fullScreenFrame =()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-frame\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenIframe =()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-iframe\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenControlPanel =()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-control-panel\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenMessageMe =()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-message-me\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenMessageUser =()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-message-user\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  onGoBack=()=>{\r\n    this.props.history.goBack()\r\n  }\r\n  \r\n\r\n  handleTouchStart=(ev)=>{\r\n    const x = ev.targetTouches[0].clientX\r\n    const y = ev.targetTouches[0].clientY\r\n    this.setState({startX:x})\r\n    this.setState({startY:y})\r\n  }\r\n\r\n  handleTouchMove=(ev)=>{\r\n    const x = ev.targetTouches[0].clientX\r\n    const y = ev.targetTouches[0].clientY\r\n    this.setState({endX:x})\r\n    this.setState({endY:y})\r\n  }\r\n\r\n\r\n  handleTouchEnd=()=>{\r\n    const {startX, startY, endX, endY} = this.state\r\n    if (startX - endX > 150) {\r\n      if(window.innerWidth>414){\r\n        this.setState({isChatVisible:false})\r\n      }\r\n    }\r\n\r\n    if (startX - endX < -150) {\r\n      this.setState({isChatVisible:true})\r\n    }\r\n\r\n    if (startY - endY > 150) {\r\n      if(window.innerWidth>414){\r\n         this.setState({isVisible:false})\r\n      }\r\n    }\r\n\r\n    if (startY - endY < -150) {\r\n      this.setState({isVisible:true})\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    if (!this.state.movie) return <div>Loading....</div>\r\n    return (\r\n      <div \r\n      className={`watch-room ${this.fullScreenWatchRoom()}`} \r\n      ref={node => { this.node = node; }}\r\n      >\r\n\r\n        <div className={`room-window ${this.fullScreenRoomWindow()}`}\r\n            onTouchStart={touchStartEvent => this.handleTouchStart(touchStartEvent)}\r\n            onTouchMove={touchMoveEvent => this.handleTouchMove(touchMoveEvent)}\r\n            onTouchEnd={() => this.handleTouchEnd()}\r\n        >\r\n          <Chat\r\n            roomId={this.state.movie._id}\r\n            currUser={this.state.currUser}\r\n            movie={this.state.movie}\r\n            fullScreenChat={this.fullScreenChat}\r\n            fullScreenChatBackground={this.fullScreenChatBackground}\r\n            toggleFullScreen={this.toggleFullScreen}\r\n            isFullScreen={this.state.isFullScreen}\r\n            fullScreenMessageMe={this.fullScreenMessageMe}\r\n            fullScreenMessageUser={this.fullScreenMessageUser}\r\n            fullScreenMsg={this.fullScreenMsg}\r\n            fullScreenInput={this.fullScreenInput}\r\n            showParticles={this.state.showParticles}\r\n            onGoBack={this.onGoBack}\r\n            isVisible={this.state.isVisible}\r\n            isChatVisible={this.state.isChatVisible}\r\n            toggleEmojis={this.toggleEmojis}\r\n            hideEmojis={this.hideEmojis}\r\n            showEmojis={this.state.showEmojis}\r\n            onAddNewUser={this.onAddNewUser}\r\n            onUpdateFirstUser={this.onUpdateFirstUser}\r\n          />\r\n     \r\n          <section className={`frame ${this.fullScreenFrame()}`} >\r\n            {!this.state.showVideo && <MovieLoader />}\r\n            <div\r\n              className={`video disabled player-wrapper ${\r\n                this.state.showVideo ? '' : 'hide-video'\r\n              }`}>\r\n              <ReactPlayer\r\n               className='react-player'\r\n                ref={this.playerRef}\r\n                url={this.state.movie.videoUrl}\r\n                width='100%'\r\n                height='100%'\r\n                muted={!this.state.showVideo}\r\n                volume={this.state.volume}\r\n                playing={this.onPlaying&&this.state.isPlaying}\r\n                onDuration={this.onDuration}\r\n                onProgress={this.onProgress}\r\n              />\r\n            </div>\r\n            <VideoControls\r\n              onVolumeChange={this.onVolumeChange}\r\n              volume={this.state.volume}\r\n              toggleFullScreen={this.toggleFullScreen}\r\n              isFullScreen={this.state.isFullScreen}\r\n              fullScreenControlPanel={this.fullScreenControlPanel}\r\n              onTogglePlay={this.onTogglePlay}\r\n              isPlaying={this.state.isPlaying}\r\n            />\r\n            <div className='reaction'></div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\n\r\nexport const Room = connect(mapStateToProps)(withRouter(_Room))\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { LoginModal } from './LoginModal';\r\n\r\nclass _MoviePreview extends Component {\r\n  state = {\r\n    showComponent: false,\r\n  }\r\n\r\n  avgReview = (movie) => {\r\n    let sumReviews = 0\r\n    let avg = 0\r\n    let ratingCount = 0\r\n    if(movie.reviews){\r\n      movie.reviews.forEach((review) => {\r\n        if (review.rating) {\r\n          sumReviews += parseInt(review.rating)\r\n          ratingCount++\r\n        }\r\n      })\r\n      avg = sumReviews / ratingCount\r\n      return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n\r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      console.log(\"loggedInUser.favMovies:\", this.props.loggedInUser.favMovies)\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n      console.log('favoriteList:',this.props.favoriteList)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log('this.props.appCondition',this.props.appCondition)\r\n  }\r\n  render() {\r\n    const { movie, toggleView, appCondition } = this.props\r\n    return (\r\n      <React.Fragment>\r\n            <div className='genres-movie-img-container' style={{backgroundImage: `url(${movie.coverUrl? movie.coverUrl:\"\"})`}} ></div>\r\n  \r\n            <div className=\"info-continer-movie-card\">\r\n                <div className={`title ${movie.title.length>11?\"ellipsis\":\"\"}`}>{movie.title}</div>\r\n  \r\n                <div className=\"genres-container\">\r\n                  {movie.genres.map(genre=>\r\n                    <div className='genre'>{genre}</div>\r\n                  )}\r\n                </div>\r\n{/* //1 */}\r\n                {appCondition&&<div className=\"btns-container\">\r\n                  <span className=\"movie-btn movie-btn-details\" onClick={()=>{toggleView('main')}}><Link to={`/movie/${movie._id}`} ><i className=\"fas fa-info-circle\"></i></Link></span>\r\n          \r\n                  <span className=\"movie-btn\" onClick={()=>{toggleView('main')}}><Link  to={`/room/${movie._id}`}><i className=\"far fa-play-circle\"></i></Link></ span>\r\n\r\n                  <span className=\"movie-btn\" onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                    <Link><i className=\"fas fa-plus\"></i></Link>:\r\n                    <Link><i className=\"fas fa-check\"></i></Link>\r\n                  }\r\n                    </ span>\r\n                </div>}\r\n{/* //2 */}         \r\n                {!appCondition&&<div className=\"btns-container\">\r\n                <span className=\"movie-btn movie-btn-details\" ><Link to={`/movie/${movie._id}`} ><i className=\"fas fa-info-circle\"></i></Link></span>\r\n        \r\n                <span className=\"movie-btn\" ><Link  to={`/room/${movie._id}`}><i className=\"far fa-play-circle\"></i></Link></ span>\r\n\r\n                <span className=\"movie-btn\" onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                  <Link><i className=\"fas fa-plus\"></i>\r\n                  </Link>:\r\n                  <Link><i className=\"fas fa-check\"></i></Link>\r\n                }\r\n                </ span>\r\n              </div>}\r\n  \r\n                <div className=\"rate-container\">\r\n                  <div><i className=\"far fa-eye\"></i>{movie.viewersNumber?movie.viewersNumber: Math.floor(Math.random() * (200 - 50) + 50)}</div>\r\n                   {this.avgReview(movie)}/10\r\n                </div>\r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    favoriteList: state.movie.favoriteList,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList\r\n}\r\nexport const MoviePreview = connect(mapStateToProps, mapDispatchToProps)(_MoviePreview)","import React from 'react'\r\nimport { MoviePreview } from './MoviePreview'\r\n\r\n\r\nexport function MovieList({ movies, appCondition }) {\r\n  const genres = [\r\n   'Action','Comedy','Crime','Drama','Fantasy',\r\n   'Adventure','Horror','Sci-Fi','Thriller',\r\n]\r\n  const popular = movies.slice(12, 22)\r\n\r\n\r\n\r\n \r\n  return (\r\n\r\n    <div className=\"movie-list\">\r\n       \r\n        <div className=\"movie-category\">\r\n            <div className=\"category-title\">\r\n                <h4 className=\"category-name\">Popular in WatChat</h4>\r\n            </div>\r\n            <div className=\"category-movies\">\r\n                { \r\n                popular.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <MoviePreview className=\"movie-preview\" movie={ movie } appCondition={appCondition}/>\r\n                </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n        {genres.map(genre=>\r\n\r\n            <div className=\"movie-category\">\r\n                <div className=\"category-title\">\r\n                <h4 className=\"category-name\">{genre}</h4>\r\n            </div>\r\n            <div className=\"category-movies\">\r\n                { \r\n                 movies.filter((movie) => movie.genres.includes(genre)).map(movie => \r\n                    <div key={ movie._id } className=\"movie-container\">\r\n                      <MoviePreview className=\"movie-preview\" movie={ movie }/>\r\n                   \r\n                 \r\n                    </div>\r\n                )}\r\n            </div>\r\n            </div>\r\n\r\n        )}\r\n      \r\n        </div>\r\n\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { MoviePreview } from './MoviePreview'\r\n\r\n\r\nexport function FilteredMovieList({ movies, toggleView, appCondition }) {\r\n  return (\r\n    <div className=\"filtered-movie-list\">\r\n        <div className=\"movie-category\">\r\n            <div className=\"category-movies\">\r\n                { \r\n                movies.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <MoviePreview className=\"movie-preview\" movie={ movie } toggleView={toggleView} appCondition={appCondition} />\r\n                </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { FilteredMovieList } from '../cmps/FilteredMovieList'\r\n\r\nexport class FilteredMovie extends Component {\r\n    getMoviesForDisplay() {\r\n        const moviesByGenres = this.props.movies.filter(movie => movie.genres.includes(this.props.currGenre))\r\n        let movies;\r\n        if(this.props.currGenre===\"All\"){\r\n            movies = this.props.movies.filter(movie => movie.title.toLowerCase().includes(this.props.currSearch.toLowerCase()))\r\n        }\r\n        else{\r\n            movies = moviesByGenres.filter(movie => movie.title.toLowerCase().includes(this.props.currSearch.toLowerCase()))\r\n        }\r\n        return movies;\r\n    }\r\n\r\n    render() {\r\n        const { currGenre, currSearch, currCmp , toggleView, appCondition} = this.props\r\n        let movies;\r\n        if(currCmp===\"navFilter\"){\r\n            movies = this.props.movies;\r\n        }else{\r\n            movies = this.getMoviesForDisplay();\r\n        }\r\n        return (\r\n           <div>\r\n               <div className={`filtered-movies-section ${currCmp===\"navFilter\"? 'nav-filter-style': ''}`}>\r\n                   {\r\n                        movies.length===0?\r\n                        <div className=\"no-movies-container\">\r\n                            <div className=\"no-movies-msg\">\r\n                            <h2>Sorry</h2>\r\n                            No movies Found \r\n                            {currSearch&&currSearch!==\"\"?\r\n                            <span> for \"{currSearch}\"</span>\r\n                            : null}\r\n                            {currGenre&&currGenre!=='All'?\r\n                            <span> inside \"{currGenre}\" Genre</span>\r\n                            :null}\r\n                            </div>\r\n                            <img className=\"no-movies-img\" src=\"../assets/img/no-movies-img.png\" alt=\"\"/>\r\n                        </div>\r\n                        : <FilteredMovieList movies={movies} toggleView={toggleView} appCondition={appCondition}/>\r\n                   }\r\n               </div>\r\n           </div> \r\n        )}\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport class MovieFilter extends Component {\r\n    state = {\r\n        active: 'All',\r\n        activeBtn: false,\r\n        keyUpValue: false,\r\n        search:''\r\n    }\r\n    buttons = [\r\n        'All',\r\n        'Action',\r\n        'Comedy',\r\n        'Crime',\r\n        'Drama',\r\n        'Fantasy',\r\n        'Adventure',\r\n        'Romance',\r\n        'Sci-Fi',\r\n        'Thriller',\r\n        'Horror',\r\n        'Fairy Tale',\r\n    ]\r\n    componentDidMount(){\r\n        if(this.props.currCategory){\r\n            this.setState({ active: this.props.currCategory })\r\n            this.setState({activeBtn:true},() => {this.changeGenre(this.props.currCategory)})\r\n        }\r\n    }\r\n\r\n    changeToActive(name) {\r\n        this.setState({ active: name })\r\n        if(name===\"All\"){\r\n            this.setState({activeBtn:false},() => {this.changeGenre(name)})\r\n        }else{\r\n            this.setState({activeBtn:true},() => {this.changeGenre(name)})\r\n        }\r\n    }\r\n    changeGenre(name){\r\n        this.toggleView()\r\n        this.props.currGenre(name)\r\n    }\r\n\r\n    onKeyUpValue(event) {\r\n        if(event.target.value){\r\n            this.setState({keyUpValue:true,search:event.target.value},() => {this.searchValue()})\r\n        }else{\r\n            this.setState({keyUpValue:false,search:event.target.value},() => {this.searchValue()})\r\n        }\r\n    }\r\n\r\n    searchValue(){\r\n        this.toggleView()\r\n        this.props.currSearch(this.state.search)\r\n    }\r\n\r\n    toggleView(){\r\n        if(this.state.activeBtn||this.state.keyUpValue){\r\n            this.props.toggleView('FilteredMovie')\r\n        }else{\r\n            this.props.toggleView('MovieList') \r\n        } \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"movies-side-nav\">\r\n              <div className={`movies-sidenav`}>\r\n                <div className=\"side-nav-main\">\r\n                    <div>Search Movie</div>\r\n                  <input type=\"text\" \r\n                  onKeyUp={this.onKeyUpValue.bind(this)}/>\r\n                </div>\r\n                {this.buttons.map(name => {\r\n                    return <div \r\n                        className={`side-btn ${this.state.active === name ? 'active-side-btn' : ''}`}\r\n                        onClick={() => this.changeToActive(name)}\r\n                        >{name}</div>;\r\n                })}\r\n              </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { MovieList } from '../cmps/MovieList'\r\nimport { FilteredMovie } from '../cmps/FilteredMovie'\r\nimport { MovieFilter } from '../cmps/MovieFilter'\r\nimport { logout } from '../store/actions/userActions'\r\n\r\nclass _Movie extends Component {\r\n    state = {\r\n        filterBy: {\r\n          search: '',\r\n          minYear: -Infinity,\r\n          maxYear: Infinity,\r\n          type: 'All',\r\n        },\r\n        currView: 'MovieList',\r\n        currGenre: 'All',\r\n        currSearch: '',\r\n        appCondition: false,\r\n    }\r\n\r\n    DynamicCmp(props) {\r\n        switch (props.currView) {\r\n            case 'MovieList':\r\n                return <MovieList { ...props } />\r\n            case 'FilteredMovie':\r\n                return <FilteredMovie { ...props } />\r\n            default:\r\n                return <h1>Something went wrong</h1>\r\n        }\r\n    }\r\n    \r\n    cmpMap = {\r\n        MovieList: MovieList,\r\n        FilteredMovie: FilteredMovie\r\n    }\r\n\r\n    toggleView = newView => {\r\n        this.setState({ currView: newView })\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const currCategory = this.props.match.params.category\r\n        console.log(\"currCategory\", currCategory)\r\n        this.currGenre(currCategory)\r\n        if(currCategory){\r\n            this.toggleView('FilteredMovie')\r\n        }\r\n    }\r\n\r\n    currGenre=(name)=>{\r\n        this.setState({ currGenre: name })\r\n    }\r\n\r\n    currSearch=(val)=>{\r\n        this.setState({ currSearch: val })\r\n    }\r\n    \r\n\r\n    render() {\r\n        const { movies } = this.props\r\n        const { currView } = this.state\r\n        const DynamicCmp = this.cmpMap[currView]\r\n        const currCategory = this.props.match.params.category\r\n        if (!movies) return <div>Loading....</div>\r\n        return (\r\n              <div className=\"movies-page\">\r\n                <MovieFilter toggleView={this.toggleView} currGenre={this.currGenre} currSearch={this.currSearch} currCategory={currCategory}/>\r\n                <div className=\"main-section\">\r\n                    <DynamicCmp currView={ currView } movies={movies} currGenre={this.state.currGenre} currSearch={this.state.currSearch} appCondition={this.state.appCondition}/>\r\n                </div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      movies: state.movie.movies,\r\n      loggedInUser: state.user.loggedInUser,\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    loadMovies,\r\n    logout,\r\n  }\r\n  export const Movie = connect(mapStateToProps, mapDispatchToProps)(_Movie)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\nclass _CategoryPage extends Component {\r\n  state = {\r\n        currGenre:this.props.location.genre.name,\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.loadMovies(this.state.filterBy)\r\n  }\r\n\r\n\r\n\r\nchangeCategory=()=>{\r\n    this.setState({currGenre:this.props.location.genre.name})\r\n}\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const { movies } = this.props;\r\n    let genre = movies.filter(movie => movie.genres.includes(`${this.state.currGenre}`));\r\n    if (!movies) return <div>Loading....</div>\r\n    return (\r\n      <React.Fragment>\r\n        {console.log(movies)}\r\n        <div className='movie-app'>\r\n          <div className='main-header-container'>\r\n          <div className=\"hero-slider\">\r\n            <div className=\"slide1\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>Wrath of Titans</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Action</div>\r\n                         <div className=\"genre2\">Adventure</div>\r\n                         <div className=\"genre3\">Fantasy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide2\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>Guardians of the Galaxy</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Action</div>\r\n                         <div className=\"genre2\">Adventure</div>\r\n                         <div className=\"genre3\">Comedy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide3\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title slide-dark-text'>Pirates of the Caribbean</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1 slide-dark-text\">Action</div>\r\n                         <div className=\"genre2 slide-dark-text\">Adventure</div>\r\n                         <div className=\"genre3 slide-dark-text\">Fantasy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn slide-dark-text'>view info</div>\r\n                          <div className='slide-btn3 slide-btn slide-dark-text'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide4\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>IT</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Horror</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n\r\n{console.log('this.props.location.genre.name',this.props.location.genre.name)}\r\n\r\n          <div className=\"movie-list\">\r\n        <div className=\"movie-category\">\r\n            <div className=\"category-title\">\r\n                <h4 className=\"category-name\">{this.state.genre}</h4>\r\n                <h4 className=\"all-btn\">See All {genre.length}</h4>\r\n            </div>\r\n            <div className=\"category-movies\">\r\n                { \r\n                genre.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <div className=\"movie-preview\">\r\n                      <div className='movie-img-container' style={{backgroundImage: `url(${movie.coverUrl? movie.coverUrl:\"\"})`}} ></div>\r\n                    </div>\r\n                     <div className=\"btns-container\">\r\n                        <span className=\"movie-btn movie-btn-details\"><Link to={`/movie/${movie._id}`} >Details</Link></span>\r\n                    </div>\r\n                </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadMovies,\r\n  logout,\r\n}\r\nexport const CategoryPage = connect(mapStateToProps, mapDispatchToProps)(_CategoryPage)\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\n    \r\nexport class _EditorsMovies extends Component{\r\n    componentDidMount(){\r\n        this.props.loadMovies()\r\n    }\r\n    getMovies(value){\r\n        \r\n        switch(value) {\r\n            case 'editors-adventure':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'X-Men: Dark Phoenix' ||\r\n                      movie.title === 'Iorn-Man' ||\r\n                      movie.title === 'Wrath of the Titans' ||\r\n                      movie.title === 'Back to the Future' ||\r\n                      movie.title === 'Hellboy' ||\r\n                      movie.title === 'Avatar'\r\n                  )\r\n            //   return movies;\r\n            case 'all-adventure':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Adventure')\r\n                  )\r\n            //   return movies;\r\n            case 'editors-action':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'Avengers: Endgame' ||\r\n                      movie.title === 'Spider-Man: Far from Home' ||\r\n                      movie.title === 'The Suicide Squad' ||\r\n                      movie.title === 'The Batman' ||\r\n                      movie.title === 'Iorn-Man' ||\r\n                      movie.title === 'X-Men: Dark Phoenix' \r\n\r\n                  )\r\n            //   return movies;\r\n            case 'all-action':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Action')\r\n                  )\r\n            //   return movies;\r\n            case 'editors-horror':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'IT' ||\r\n                      movie.title === 'Texas Chainsaw' ||\r\n                      movie.title === 'A Nightmare on Elm Street 3: Dream Warriors' ||\r\n                      movie.title === 'GRETEL & HANSEL' ||\r\n                      movie.title === 'Zombieland: Double Tap' ||\r\n                      movie.title === 'Crawl'\r\n                  )\r\n            //   return movies;\r\n            case 'all-horror':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Horror')\r\n                  )\r\n            //   return movies;\r\n            default:\r\n              return '';\r\n        } \r\n    }\r\n    render() {\r\n\r\n        const movies = this.getMovies(this.props.match.params.category)\r\n        if (!movies) return <div>Loading....</div>\r\n        return (\r\n            <div className=\"editors-movies-page\" id='top'>\r\n                <div>\r\n                    {movies.map((movie,idx)=>\r\n                    <div  className={`${'direction-'+(idx%2 ? 'r':'l')}`}>\r\n                        <div className={`container `}>\r\n                            <div className=\"img-container\">\r\n                                <img src={`${movie.wideCoverUrl}`} alt=\"\"/>\r\n                                <div className=\"before-img\"></div>\r\n                            </div>\r\n                            <div className=\"movie-details\">\r\n                                <div className=\"title\">{movie.title}</div>\r\n                                 <div className=\"description\">{movie.description}</div>\r\n                                 <div className=\"genres\">{movie.genres.map(genre=>\r\n                                    <span>{genre} </span>\r\n                                )}</div>\r\n                                \r\n                                <div className=\"year\">{movie.year} | \r\n                                <span > {movie.duration}</span>\r\n                                </div> \r\n                                <Link to={`/movie/${movie._id}`}><div className=\"trailer-btn\">More Info</div></Link>\r\n                            </div>\r\n                        </div>  \r\n                    </div>\r\n                    )}\r\n                </div>\r\n            </div>     \r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      movies: state.movie.movies\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    loadMovies\r\n  }\r\n  export const EditorsMovies = connect(mapStateToProps, mapDispatchToProps)(_EditorsMovies)\r\n  \r\n","import { Home } from './pages/Home.jsx'\r\nimport { About } from './pages/About.jsx'\r\nimport { MovieDetails } from './pages/MovieDetails.jsx'\r\nimport { UserDetails } from './pages/UserDetails.jsx'\r\nimport { Room } from './pages/Room.jsx'\r\nimport { Movie } from './pages/Movie.jsx'\r\nimport { CategoryPage } from './pages/CategoryPage.jsx'\r\nimport { EditorsMovies } from './pages/EditorsMovies.jsx'\r\n\r\nexport default [\r\n  {\r\n    path: '/',\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/about',\r\n    component: About,\r\n  },\r\n  {\r\n    path: '/movies',\r\n    component: Movie,\r\n  },\r\n  {\r\n    path: '/movies/:category',\r\n    component: Movie,\r\n  },\r\n  {\r\n    path: '/genre',\r\n    component: CategoryPage,\r\n  },\r\n  {\r\n    path: '/Movie/:id',\r\n    component: MovieDetails,\r\n  },\r\n  {\r\n    path: '/user',\r\n    component: UserDetails,\r\n  },\r\n  {\r\n    path: '/room/:id',\r\n    component: Room,\r\n  },\r\n  {\r\n    path: '/editor-movies/:category',\r\n    component: EditorsMovies,\r\n  },\r\n]\r\n","import React from 'react'\r\nimport {UserDetails} from '../pages/UserDetails'\r\n\r\nexport class UserModal extends React.Component {\r\n  state = {\r\n    isShown: true,\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ isShown: false })\r\n    this.props.onOpenUserModal()\r\n  }\r\n  render() {\r\n    const { isShown } = this.state\r\n    return (\r\n      <div\r\n        className={`modal-wrapper ${isShown ? '' : 'hide'}`}\r\n        onClick={this.closeModal}>\r\n        <div className='user-modal-content' onClick={(ev) => ev.stopPropagation()}>\r\n            <UserDetails closeModal={this.closeModal}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { Link } from \"react-router-dom\"\r\nimport { LoginModal } from './LoginModal';\r\nimport {Search} from './Search'\r\nimport { socketService } from '../services/socketService'\r\nimport { movieService } from '../services/movieService'\r\nimport { UserModal } from '../cmps/UserModal'\r\n\r\nclass _Navbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        showUserModal: false,\r\n        color: '',\r\n        active: \"\",\r\n        movieId:''\r\n    }\r\n    listenScrollEvent = e => {\r\n        if (window.scrollY > 400) {\r\n          this.setState({color: 'rgba(0, 0, 0, 0.666)'})\r\n        } else {\r\n          this.setState({color: ''})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.listenScrollEvent)\r\n        this.setState({ active: 'home' })\r\n        this.loadMovie()\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n\r\n    async loadMovie() {\r\n        const movieId = this.props.history.location.pathname.split(\"/\")[2]\r\n        this.setState({movieId})\r\n        const movie = await movieService.getById(movieId)\r\n        console.log(\"movie:\",movie)\r\n    }\r\n\r\n\r\n    onOpenModal=()=>{\r\n        this.setState({\r\n            showComponent: !this.state.showComponent\r\n          });\r\n    }\r\n    onOpenUserModal=()=>{\r\n        this.setState({\r\n            showUserModal: !this.state.showUserModal\r\n          });\r\n    }\r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n        this.props.toggleView('main')\r\n    }\r\n    logout=()=>{\r\n        if(this.props.history.location.pathname==='/user'){\r\n            this.props.history.push('/')\r\n            this.props.logout()\r\n        }else if(this.props.history.location.pathname.includes('/room')){\r\n            console.log(\"movie id\",this.props.history.location.pathname.split(\"/\")[2])\r\n            this.props.logout()\r\n            socketService.emit('chat room', {\r\n                roomId: this.props.history.location.pathname.split(\"/\")[2],\r\n                user: null,\r\n            })\r\n        }else{\r\n            this.props.logout()\r\n        }\r\n    }\r\n\r\n    hideNavbar=()=>{\r\n        if(this.props.history.location.pathname.includes('/room')){\r\n            return \"hide-navbar\"\r\n        }else{\r\n            return \"\" \r\n        }\r\n    }\r\n\r\n\r\n   onActiveBtnAndToggleView=()=>{\r\n        this.props.toggleView('main') \r\n        this.changeToActiveBtn('home')\r\n   }\r\n\r\n\r\n\r\n    render() {\r\n    const { loggedInUser} = this.props\r\n    return (\r\n        <React.Fragment>\r\n        <nav className={`main-nav after-canvas ${this.hideNavbar()}`}  style={{backgroundColor: this.state.color}}>\r\n           <div className=\"nav-container\">\r\n           <div className=\"links-container\">\r\n                <div className={`home nav-column ${this.state.active === 'home' ? 'active-navLink' : ''}` }>\r\n                <NavLink className={`navlink-btn  `}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}>Home\r\n                </NavLink>\r\n                </div>\r\n                <div className={`about nav-column ${this.state.active === 'about' ? 'active-navLink' : ''}`}>\r\n                <NavLink className=\"navlink-btn\" to=\"/about\" onClick={()=>{this.changeToActiveBtn('about') }}>About</NavLink>\r\n                </div>\r\n                <div className={`movies nav-column ${this.state.active === 'movie' ? 'active-navLink' : ''}`}>\r\n                <NavLink className=\"navlink-btn\" to=\"/movies\" onClick={()=>{this.changeToActiveBtn('movie') }}>Movies</NavLink>\r\n                </div>\r\n           </div>\r\n\r\n            <span className=\"main-title nav-column\">\r\n                <Link className=\"logo\" to={`/`} onClick={()=>{this.onActiveBtnAndToggleView() }}>\r\n                    <div className=\"WatChat-logo\">WatChat</div>\r\n                </Link>\r\n                <div className=\"under-logo\">- online cinema -</div>\r\n            </span>\r\n\r\n           <div className=\"login-and-serach-section\">\r\n                <Search className=\"navlink-search nav-column\" toggleView={this.props.toggleView} searchingValue={\"movie\"}/>\r\n       \r\n                <div className=\"user-container nav-column\">\r\n        \r\n                    {loggedInUser === null && <div className=\"user-login  after-canvas\" onClick={this.onOpenModal}>Log in</div>}\r\n      \r\n                    <div className=\"user-details-container\">\r\n                        {loggedInUser && <div className=\"user-name\">Hello {loggedInUser.username}</div>}\r\n                        {loggedInUser &&<div id=\"logout-btn\" onClick={this.logout}>Logout</div>}\r\n                    </div>\r\n                    { loggedInUser && loggedInUser.avatar &&\r\n                    <div  className=\"user-details-btn userImg\">\r\n                        <div className=\"user-img\" style={{ backgroundImage: `url(${loggedInUser.avatar})` }} onClick={this.onOpenUserModal}></div>\r\n                    </div>\r\n              \r\n                    }\r\n                   \r\n                </div>\r\n           </div>\r\n            \r\n           </div>\r\n         \r\n        </nav>\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n        {this.state.showUserModal ? <UserModal onOpenUserModal={this.onOpenUserModal}/> : null}\r\n        </React.Fragment>\r\n    )\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n        users: state.user.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout,\r\n}\r\nexport const Navbar = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Navbar))","import React from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\n\r\nexport function _FavoritePreview({ movie, removeFromFavList }) {\r\n    return (\r\n        // <NavLink to={`/movie/${movie._id}`} className=\"favorite-preview-link\">\r\n            <div className=\"favorite-preview\">\r\n                <img src={`${movie.coverUrl}`} alt=\"\"/>\r\n                <div className=\"movie-details\">\r\n                    <div className=\"title\">{movie.title}</div>\r\n                    <div className=\"genres\">{movie.genres.map(genre=>\r\n                        <span>{genre} </span>\r\n                    )}</div>\r\n                    <div className=\"duration\">{movie.duration}</div>\r\n                </div>\r\n                <div className=\"remove-from-list-btn\" onClick={(ev)=>{removeFromFavList(ev,movie)}}> <i className=\"fas fa-trash-alt\"></i></div>\r\n            </div>     \r\n        // </NavLink>  \r\n    )\r\n}\r\nexport const FavoritePreview = withRouter(_FavoritePreview)\r\n","import React from 'react'\r\nimport { FavoritePreview } from './FavoritePreview'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport function FavoriteList({ loggedInUser, removeFromFavList, onToggleList, isClose }) {\r\n        return (\r\n            <div className=\"favorite-movies-section\">\r\n\r\n                <div className={`fav-list-btn ${isClose? \"\":\"fav-btn-open\"}`} onClick={onToggleList} >\r\n                    <div>\r\n                    My List\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`favorite-movies-list ${isClose? \"closeNav\":\"openNav open-nav-style\"}`} onClick={onToggleList}>\r\n                    <div className={`close-list-msg  ${isClose? \"hide-closing-msg\":\"\"}`}>\r\n                    <i className=\"fas fa-long-arrow-alt-left\"></i> Click to Close\r\n                    </div>\r\n                    <div className=\"container\">\r\n                        { loggedInUser&&loggedInUser.favMovies.length>0?loggedInUser.favMovies.map(favMovie=>\r\n                        <FavoritePreview movie={favMovie} removeFromFavList={removeFromFavList}/>\r\n                        ):\r\n                        <div className=\"empty-msg\"><i>The List is Empty</i></div>}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../store/actions/userActions'\r\nimport {Search} from './Search'\r\n\r\nclass _MobileNavbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        color: '',\r\n        active: \"\"\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setState({ active: 'home' })\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n \r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n        this.props.toggleView('main')\r\n    }\r\n    hideNavbar=()=>{\r\n        if(this.props.history.location.pathname.includes('/room')){\r\n            return \"hide-mobile-navbar\"\r\n        }else{\r\n            return \"\" \r\n        }\r\n    }\r\n   \r\n    render() {\r\n    return (\r\n        <React.Fragment>\r\n            <div className={`mobile-navbar ${this.hideNavbar()}`}>\r\n\r\n          <div className=\"navbar-btns\">\r\n          <div className={`home nav-column ${this.state.active === 'home' ? 'active-navLink' : ''}` }><NavLink className={`navlink-btn  `}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}><i className=\"fas fa-home\"></i>Home</NavLink></div>\r\n            <div className={`about nav-column ${this.state.active === 'about' ? 'active-navLink' : ''}`}><NavLink className=\"navlink-btn\" to=\"/about\" onClick={()=>{this.changeToActiveBtn('about') }}><i className=\"fas fa-info-circle\"></i>About</NavLink></div>\r\n            <div className={`movies nav-column ${this.state.active === 'movie' ? 'active-navLink' : ''}`}><NavLink className=\"navlink-btn\" to=\"/movies\" onClick={()=>{this.changeToActiveBtn('movie') }}><i className=\"fas fa-film\"></i>Movies</NavLink></div>\r\n          </div>\r\n\r\n          <Search className=\"navlink-search nav-column\" toggleView={this.props.toggleView} searchingValue={\"movie\"}/>\r\n\r\n\r\n\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n        users: state.user.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\nexport const MobileNavbar = connect(mapStateToProps, mapDispatchToProps)(withRouter(_MobileNavbar))","import { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, );\r\n\r\n  return (null);\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport routes from './routes.js'\r\nimport { Navbar } from './cmps/Navbar'\r\nimport { FilteredMovie } from './cmps/FilteredMovie'\r\nimport { FavoriteList } from './cmps/FavoriteList'\r\nimport { MobileNavbar } from './cmps/MobileNavbar'\r\nimport { connect } from 'react-redux'\r\nimport { toggleFavUserList } from './store/actions/userActions'\r\nimport  ScrollToTop  from './cmps/ScrollToTop'\r\n\r\nclass _App extends React.Component{\r\n  state = {\r\n    currView: 'main',\r\n    currCmp: 'navFilter',\r\n    appCondition: true,\r\n    isClose:true\r\n  }\r\n  removeFromFavList=(ev,movie)=>{\r\n    ev.stopPropagation()\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }\r\n  }\r\n\r\n  toggleView = newView => {\r\n    this.setState({ currView: newView })\r\n  }\r\n\r\n  onToggleList = ()=>{\r\n    this.setState({isClose:!this.state.isClose})\r\n  }\r\n\r\n  render() {\r\n    const { currView, appCondition } = this.state\r\n    const { movies, loggedInUser } = this.props\r\n    return (\r\n      <div className='App'>\r\n        <header>\r\n          <Navbar toggleView={this.toggleView}/>\r\n        </header>\r\n       { currView===\"FilteredMovie\"&&\r\n          <FilteredMovie movies={movies} currCmp={this.state.currCmp} toggleView={this.toggleView} appCondition={appCondition}/>\r\n       }\r\n        {currView===\"main\"&&<main>\r\n        <React.Fragment>\r\n          <ScrollToTop />\r\n          <Switch>\r\n          {routes.map((route) => (\r\n            <Route\r\n              key={route.path}\r\n              exact\r\n              component={route.component}\r\n              path={route.path}\r\n            />\r\n          ))}\r\n          </Switch>\r\n        </React.Fragment>\r\n        </main>}\r\n        <FavoriteList removeFromFavList={this.removeFromFavList} loggedInUser={loggedInUser} onToggleList={this.onToggleList} isClose={this.state.isClose}/>\r\n        <MobileNavbar  toggleView={this.toggleView}/>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList\r\n}\r\nexport const App = connect(mapStateToProps,mapDispatchToProps)(_App)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React from 'react'\r\n// import { Switch, Route } from 'react-router-dom'\r\n// import routes from './routes.js'\r\n// import { Navbar } from './cmps/Navbar'\r\n\r\n// export function App() {\r\n//   return (\r\n//     <div className='App'>\r\n//       <header>\r\n//         <Navbar />\r\n//       </header>\r\n//       <main>\r\n\r\n//       </main>\r\n//       <Switch>\r\n//         {routes.map((route) => (\r\n//           <Route\r\n//             key={route.path}\r\n//             exact\r\n//             component={route.component}\r\n//             path={route.path}\r\n//           />\r\n//         ))}\r\n//       </Switch>\r\n//     </div>\r\n//   )\r\n// }\r\n","const initialState = {\r\n  reviews: [],\r\n  selectedReview: null\r\n};\r\n\r\nexport default function(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews };\r\n    case 'REVIEW_ADD':\r\n      return { ...state, reviews: [...state.reviews, action.addedReview] };\r\n    case 'REVIEW_UPDATE':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: [],\r\n}\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'USER_REMOVE':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter((user) => user._id !== action.userId),\r\n      }\r\n    case 'SET_USERS':\r\n      console.log(\"action.users:\",action.users)\r\n      return { ...state, users: action.users }\r\n\r\n    case 'UPDATE_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'ADD_FAV_MOVIE':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_FAV_MOVIE':\r\n      return { ...state, loggedInUser: action.user }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true };\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false };\r\n    default: return state;\r\n  }\r\n}\r\n","const initialState = {\r\n    movies: [],\r\n}\r\n\r\nexport function movieReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_MOVIES':\r\n            return {\r\n                ...state,\r\n                movies: action.movies\r\n            }\r\n        case 'ADD_MOVIE':\r\n            const movies = [...state.movies, action.savedMovie]\r\n            return {...state, movies} \r\n        case 'UPDATE_MOVIE':\r\n            console.log(\"UPDATE_MOVIE: \", action.savedMovie);\r\n            return {\r\n                ...state,\r\n                movies: state.movies.map(movie => movie._id === action.savedMovie._id?action.savedMovie:movie )\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport reviewReducer from './reviewReducer';\r\nimport userReducer from './userReducer';\r\nimport systemReducer from './systemReducer';\r\nimport {movieReducer} from './movieReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  system: systemReducer,\r\n  review: reviewReducer,\r\n  user: userReducer,\r\n  movie: movieReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index.js';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport { Provider } from 'react-redux'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { App } from './App.jsx'\r\nimport './styles/global.scss'\r\nimport { store } from './store/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}