{"version":3,"sources":["serviceWorker.js","services/httpService.js","services/movieService.js","store/actions/movieActions.js","store/actions/systemActions.js","services/userService.js","store/actions/userActions.js","cmps/CinemaCard.jsx","cmps/HeroCarousel.jsx","cmps/Carousel.jsx","cmps/GoogleOauth.jsx","pages/Login.js","cmps/LoginModal.jsx","cmps/NewMoviesCarousel.jsx","pages/Home.jsx","pages/About.jsx","cmps/ReviewModal.jsx","pages/MovieDetails.jsx","services/reviewService.js","services/cloudinarySerivice.js","services/socketService.js","pages/UserDetails.jsx","store/actions/reviewActions.js","cmps/Toolbar.jsx","cmps/UserPreview.jsx","cmps/UsersCarousel.jsx","cmps/Search.jsx","cmps/MobileToolbar.jsx","cmps/UserList.jsx","data/emojis.js","data/msgs1.js","cmps/Chat.jsx","cmps/ReactionPicker.jsx","cmps/VideoControls.jsx","cmps/MovieLoader.jsx","pages/Room.jsx","cmps/MoviePreview.jsx","cmps/MoviesCarousel.jsx","cmps/MovieList.jsx","cmps/FilteredMovieList.jsx","cmps/FilteredMovie.jsx","cmps/MovieFilter.jsx","pages/Movie.jsx","pages/CategoryPage.jsx","pages/EditorsMovies.jsx","routes.js","cmps/UserModal.jsx","cmps/Navbar.jsx","cmps/FavoritePreview.jsx","cmps/FavoriteList.jsx","cmps/MobileNavbar.jsx","App.jsx","store/reducers/reviewReducer.js","store/reducers/userReducer.js","store/reducers/systemReducer.js","store/reducers/movieReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["Boolean","window","location","hostname","match","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","assign","gFavoriteMovies","movieService","query","filterBy","queryStr","search","minYear","maxYear","type","httpService","getById","movieId","save","movie","_id","getFavoriteList","loadFromStorage","Promise","resolve","toggleFavList","key","val","localStorage","setItem","JSON","stringify","getItem","parse","loadMovies","dispatch","movies","updateMovie","login","logout","signup","getUsers","userId","remove","update","addFavMovie","removeFavMovie","loginByGoogle","user","newUser","_handleLogin","userCred","sessionStorage","clear","favMovies","filter","_movie","loadUsers","userService","users","updateUser","toggleFavUserList","loggedInUser","length","CinemaCard","Fragment","className","perspective","glareEnable","glareMaxOpacity","scale","style","backgroundImage","coverUrl","to","HeroCarousel","changeRateToStars","content","avgRate","props","avgReview","i","Math","ceil","push","this","toggleFavoriteList","isFavoriteMovie","infinite","mouseTracking","duration","autoPlay","startIndex","fadeOutAnimation","mouseDragEnabled","playButtonEnabled","autoPlayInterval","autoPlayDirection","autoPlayActionDisabled","map","idx","heroCoverUrl","title","genres","genre","onClick","Component","Carousel","e","item","slide","responsive","0","items","350","720","1000","1290","onSlideChange","onSlideChanged","id","slice","_GoogleOauth","responseGoogle","userCreds","email","profileObj","avatar","imageUrl","username","givenName","closeModal","clientId","buttonText","onSuccess","onFailure","cookiePolicy","mapDispatchToProps","GoogleOauth","connect","state","isLoading","system","Test","msg","loginCred","password","signupCred","section","loginHandleChange","ev","target","name","value","setState","prevState","signupHandleChange","doLogin","preventDefault","doSignup","signupCreds","removeUser","onSignup","signupSection","onSubmit","onChange","placeholder","maxlength","loginSection","canvasClassName","params","particles","number","density","enable","size","random","anim","speed","size_min","line_linked","move","direction","out_mode","interactivity","events","onhover","mode","onclick","modes","bubble","distance","opacity","repulse","addFavMovieTxt","LoginModal","isShown","onOpenModal","stopPropagation","Login","React","NextArrow","PrevArrow","NewMoviesCarousel","settings","nextArrow","prevArrow","slidesToShow","slidesToScroll","initialSlide","swipeToSlide","breakpoint","viewersNumber","floor","_Home","Infinity","showComponent","innerWidth","desktopExample","handleResize","favoriteList","find","handleInputs","field","sumReviews","ratingCount","reviews","forEach","review","rating","parseInt","toFixed","AOS","init","scrollTo","addEventListener","removeEventListener","prevProps","HeroMovies","getHeroMoviesForDisplay","watchRoomMovies","data-aos","src","alt","loop","muted","Home","About","href","class","ReviewModal","children","_MovieDetails","showReviewComponent","favoriteBtn","reviewToEdit","txt","byUser","isRate","activeRateCount","prevActiveRateCount","fullDescription","innerHeight","updateDimensions","handleChange","onOpenReviewModal","selectRate","rate","getRatingActiveStars","backgroundImagePosition","includes","onGetReviewTxt","word","longDescription","desc","overviewRef","createRef","toggleDescription","current","scrollIntoView","loadMovie","wideCoverUrl","renderTitleColor","renderInfoColor","year","scenesUrl","scene","ref","description","cast","actor","img","split","character","cols","rows","substring","MovieDetails","add","reviewId","addedReview","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","secure_url","socket","_UserDetails","imgUrl","onUploadImg","cloudImg","handleInput","onSave","removeFromFavList","history","goBack","loadReviews","reviewService","UserDetails","socketService","setup","io","terminate","on","eventName","cb","off","emit","broadcast","Toolbar","fullScreenChatBackground","onGoBack","onShare","data-action","rel","UserPreview","isSelected","userPosition","posX","previewRef","onUserToggle","currUser","previewEl","getBoundingClientRect","left","setTimeout","width","onUsernameSelect","sendGift","UsersCarousel","400","600","700","800","1400","1600","gift","socketInfo","userIdx","el","_Search","toggleView","onClearSearch","inputField","searchingValue","autoComplete","input","onFocus","autocomplete","onClearInput","Search","_MobileToolbar","color","active","changeToActiveBtn","encodeURIComponent","MobileToolbar","withRouter","_UserList","currPage","currSearch","getUsersForDisplay","numOfUsers","myUserIdx","findIndex","splice","unshift","startUser","onMoveRight","onMoveLeft","vlaue","toLowerCase","onChangeUserListAndChatToVisible","getFileredUsersForDisplay","isVisible","isFullScreen","toggleFullScreen","SwitchTransition","CSSTransition","addEndListener","node","done","classNames","UserList","customEmojis","short_names","text","emoticons","keywords","customCategory","msgList1","from","nameColor","senderId","_Chat","sendedMsg","msgList","giftName","showGift","showRecivedGift","showRecivedMsg","giftPosition","gifts","msgForUser","msgsFromUsers","popupVisible","inputRef","scrollBarRef","handleClick","document","handleOutsideClick","onAnabelToggleUserList","onDisableToggleUserList","contains","rotatedGiftTxt","setupSockets","roomId","firstUser","onAddNewUser","_gift","uuid","newGifts","currMsg","newMsgs","_msg","cleanUp","userRoom","onMsgSend","sendMsg","onMsgEnter","onUpdateMovieMsgList","charAt","removeMsg","hideEmojis","closeMsg","onMsgInput","onEmojiSelect","emoji","native","focus","ReplyToSender","sender","privateMsg","isPrivate","replaceWithGif","result","replaceWithTagName","em","trolldance","temp","searchStr","replace","tagname","scrollDown","scrollBar","scrollToBottom","dangerouslySetInnerHTML","__html","char","fullScreenChat","showParticles","value_area","shape","stroke","polygon","nb_sides","image","height","opacity_min","sync","straight","bounce","attract","rotateX","rotateY","detect_on","resize","grab","particles_nb","retina_detect","onToggleUserList","isChatVisible","fullScreenMsg","fullScreenMessageMe","fullScreenMessageUser","custom","theme","perLine","showPreview","showSkinTones","onSelect","exclude","emojiTooltip","fullScreenInput","onKeyPress","showEmojis","Chat","ReactionPicker","reactions","onSelectReaction","VideoControls","showVolume","showReactions","reactionIds","clickedOutsideVolume","myReaction","volumeRef","handleClickOutside","onChangeDisableToggleUserList","handleClickInsideVolume","onToggleDisableToggleUserList","newReaction","getRandomNum","removeReaction","min","max","reaction","onToggleReactions","hideReactions","changeVolume","onVolumeChange","onVolumeToggle","hideVolume","fullScreenControlPanel","onTogglePlay","isPlaying","currTime","step","volume","right","MovieLoader","phrases","currTxt","txtInterval","hideSpinner","animateText","counter","setInterval","_Room","showVideo","timeSet","startX","startY","endX","endY","played","secondsElapsed","notFirstUser","allowedToJoin","request","isFirstUser","disableToggleUserList","stopToggleUserList","newUserFromBackend","playBtnMsg","loadedSeconds","isMuted","playerRef","stopVideo","currUserName","onDuration","onProgress","progress","player","seekTo","onGetCurrTime","onPlaying","newVolume","onMovieReady","toggleEmojis","fullScreenWatchRoom","fullScreenRoomWindow","fullScreenFrame","fullScreenIframe","handleTouchStart","x","targetTouches","clientX","y","clientY","handleTouchMove","screen","onTouchStart","touchStartEvent","onTouchMove","touchMoveEvent","onUpdateFirstUser","stopMovie","videoUrl","playing","Room","_MoviePreview","appCondition","MoviePreview","MoviesCarousel","variableWidth","MovieList","popular","FilteredMovieList","FilteredMovie","currGenre","moviesByGenres","currCmp","getMoviesForDisplay","MovieFilter","activeBtn","keyUpValue","buttons","currCategory","changeGenre","event","searchValue","onKeyUp","onKeyUpValue","bind","changeToActive","_Movie","currView","cmpMap","newView","category","DynamicCmp","Movie","_CategoryPage","changeCategory","CategoryPage","_EditorsMovies","getMovies","EditorsMovies","path","component","UserModal","onOpenUserModal","_Navbar","showUserModal","listenScrollEvent","scrollY","pathname","hideNavbar","onActiveBtnAndToggleView","changeAppActiveName","backgroundColor","Navbar","FavoritePreview","FavoriteList","favListRef","clickedOutside","handleClickInside","favMovie","_MobileNavbar","MobileNavbar","_App","routes","route","exact","App","initialState","selectedReview","localLoggedinUser","rootReducer","combineReducers","action","savedMovie","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6c8200e4.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import Axios from 'axios'\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/api/' : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n  withCredentials: true,\r\n})\r\n\r\nexport default {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, 'GET', data)\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data)\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data)\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data)\r\n  },\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data,\r\n    })\r\n    return res.data\r\n  } catch (err) {\r\n    console.log(\r\n      `Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`\r\n    )\r\n    console.dir(err)\r\n    if (err.response && err.response.status === 401) {\r\n      window.location.assign('/#/login')\r\n    }\r\n    throw err\r\n  }\r\n}\r\n","import httpService from './httpService'\r\n\r\nconst KEY = 'favorite'\r\nlet gFavoriteMovies =[];\r\n\r\nexport const movieService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    getFavoriteList,\r\n    toggleFavList\r\n}\r\n\r\n\r\nfunction query(filterBy) {\r\n    const queryStr = `?search=${filterBy.search}&minYear=${filterBy.minYear}&maxYear=${filterBy.maxYear}&type=${filterBy.type}`;\r\n    return httpService.get(`movie${queryStr}`);\r\n}\r\n\r\nfunction getById(movieId) {\r\n    return httpService.get(`movie/${movieId}`)\r\n}\r\n\r\nfunction save(movie) {\r\n    return httpService.put(`movie/${movie._id}`, movie)\r\n}\r\n\r\nfunction getFavoriteList(){\r\n    gFavoriteMovies = loadFromStorage(KEY)\r\n    if(!gFavoriteMovies){\r\n        return \"no favorite movies\"\r\n    }else{\r\n        console.log(\"fav list in Storage:\",gFavoriteMovies)\r\n        return Promise.resolve(gFavoriteMovies)\r\n    }\r\n}\r\n\r\nfunction toggleFavList(movie){\r\n    console.log(\"the movie that added to fav list in Storage:\",movie)\r\n    gFavoriteMovies = [movie, ...gFavoriteMovies]\r\n    saveToStorage(KEY, gFavoriteMovies)\r\n}\r\n\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage.setItem(key, JSON.stringify(val))\r\n}\r\n\r\nfunction loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return JSON.parse(val)\r\n}","import { movieService } from '../../services/movieService'\r\nimport { loading, doneLoading } from './systemActions';\r\n\r\nexport function loadMovies(filterBy) {\r\n  \r\n    return async dispatch => {\r\n        try{\r\n            dispatch(loading());\r\n            const movies = await movieService.query(filterBy);\r\n            dispatch({ type: 'SET_MOVIES', movies })\r\n        }catch(err){\r\n            console.log('MovieActions: err in loadMovies', err);\r\n        }finally{\r\n            dispatch(doneLoading());\r\n        }\r\n    }\r\n}\r\n\r\nexport function addMovie(movie) {\r\n    return async dispatch => {\r\n        try{\r\n            await movieService.save(movie)\r\n            dispatch({ type: 'ADD_MOVIE', movie})\r\n        }catch(err){\r\n            console.log('MovieActions: err in addMovie', err); \r\n        }\r\n    }\r\n}\r\n\r\nexport function updateMovie(movie) {\r\n    return async dispatch => {\r\n        try{\r\n            await movieService.save(movie)\r\n            dispatch({ type: 'UPDATE_MOVIE', movie})\r\n        }catch(err){\r\n            console.log('MovieActions: err in updateMovie', err); \r\n        }\r\n    }\r\n}\r\n\r\n","export function loading() {\r\n  return { type: 'LOADING_START' }\r\n}\r\nexport function doneLoading() {\r\n  return { type: 'LOADING_DONE' }\r\n}","import httpService from './httpService'\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n  signup,\r\n  getUsers,\r\n  getById,\r\n  remove,\r\n  update,\r\n  addFavMovie,\r\n  removeFavMovie,\r\n  loginByGoogle\r\n}\r\n\r\nfunction getUsers() {\r\n  return httpService.get('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n  return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n  return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n}\r\n\r\nasync function login(userCred) {\r\n  const user = await httpService.post('auth/login', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function signup(userCred) {\r\n  const user = await httpService.post('auth/signup', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function logout() {\r\n  await httpService.post('auth/logout')\r\n  sessionStorage.clear()\r\n}\r\n\r\nasync function loginByGoogle(userCred) {\r\n  const user = await httpService.post('auth/loginByGoogle', userCred)\r\n  return _handleLogin(user)\r\n}\r\n\r\nfunction _handleLogin(user) {\r\n  sessionStorage.setItem('user', JSON.stringify(user))\r\n  return user\r\n}\r\n\r\nasync function addFavMovie(user,movie){\r\n  user.favMovies = [movie, ...user.favMovies]\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n\r\n}\r\nasync function removeFavMovie(user,movie){\r\n  user.favMovies = user.favMovies.filter(_movie=>_movie._id!==movie._id)\r\n  const newUser = await httpService.put(`user/${user._id}`, user)\r\n  return _handleLogin(newUser)\r\n}","import userService from '../../services/userService'\r\nimport { loading, doneLoading } from './systemActions'\r\n\r\n// THUNK\r\nexport function loadUsers() {\r\n  return async (dispatch) => {\r\n    try {\r\n      // example for loading\r\n      dispatch(loading())\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n      // example for rerouting - after changing the store\r\n      // history.push('/some/path');\r\n    } finally {\r\n      dispatch(doneLoading())\r\n    }\r\n  }\r\n}\r\n// THUNK\r\nexport function removeUser(userId) {\r\n  return async (dispatch) => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'USER_REMOVE', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n// THUNK\r\nexport function login(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.login(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.signup(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\nexport function logout() {\r\n  return async (dispatch) => {\r\n    await userService.logout()\r\n    dispatch({ type: 'SET_USER', user: null })\r\n  }\r\n}\r\n\r\nexport function loginByGoogle(userCreds) {\r\n  return async (dispatch) => {\r\n    const user = await userService.loginByGoogle(userCreds)\r\n    dispatch({ type: 'SET_USER', user })\r\n  }\r\n}\r\n\r\nexport function updateUser(newUser) {\r\n  return async (dispatch) => {\r\n    const user = await userService.update(newUser)\r\n    dispatch({ type: 'UPDATE_USER', user })\r\n  }\r\n}\r\n\r\nexport function toggleFavUserList(loggedInUser,movie){\r\n  const newMovieList = loggedInUser.favMovies.filter(_movie=>_movie._id===movie._id)\r\n  if(newMovieList.length>0){\r\n    return async dispatch => {\r\n      try{\r\n          const user = await userService.removeFavMovie(loggedInUser,movie)\r\n          dispatch({ type: 'REMOVE_FAV_MOVIE', user})\r\n      }catch(err){\r\n          console.log('UserActions: err in removeFavoriteMovie', err); \r\n      }\r\n    }\r\n  }else{\r\n    return async (dispatch) => {\r\n      try{\r\n          const user = await userService.addFavMovie(loggedInUser,movie)\r\n          dispatch({ type: 'ADD_FAV_MOVIE', user})\r\n      }catch(err){\r\n          console.log('UserActions: err in addFavoriteMovie', err); \r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport Tilt from 'react-parallax-tilt';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport function CinemaCard({ movie }) {\r\n  return (\r\n    <React.Fragment>\r\n      <Tilt\r\n        className=\"parallax-effect-glare-scale\"\r\n        perspective={500}\r\n        glareEnable={true}\r\n        glareMaxOpacity={0.45}\r\n        scale={1.02}\r\n        style={{backgroundImage: `url(${movie.coverUrl})`}}\r\n      >\r\n        <div className=\"inner-element\">\r\n          <Link to={`/room/${movie._id}`}><div className=\"paly-card-btn\"><i className=\"fas fa-play card-play\"></i></div></Link>\r\n        </div>\r\n      </Tilt>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class HeroCarousel extends Component{\r\n\r\n    changeRateToStars=(movie)=>{\r\n      let content = [];\r\n      const avgRate = this.props.avgReview(movie)/2\r\n      for (let i = 1; i < Math.ceil(avgRate); i++) {\r\n        content.push(<i className='fas fa-star star-color'></i>)\r\n        \r\n      }\r\n      if(Math.ceil(avgRate)===avgRate){\r\n        return <i className='fas fa-star star-color'></i>\r\n      }else if(Math.ceil(avgRate)>avgRate){\r\n        content.push(<i className='fas fa-star-half-alt star-color'></i>)\r\n      }\r\n      if(Math.ceil(avgRate)<5){\r\n        for (let i = avgRate+1; i < 5; i++) {\r\n          content.push(<i className='far fa-star star-color'></i>)\r\n          \r\n        }\r\n      }\r\n      return content\r\n    }\r\n\r\n    render() {\r\n      const {movies, toggleFavoriteList, isFavoriteMovie} = this.props\r\n      return (\r\n        <React.Fragment>\r\n        <AliceCarousel\r\n        infinite\r\n        mouseTracking\r\n        duration={400}\r\n        autoPlay={true}\r\n        startIndex = {1}\r\n        fadeOutAnimation={true}\r\n        mouseDragEnabled={true}\r\n        playButtonEnabled={true}\r\n        autoPlayInterval={2000}\r\n        autoPlayDirection=\"ltr\"\r\n        autoPlayActionDisabled={true}\r\n      >\r\n         {movies.map((movie, idx) => (\r\n            <div className=\"hero-carousel\">\r\n                 <div className={`slide${idx + 1} slide`}  style={{\r\n                    backgroundImage: `url(${\r\n                      movie.heroCoverUrl ? movie.heroCoverUrl : ''\r\n                    })`,\r\n                  }}>\r\n                 {/* movie details */}\r\n       <div className='text-inside-slide'>\r\n         <div className='slide-upper-text-container'>\r\n          <div className='slide-title'>{movie.title}</div>\r\n         <div className={`slide-genres`}>\r\n             {movie.genres.map((genre, idx) => (\r\n              <div key={movie._id} className={`genre${idx + 1}`}>\r\n                {genre}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className='slide-btns'>\r\n            <Link  to={`/room/${movie._id}`} >\r\n              <div className='slide-btn1 slide-btn'>\r\n                watch movie\r\n              </div>\r\n            </Link>\r\n            <Link to={`/movie/${movie._id}`} className=\"slide-btn-style slide-btn\"  >\r\n              <div className={`slide-btn2 `}>\r\n                view info\r\n              </div>\r\n            </Link>\r\n           \r\n           \r\n            <div className={`slide-btn3 slide-btn`} onClick={()=>{toggleFavoriteList(movie)}}>\r\n              {isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                <Link ><i className=\"fas fa-plus\"></i></Link>:\r\n                <Link ><i className=\"fas fa-check\"></i></Link>\r\n              }\r\n              add to favorite\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='slide-rate'>\r\n         { this.changeRateToStars(movie)}\r\n        </div>\r\n      </div>\r\n      {/* and of movie details */}\r\n     \r\n      {/* atart of information about the app - text */}\r\n      <div className='text-inside-slide2'>\r\n        <div className='info-in-slide'>\r\n          {/* <div>\r\n            Watch movies with your friends with interactive chat and live reactions\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n      {/* end of information about the app */}\r\n               </div>\r\n               </div>\r\n                ))}\r\n        </AliceCarousel>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n    // <div className={`slide${idx + 1}`}>\r\n    //   {/* movie details */}\r\n    //   <div className='text-inside-slide'>\r\n    //     <div className='slide-upper-text-container'>\r\n    //       <div className='slide-title'>{movie.title}</div>\r\n    //       <div className={`slide-genres`}>\r\n    //         {movie.genres.map((genre, idx) => (\r\n    //           <div key={movie._id} className={`genre${idx + 1}`}>\r\n    //             {genre}\r\n    //           </div>\r\n    //         ))}\r\n    //         {/* <div className=\"duration\">Duration: 1h 52m</div> */}\r\n    //       </div>\r\n    //       <div className='slide-btns'>\r\n    //         <div className='slide-btn1 slide-btn'>\r\n    //           <Link  to={`/room/${movie._id}`}>watch movie</Link>\r\n    //         </div>\r\n    //         <div className={`slide-btn2 slide-btn`}>\r\n    //           <Link to={`/movie/${movie._id}`} >view info</Link>\r\n    //         </div>\r\n           \r\n    //         <div className={`slide-btn3 slide-btn`} onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n    //           {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n    //             <Link><i className=\"fas fa-plus\"></i></Link>:\r\n    //             <Link><i className=\"fas fa-check\"></i></Link>\r\n    //           }\r\n    //           add to favorite\r\n    //         </div>\r\n    //       </div>\r\n    //     </div>\r\n    //     <div className='slide-rate'>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star star-color'></i>\r\n    //       <i className='fas fa-star-half-alt star-color'></i>\r\n    //       <i className='far fa-star star-color'></i>\r\n    //     </div>\r\n    //   </div>\r\n    //   {/* and of movie details */}\r\n     \r\n    //   {/* atart of information about the app - text */}\r\n    //   <div className='text-inside-slide2'>\r\n    //     <div className='info-in-slide'>\r\n    //       {/* <div>\r\n    //         Watch movies with your friends with interactive chat and live reactions\r\n    //       </div> */}\r\n    //     </div>\r\n    //   </div>\r\n    //   {/* end of information about the app */}\r\n    // </div>\r\n\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Carousel extends Component{\r\n\r\n\r\n    onSlideChange(e) {\r\n      console.log('Item`s position during a change: ', e.item);\r\n      console.log('Slide`s position during a change: ', e.slide);\r\n    }\r\n  \r\n    onSlideChanged(e) {\r\n      console.log('Item`s position after changes: ', e.item);\r\n      console.log('Slide`s position after changes: ', e.slide);\r\n    }\r\n  \r\n    render() {\r\n      const {movies} = this.props\r\n      const responsive = {\r\n        0: {\r\n          items: 1\r\n        },\r\n        350: {\r\n          items: 3\r\n        },\r\n        720: {\r\n          items: 3\r\n        },\r\n        1000: {\r\n          items: 4\r\n        },\r\n        1290: {\r\n          items: 5\r\n        }\r\n      };\r\n  \r\n      return (\r\n        <React.Fragment>\r\n        <AliceCarousel\r\n        duration={400}\r\n        // autoPlay={true}\r\n        startIndex = {1}\r\n        fadeOutAnimation={true}\r\n        mouseDragEnabled={true}\r\n        playButtonEnabled={true}\r\n        responsive={responsive}\r\n        autoPlayInterval={2000}\r\n        autoPlayDirection=\"ltr\"\r\n        autoPlayActionDisabled={true}\r\n        onSlideChange={this.onSlideChange}\r\n        onSlideChanged={this.onSlideChanged}\r\n        className=\"alice-carousel\"\r\n        id=\"top-carousel\"\r\n      >\r\n        {movies.slice(10,20).map((movie, idx) => (\r\n          <Link to={`/movie/${movie._id}`} >\r\n                  <div key={movie._id} className={`carousel-card`}>\r\n                    {/* <Link to={`/movie/${movie._id}`} > */}\r\n                    <div className=\"movie-img-container\">\r\n                      <div className='movie-img'\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            movie.coverUrl ? movie.coverUrl : ''\r\n                          })`,\r\n                        }}>\r\n                          \r\n                      </div>\r\n                    </div>\r\n                        <div className={`top-number ${idx===9?\"last-child\":\"\"}`}>{idx + 1}</div>\r\n                      \r\n                  </div>\r\n          </Link>\r\n                ))}\r\n        </AliceCarousel>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { loginByGoogle } from '../store/actions/userActions'\r\n\r\nexport class _GoogleOauth extends Component {\r\n    responseGoogle = (response) => {\r\n        const userCreds = { \r\n            email: response.profileObj.email,\r\n            avatar:response.profileObj.imageUrl, \r\n            username: response.profileObj.givenName \r\n        }\r\n        this.props.loginByGoogle(userCreds)\r\n        console.log(\"loggedInUser:\", this.props.loggedInUser)\r\n        this.props.closeModal()\r\n    }\r\n       \r\n    render() {\r\n        return (\r\n           <div>\r\n                <GoogleLogin\r\n                    clientId=\"866960241942-jhfvtsh6b7adl5jae5cth72jlhug4i72.apps.googleusercontent.com\"\r\n                    buttonText=\"Login With Google\"\r\n                    onSuccess={this.responseGoogle}\r\n                    onFailure={this.responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n           </div> \r\n        )}\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      users: state.user.users,\r\n      loggedInUser: state.user.loggedInUser,\r\n      isLoading: state.system.isLoading,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loginByGoogle\r\n}\r\nexport const GoogleOauth = connect(mapStateToProps, mapDispatchToProps)(_GoogleOauth)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Particles from 'react-particles-js'\r\nimport { GoogleOauth } from '../cmps/GoogleOauth'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup,\r\n} from '../store/actions/userActions'\r\n\r\nclass Test extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    signupCred: {\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n    },\r\n    section: true,\r\n  }\r\n\r\n  loginHandleChange = (ev) => {\r\n    const { name, value } = ev.target\r\n    this.setState((prevState) => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = (ev) => {\r\n    const { name, value } = ev.target\r\n    this.setState((prevState) => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  doLogin = async (ev) => {\r\n    ev.preventDefault()\r\n    const { email, password } = this.state.loginCred\r\n    if (!email || !password) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { email, password }\r\n    this.props.login(userCreds)\r\n    this.setState({ loginCred: { email: '', password: '' } })\r\n    this.props.closeModal()\r\n  }\r\n\r\n  doSignup = async (ev) => {\r\n    ev.preventDefault()\r\n    const { email, password, username } = this.state.signupCred\r\n    if (!email || !password || !username) {\r\n      return this.setState({ msg: 'All inputs are required!' })\r\n    }\r\n    const signupCreds = { email, password, username }\r\n    this.props.signup(signupCreds)\r\n    this.setState({ signupCred: { email: '', password: '', username: '' } })\r\n    this.props.closeModal()\r\n  }\r\n\r\n  removeUser = (userId) => {\r\n    this.props.removeUser(userId)\r\n  }\r\n\r\n  onSignup = () => {\r\n    this.setState({ section: !this.state.section })\r\n  }\r\n\r\n  render() {\r\n    let signupSection = (\r\n      <form onSubmit={this.doSignup} className='signup-container'>\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='email'\r\n          value={this.state.signupCred.email}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Email'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          name='password'\r\n          type='password'\r\n          value={this.state.signupCred.password}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Password'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='username'\r\n          value={this.state.signupCred.username}\r\n          onChange={this.signupHandleChange}\r\n          placeholder='Username'\r\n          maxlength=\"10\"\r\n        />\r\n        <br />\r\n        <button className='login-btn'>Signup</button>\r\n      </form>\r\n    )\r\n    let loginSection = (\r\n      <form onSubmit={this.doLogin} className='login-container'>\r\n        <input\r\n          className='login-input'\r\n          type='text'\r\n          name='email'\r\n          value={this.state.loginCred.email}\r\n          onChange={this.loginHandleChange}\r\n          placeholder='Email'\r\n        />\r\n        <br />\r\n        <input\r\n          className='login-input'\r\n          type='password'\r\n          name='password'\r\n          value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange}\r\n          placeholder='Password'\r\n        />\r\n        <br />\r\n        <button className='login-btn'>Login</button>\r\n      </form>\r\n    )\r\n\r\n    const { loggedInUser } = this.props\r\n    return (\r\n      <React.Fragment>\r\n        <Particles\r\n          canvasClassName='example'\r\n          params={{\r\n            particles: {\r\n              number: {\r\n                value: 160,\r\n                density: {\r\n                  enable: false,\r\n                },\r\n              },\r\n              size: {\r\n                value: 3,\r\n                random: true,\r\n                anim: {\r\n                  speed: 4,\r\n                  size_min: 0.3,\r\n                },\r\n              },\r\n              line_linked: {\r\n                enable: false,\r\n              },\r\n              move: {\r\n                random: true,\r\n                speed: 1,\r\n                direction: 'top',\r\n                out_mode: 'out',\r\n              },\r\n            },\r\n            interactivity: {\r\n              events: {\r\n                onhover: {\r\n                  enable: true,\r\n                  mode: 'bubble',\r\n                },\r\n                onclick: {\r\n                  enable: true,\r\n                  mode: 'repulse',\r\n                },\r\n              },\r\n              modes: {\r\n                bubble: {\r\n                  distance: 250,\r\n                  duration: 2,\r\n                  size: 0,\r\n                  opacity: 0,\r\n                },\r\n                repulse: {\r\n                  distance: 400,\r\n                  duration: 4,\r\n                },\r\n              },\r\n            },\r\n          }}></Particles>\r\n        <div className='login-page'>\r\n        <button className='close-modal' onClick={this.props.closeModal}>\r\n              x\r\n          </button>\r\n          <h1 className='login-title'>\r\n            <div\r\n              className={`welcome-txt ${\r\n                this.props.addFavMovieTxt ? 'hide-txt' : ''\r\n              }`}>\r\n              <div>Welcome</div>\r\n              <div className='welcome-txt2'>\r\n                Sign in with your email address\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={`guest-addFav-txt ${\r\n                this.props.addFavMovieTxt ? '' : 'hide-txt'\r\n              }`}>\r\n              <div className='guest-addFav-center-txt'>Add to favorites</div>\r\n              <div className='guest-addFav-bigger-txt'>\r\n                Before you can do that...\r\n              </div>\r\n              <div>Sign in or register with your email address</div>\r\n            </div>\r\n          </h1>\r\n          <h2 className='mag'>{this.state.msg}</h2>\r\n\r\n\r\n          <div className='auth-form'>\r\n\r\n            {!loggedInUser && this.state.section ? loginSection : signupSection}\r\n            <div className='login-txt'>\r\n              {`${this.state.section ? \"DON'T HAVE ACCOUNT YET?\" : ''}`}{' '}\r\n            </div>\r\n            <div className=\"google-oauth\">\r\n            <GoogleOauth className=\"google-oauth-btn\" closeModal={this.props.closeModal}/>\r\n            </div>\r\n            <div className='login-txt-btn' onClick={this.onSignup}>{`${\r\n              this.state.section ? 'Signup Here' : 'Go Back'\r\n            }`}</div>\r\n          </div>\r\n\r\n          <hr />\r\n         \r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.user.users,\r\n    loggedInUser: state.user.loggedInUser,\r\n    isLoading: state.system.isLoading,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  removeUser,\r\n  loadUsers,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Test)\r\n","import React from 'react'\r\nimport Login from '../pages/Login'\r\nexport class LoginModal extends React.Component {\r\n  state = {\r\n    isShown: true,\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ isShown: false })\r\n    this.props.onOpenModal()\r\n  }\r\n  render() {\r\n    const { isShown } = this.state\r\n    return (\r\n      <div\r\n        className={`modal-wrapper ${isShown ? '' : 'hide'}`}\r\n        onClick={this.closeModal}>\r\n        <div className='modal-content' onClick={(ev) => ev.stopPropagation()}>\r\n          <Login closeModal={this.closeModal} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Slider from \"react-slick\";\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction NextArrow(props) {\r\n    const { className, style, onClick} = props;\r\n    return (\r\n      <div\r\n        className={`${className} slick-next-btn-style`}\r\n        style={{ ...style }}\r\n        onClick={onClick}\r\n      />\r\n    );\r\n}\r\n  \r\nfunction PrevArrow(props) {\r\n    const { className, style, onClick } = props;\r\n    return (\r\n      <div\r\n        className={`${className} slick-prev-btn-style`}\r\n        style={{ ...style }}\r\n        onClick={onClick}\r\n      />\r\n    );\r\n}\r\n\r\n\r\nexport class NewMoviesCarousel extends Component{\r\n    render() {\r\n      const {movies, isFavoriteMovie, toggleFavoriteList, avgReview } = this.props\r\n      const settings = {\r\n        nextArrow: <NextArrow />,\r\n        prevArrow: <PrevArrow />,\r\n        // infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 8,\r\n        slidesToScroll: 3,\r\n        initialSlide: 0,\r\n        swipeToSlide: true,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1160,\r\n                settings: {\r\n                  slidesToShow: 8,\r\n                  slidesToScroll: 3,\r\n                  // infinite: true,\r\n                }\r\n            },\r\n          {\r\n            breakpoint: 1024,\r\n            settings: {\r\n              slidesToShow: 7,\r\n              slidesToScroll: 3,\r\n              // infinite: true,\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 990,\r\n            settings: {\r\n              slidesToShow: 6,\r\n              slidesToScroll: 2,\r\n              // infinite: true,\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 870,\r\n            settings: {\r\n              slidesToShow: 5,\r\n              slidesToScroll: 2,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 730,\r\n            settings: {\r\n              slidesToShow: 4,\r\n              slidesToScroll: 1,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 600,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 1,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 420,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 2,\r\n            }\r\n          }\r\n        ]\r\n      };\r\n  \r\n      return (\r\n        <React.Fragment>\r\n       <Slider {...settings}>\r\n            {movies.slice(0,11).map((movie) => (\r\n                  <div key={movie._id} className={`home-new-movie-container`}>\r\n\r\n                    <Link to={`/movie/${movie._id}`} className='new-movie-img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n\r\n                    <div className='info-continer-movie-card'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n\r\n                      <div className='genres-container'>\r\n                        {movie.genres.map((genre,idx) => (\r\n                          <div  key={idx} className='genre'>{genre}</div>\r\n                        ))}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <span className='movie-btn movie-btn-details'>\r\n                          <Link to={`/movie/${movie._id}`}>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn'>\r\n                          <Link to={`/room/${movie._id}`}>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn' onClick={()=>{toggleFavoriteList(movie)}}>\r\n                        {isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                          <Link><i className=\"fas fa-plus\"></i></Link>:\r\n                          <Link><i className=\"fas fa-check\"></i></Link>\r\n                        }\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className='rate-container'>\r\n                        <div>\r\n                          <i className='far fa-eye'></i>\r\n                          {movie.viewersNumber\r\n                            ? movie.viewersNumber\r\n                            : Math.floor(Math.random() * (200 - 50) + 50)}\r\n                        </div>\r\n                         {avgReview(movie)}/10\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n            ))}\r\n        </Slider>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { CinemaCard } from '../cmps/CinemaCard'\r\nimport AOS from 'aos'\r\nimport 'aos/dist/aos.css' // You can also use <link> for styles\r\nimport { FaRegEye } from 'react-icons/fa'\r\nimport { AiFillStar } from 'react-icons/ai'\r\nimport { BsArrowUp } from 'react-icons/bs'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { HeroCarousel } from \"../cmps/HeroCarousel\";\r\nimport { Carousel } from \"../cmps/Carousel\";\r\nimport { LoginModal } from '../cmps/LoginModal';\r\nimport { NewMoviesCarousel } from '../cmps/NewMoviesCarousel';\r\n\r\nimport { HashLink as Link } from 'react-router-hash-link'\r\n\r\nclass _Home extends Component {\r\n  state = {\r\n    filterBy: {\r\n      search: '',\r\n      minYear: -Infinity,\r\n      maxYear: Infinity,\r\n      type: 'All',\r\n    },\r\n    showComponent: false,\r\n    innerWidth:null,\r\n    desktopExample: null\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadMovies(this.state.filterBy)\r\n    AOS.init({\r\n      // initialise with other settings\r\n      // duration : 2000\r\n    })\r\n    window.scrollTo(0, 0);\r\n    window.addEventListener('resize', this.handleResize)\r\n    if(window.innerWidth>414){\r\n      this.setState({desktopExample:true})\r\n    }else{\r\n      this.setState({desktopExample:false})\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const filterBy = {\r\n      search: '',\r\n      minYear: -Infinity,\r\n      maxYear: Infinity,\r\n      type: 'All',\r\n    }\r\n    this.setState({ filterBy })\r\n    window.removeEventListener('resize', this.handleResize)\r\n  }\r\n\r\n  handleResize=()=>{\r\n    this.setState({innerWidth: window.innerWidth})\r\n  }\r\n\r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      console.log(\"loggedInUser.favMovies:\", this.props.loggedInUser.favMovies)\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n      console.log('favoriteList:',this.props.favoriteList)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  handleInputs = (ev) => {\r\n    const field = ev.target.name\r\n    const value = ev.target.value\r\n    this.setState(\r\n      { ...this.state, filterBy: { ...this.state.filterBy, [field]: value } },\r\n      () => {\r\n        this.props.loadMovies(this.state.filterBy)\r\n      }\r\n    )\r\n  }\r\n  avgReview = (movie) => {\r\n    let sumReviews = 0\r\n    let avg = 0\r\n    let ratingCount = 0\r\n    if(movie.reviews){\r\n      movie.reviews.forEach((review) => {\r\n        if (review.rating) {\r\n          sumReviews += parseInt(review.rating)\r\n          ratingCount++\r\n        }\r\n      })\r\n      avg = sumReviews / ratingCount\r\n      return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n  \r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  getHeroMoviesForDisplay(){\r\n    return this.props.movies.filter(\r\n      (movie) =>\r\n      movie.title === 'Wrath of the Titans' ||\r\n      movie.title === 'Guardians of the Galaxy' ||\r\n      movie.title === 'Avengers: Endgame' ||\r\n      movie.title === 'IT'\r\n    );\r\n  }\r\n\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.innerWidth !== this.state.innerWidth) {\r\n      this.setState({innerWidth:window.innerWidth})\r\n      if(window.innerWidth>414){\r\n        this.setState({desktopExample:true})\r\n      }else{\r\n        this.setState({desktopExample:false})\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { movies } = this.props\r\n    const HeroMovies = this.getHeroMoviesForDisplay()\r\n    if (!movies) return <div>Loading....</div>\r\n    const watchRoomMovies = movies.filter(\r\n      (movie) =>\r\n        movie.title === 'X-Men: Dark Phoenix' ||\r\n        movie.title === '21 Bridges' ||\r\n        movie.title === 'Hellboy' ||\r\n        movie.title === 'Avatar'\r\n    )\r\n    \r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n        </div>\r\n        <div className='movie-app' id='top'>\r\n          <div className='main-header-container'>\r\n            {/* start of hero */}\r\n            <div className='hero-slider'>\r\n              <HeroCarousel \r\n              movies={HeroMovies} \r\n              toggleFavoriteList={this.toggleFavoriteList} \r\n              isFavoriteMovie={this.isFavoriteMovie}\r\n              onOpenModal={this.onOpenModal}\r\n              avgReview={this.avgReview}\r\n              />\r\n            </div>\r\n            {/* end of hero */}\r\n          </div>\r\n          {/* end of main header container */}\r\n          <div className='main-movies-section'>\r\n            <div className='Streaming-section1' >\r\n              <div>So How Does It Work...</div>\r\n              <div className='explantion-btn' data-aos='fade-right'>\r\n                <Link to='/#example'>\r\n                  <button>Click Here</button>\r\n                </Link>\r\n                <span></span>\r\n                <span></span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='live-cinema-section'>\r\n         {this.state.desktopExample&&<div className='live-movie-example'>\r\n                <div className='img-example'>\r\n                  <img\r\n                    className='laptop-blank'\r\n                    src='assets/img/laptop-blank.png'\r\n                    alt=''\r\n                  />\r\n                  <video className='home-video' loop autoPlay muted>\r\n                    <source src='assets/img/video.mp4' type='video/mp4' />\r\n                  </video>\r\n                  <img\r\n                    className='chat-img2'\r\n                    src='assets/img/chat-img2.png'\r\n                    alt=''\r\n                  />\r\n                </div>\r\n                <div className='movie-example'>\r\n                  <div className='main-title'>\r\n                    <div>WATCH WHATEVER, TOGETHER</div>\r\n                  </div>\r\n                  <div className='main-title2'>\r\n                    Connect with others who are as obsessed with your favorite\r\n                    movies as you are. Come together for watch parties, chat\r\n                    about your favorite shows and movies, and discover your next\r\n                    binge.\r\n                  </div>\r\n                  <div className='title'>\r\n                    <i> Streaming Live Now</i>\r\n                  </div>\r\n                </div>\r\n              </div>}\r\n               {!this.state.desktopExample&&<div className='live-section-title'>\r\n                    <i> Streaming Live Now</i>\r\n              </div>}\r\n              <div className='live-rooms-container'>\r\n                <div className='watch-container'>\r\n                  {watchRoomMovies.map((movie,idx) => (\r\n                    <div  key={idx}>\r\n                      <div className='live-tag'>\r\n                        <i>Live</i>\r\n                      </div>\r\n                      <CinemaCard className='watch-movie' movie={movie} />\r\n                      <div className='watch-movie-details'>\r\n                        <div\r\n                          className={`title ${\r\n                            movie.title.length > 11 ? 'ellipsis' : ''\r\n                          }`}>\r\n                          <div>{movie.title}</div>\r\n                        </div>\r\n                        <div className='details'>\r\n                          {\r\n                            <span \r\n                            className='details-genre'>\r\n                              <i>{movie.genres[2]}</i>\r\n                            </span>\r\n                          }\r\n                        </div>\r\n                        <div>\r\n                          <Link to={`/movie/${movie._id}`}>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </Link>\r\n                        </div>\r\n                        <div className='watching-details'>\r\n                          <div>\r\n                            <FaRegEye className='faRegEye icon-style' />\r\n                            {movie.viewersNumber\r\n                              ? movie.viewersNumber\r\n                              : Math.floor(Math.random() * (2000 - 500) + 500)}\r\n                          </div>\r\n                          <div>\r\n                            <AiFillStar className='icon-style'  />\r\n                            {this.avgReview(movie)}/10\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* end of live cinema section */}\r\n\r\n            <div className='new-movies'>\r\n              <div className='movies-title'>\r\n                New Movies in WatChat\r\n              </div>\r\n              {/* <div className='home-new-movies-container'>\r\n                {movies.slice(0,11).map((movie) => (\r\n                  <div key={movie._id} className={`home-new-movie-container`}>\r\n\r\n                    <Link to={`/movie/${movie._id}`} className='new-movie-img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n\r\n                    <div className='info-continer-movie-card'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n\r\n                      <div className='genres-container'>\r\n                        {movie.genres.map((genre,idx) => (\r\n                          <div  key={idx} className='genre'>{genre}</div>\r\n                        ))}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <span className='movie-btn movie-btn-details'>\r\n                          <Link to={`/movie/${movie._id}`}>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn'>\r\n                          <Link to={`/room/${movie._id}`}>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </Link>\r\n                        </span>\r\n                        <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                        {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                          <Link><i className=\"fas fa-plus\"></i></Link>:\r\n                          <Link><i className=\"fas fa-check\"></i></Link>\r\n                        }\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className='rate-container'>\r\n                        <div>\r\n                          <i className='far fa-eye'></i>\r\n                          {movie.viewersNumber\r\n                            ? movie.viewersNumber\r\n                            : Math.floor(Math.random() * (200 - 50) + 50)}\r\n                        </div>\r\n                         {this.avgReview(movie)}/10\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div> */}\r\n\r\n              {/* new movies carousel */}\r\n              <NewMoviesCarousel \r\n              movies={movies}\r\n              toggleFavoriteList={this.toggleFavoriteList} \r\n              isFavoriteMovie={this.isFavoriteMovie} \r\n              avgReview={this.avgReview}\r\n              />\r\n\r\n            </div>{/* end of new-movies */}\r\n            <div className='top-movies'>\r\n              <div className='movies-title'>TOP 10</div>\r\n              <div className='home-top-movies-container'>\r\n                <Carousel movies={movies} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className='editors-movies module-border-wrap'>\r\n              <div className='editors-title'>EDITOR'S CHOICE</div>\r\n\r\n              <div className='home-choices-container'>\r\n                <div className='side-img-container2'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr10.png' alt='' />\r\n                  <div className='info-container'>\r\n                    <Link to={`/editor-movies/editors-adventure/#top`} >\r\n                    <div>\r\n                      SEE ALL <span className='number-style'>6</span>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to={`/movies/Adventure`} >\r\n                    <div>Adventure</div> \r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                {movies.slice(8, 12).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n                     <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}>\r\n                     </Link>\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* {end of editors part 1} */}\r\n            <div className='editors-movies2 module-border-wrap'>\r\n              <div className='home-choices-container3'>\r\n                <div className='side-img-container3'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr12.png' alt='' />\r\n                  <div className='info-container'>\r\n                  <Link to={`/editor-movies/editors-action/#top`} >\r\n                  <div>\r\n                      SEE ALL <span className='number-style'>6</span>\r\n                    </div>\r\n                  </Link>\r\n                  <Link to={`/movies/Action`} >\r\n                  <div>Action</div>\r\n                  </Link>\r\n                    \r\n                 \r\n                  </div>\r\n                </div>\r\n                {movies.slice(12, 16).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n                       <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* end of rditors part 2 */}\r\n            <div className='editors-movies2 module-border-wrap'>\r\n\r\n              <div className='home-choices-container2'>\r\n                <div className='side-img-container2'>\r\n                  <div></div>\r\n                  <img className='img-hr10' src='assets/img/hr13.png' alt='' />\r\n                  <div className='info-container'>\r\n                  <Link to={`/editor-movies/editors-horror/#top`} >\r\n                  <div>\r\n                      SEE ALL <span className='number-style'>6</span>\r\n                    </div>\r\n                  </Link>\r\n\r\n                  <Link to={`/movies/Horror`} >\r\n                  <div>Horror</div>\r\n                  </Link>\r\n                  </div>\r\n                </div>\r\n                {movies.slice(16, 20).map((movie) => (\r\n                  <div key={movie._id} className={`home-choice-container`}>\r\n\r\n                       <Link to={`/movie/${movie._id}`} className='img-container'\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          movie.coverUrl ? movie.coverUrl : ''\r\n                        })`,\r\n                      }}></Link>\r\n                    <div className='title-btns-container'>\r\n                      <div\r\n                        className={`title ${\r\n                          movie.title.length > 11 ? 'ellipsis' : ''\r\n                        }`}>\r\n                        {movie.title}\r\n                      </div>\r\n                      <div className='btns-container'>\r\n                        <Link to={`/movie/${movie._id}`}>\r\n                          {' '}\r\n                          <span className='movie-btn movie-btn-details'>\r\n                            <i className='fas fa-info-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link to={`/room/${movie._id}`}>\r\n                          <span className='movie-btn'>\r\n                            <i className='far fa-play-circle'></i>\r\n                          </span>\r\n                        </Link>\r\n                        <Link>\r\n                          <span className='movie-btn' onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                          {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                            <i className=\"fas fa-plus\"></i>:\r\n                            <i className=\"fas fa-check\"></i>\r\n                          }\r\n                          </span>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            {/* end of editors part 3 */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n           { !this.state.desktopExample&&<div className='live-movie-example'>\r\n                <div className='img-example'>\r\n                  <img\r\n                    className='laptop-blank'\r\n                    src='assets/img/laptop-blank.png'\r\n                    alt=''\r\n                  />\r\n                  <video className='home-video' loop autoPlay muted>\r\n                    <source src='assets/img/video.mp4' type='video/mp4' />\r\n                  </video>\r\n                  <img\r\n                    className='chat-img2'\r\n                    src='assets/img/chat-img2.png'\r\n                    alt=''\r\n                  />\r\n                </div>\r\n                <div className='movie-example'>\r\n                  <div className='main-title'>\r\n                    <div>WATCH WHATEVER, TOGETHER</div>\r\n                  </div>\r\n                  <div className='main-title2'>\r\n                    Connect with others who are as obsessed with your favorite\r\n                    movies as you are. Come together for watch parties, chat\r\n                    about your favorite shows and movies, and discover your next\r\n                    binge.\r\n                  </div>\r\n                </div>\r\n              </div>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <div>\r\n              <div className='example-imgs' id='example'>\r\n                <div className='example-img1'>\r\n                  <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/choose-movie.jpg)`,\r\n                      }}></div>\r\n                  <div>choose a movie to stream</div>\r\n                </div>\r\n                <div className='example-img2'>\r\n                <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/send-link.jpg)`,\r\n                      }}></div>\r\n        \r\n                  <div>Send a link to your friends</div>\r\n                </div>\r\n                <div className='example-img3'>\r\n                <div className='example-img' style={{\r\n                        backgroundImage: `url(assets/img/example/watch-together.jpg)`,\r\n                      }}></div>\r\n\r\n                  <div>Watch and chat together</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='got-to-top-button'>\r\n              <Link to='/#top'>\r\n                <button>\r\n                  <BsArrowUp className='bsArrowUp' />\r\n                </button>\r\n              </Link>\r\n              <span></span>\r\n              <span></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n    favoriteList: state.movie.favoriteList\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadMovies,\r\n  logout,\r\n  toggleFavUserList\r\n}\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n","import React, { Component } from 'react'\r\n\r\n\r\nexport class About extends Component {\r\n    componentDidMount(){\r\n        window.scrollTo(0, 0);\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n        <div className='about-page'>\r\n            <div className=\"description-section\">\r\n                <div>\r\n                    <span className=\"gradient-text\">WatChat</span> is a virtual movie theater where you and your friends can watch movies and chat together.\r\n                </div>\r\n                <div>\r\n                    You can tag, send gifts to each other and play/pause movie are synchronized to everyone.\r\n                </div>\r\n                <div>\r\n                    Choose a movie and send a link to your friends.\r\n                </div>\r\n            </div>\r\n            <div className=\"developer-section\">\r\n                <div> This project was created by <span className=\"gradient-text\"><a target=\"_blank\" href=\"https://www.linkedin.com/in/mili-malzev-310ab3182/\">Mili Malzev</a></span>.</div>\r\n                <div>Project Repository <a href=\"https://github.com/mili12321/watchat\" target=\"_blank\"><i class=\"fab fa-github\"></i></a></div>\r\n            </div>\r\n            <div className=\"tools-section\">\r\n                <div>Tools used in this project:</div>\r\n                <div>React</div>\r\n                <div>SCSS</div>\r\n                <div>Node.js</div>\r\n                <div>Socket.io</div>\r\n            </div>\r\n\r\n            <div className=\"sceenshots\">\r\n                <div>\r\n                   <div className=\"phone-container\">\r\n                        <img class=\"blank-phone\" src=\"assets/img/screenshots/blank-screen-device/phone.png\" alt=\"\"></img> \r\n                        <img className=\"img2\" alt=''  src=\"../assets/img/screenshots/from mobile/3.png\"></img> \r\n                   </div>\r\n                </div> \r\n               <div className=\"computer-container\">\r\n                    <img class=\"blank-comp\" src=\"assets/img/screenshots/blank-screen-device/blank-d.png\" alt=\"\"></img>\r\n                    <img className=\"img1\" alt='' src=\"../assets/img/screenshots/desktop/cap21-d.PNG\"></img>\r\n               </div>\r\n            \r\n            <img className=\"img3\" alt='' src=\"../assets/img/screenshots/movies-p2.PNG\"></img>\r\n            <img className=\"img4\" alt='' src=\"../assets/img/screenshots/movies-p.PNG\"></img>\r\n            </div>\r\n        </div>\r\n        </React.Fragment>\r\n        )\r\n    }\r\n}","\r\nimport React from 'react'\r\nexport class ReviewModal extends React.Component {\r\n    state = {\r\n        isShown: true,\r\n    }\r\n    closeModal = () => {\r\n        this.setState({ isShown: false })\r\n        this.props.onOpenModal()\r\n        \r\n    }\r\n    render() {\r\n        const { isShown } = this.state\r\n        const { children,updateMovie } = this.props\r\n        return (\r\n            <div className={ `modal-wrapper ${isShown ? '' : 'hide'}` } onClick={ this.closeModal } >\r\n                <div className=\"review-modal-content\" onClick={ (ev) => ev.stopPropagation() }>\r\n                    <form onSubmit={updateMovie} className='review-form'>\r\n                    { children }\r\n                    <button className=\"review-submit-btn\" >Continue</button>\r\n                    </form>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { movieService } from '../services/movieService.js'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport {updateMovie} from '../store/actions/movieActions.js'\r\nimport {updateUser} from '../store/actions/userActions.js'\r\nimport {ReviewModal} from '../cmps/ReviewModal'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { LoginModal } from '../cmps/LoginModal';\r\n\r\nclass _MovieDetails extends Component {\r\n  state = {\r\n    movie: null,\r\n    showComponent: false,\r\n    showReviewComponent: false,\r\n    favoriteBtn:false,\r\n    reviewToEdit: {\r\n      txt: '',\r\n      byUser: '',\r\n      rating : '',\r\n    },\r\n    isRate:false,\r\n    activeRateCount:0,\r\n    prevActiveRateCount:0,\r\n    fullDescription:false,\r\n    innerHeight:null,\r\n    innerWidth:null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadMovie()\r\n    window.scrollTo(0, 0);\r\n    window.addEventListener('resize', this.updateDimensions);\r\n    this.setState({ innerWidth: window.innerWidth, innerHeight: window.innerHeight });\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateDimensions);\r\n  }\r\n  updateDimensions = () => {\r\n    this.setState({ innerWidth: window.innerWidth, innerHeight: window.innerHeight });\r\n  };\r\n\r\n  async loadMovie() {\r\n    const movieId = this.props.match.params.id\r\n    const movie = await movieService.getById(movieId)\r\n    this.setState({ movie })\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    if(this.props.loggedInUser){\r\n      this.setState(prevState => ({\r\n        reviewToEdit: {\r\n          ...prevState.reviewToEdit,[name]: value, byUser: this.props.loggedInUser.username\r\n        }\r\n      }));\r\n    }else{\r\n      this.setState(prevState => ({\r\n        reviewToEdit: {\r\n          ...prevState.reviewToEdit,[name]: value, byUser: 'GUEST'\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  updateMovie = ev => {\r\n    ev.preventDefault();\r\n    if(!this.state.reviewToEdit.rating){\r\n      console.log(\" rating required\")\r\n      this.setState({isRate:true})\r\n      return \r\n    }else{\r\n      this.state.movie.reviews.push(this.state.reviewToEdit)\r\n      this.props.updateMovie(this.state.movie);\r\n      this.setState({ reviewToEdit: { txt: '' } });\r\n      this.onOpenReviewModal()\r\n    }\r\n  };\r\n\r\n  renderTitleColor(title) {\r\n    switch(title) {\r\n      case \"The Equalizer\":\r\n        return 'dark-title-on-background';\r\n      case \"The last stand\":\r\n        return 'dark-title-on-background';\r\n      default:\r\n        return 'light-title-on-background';\r\n    }\r\n  }\r\n\r\n  renderInfoColor(title) {\r\n    switch(title) {\r\n      case \"The Equalizer\":\r\n        return 'dark-info-on-background';\r\n      case \"The last stand\":\r\n        return 'dark-info-on-background';\r\n      case \"X-Men: Apocalypse\":\r\n        return 'dark-info-on-background';\r\n      case \"Hellboy\":\r\n        return 'dark-info-on-background';\r\n      default:\r\n        return 'light-info-on-background';\r\n    }\r\n  }\r\n\r\n  avgReview=()=>{\r\n    let sumReviews =0\r\n    let avg= 0\r\n    let ratingCount = 0\r\n    if(this.state.movie.reviews){\r\n      this.state.movie.reviews.forEach(review=>\r\n        {  \r\n          if(review.rating){\r\n            sumReviews += parseInt(review.rating)\r\n            ratingCount ++}\r\n          }\r\n         \r\n        )\r\n        avg = sumReviews/ratingCount\r\n        return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  \r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n  \r\n  onOpenReviewModal=()=>{\r\n    this.setState({\r\n      showReviewComponent: !this.state.showReviewComponent\r\n      });\r\n    this.setState({activeRateCount:0})\r\n  }\r\n\r\n  selectRate=(rate)=>{\r\n    this.setState({prevActiveRateCount:this.state.activeRateCount},()=>{\r\n    })\r\n    this.setState({reviewToEdit:{...this.state.reviewToEdit, rating:rate}})\r\n    this.setState({activeRateCount:rate},()=>{\r\n      console.log(\"activeRateCount:\",this.state.activeRateCount)\r\n    })\r\n    this.setState({isRate:false})\r\n  }\r\n\r\n\r\n  getRatingActiveStars=()=>{\r\n    let content = [];\r\n    for (let i = 1; i <= this.state.activeRateCount; i++) {\r\n      content.push(\r\n        <i key={i} \r\n        className={`fa fa-star rating-star star${i} rating-active`} \r\n        onClick={()=>{this.selectRate(i)}}  \r\n        ></i>\r\n      )\r\n    }\r\n    for (let i = this.state.activeRateCount+1; i < 11; i++) {\r\n      content.push(\r\n        <i key={i}\r\n         className={`fa fa-star rating-star star${i} `} \r\n         onClick={()=>{this.selectRate(i)}}  \r\n        ></i>\r\n      )\r\n    }\r\n    return content;\r\n  }\r\n\r\n\r\n  backgroundImagePosition=(movie)=>{\r\n    if(movie.title.includes(\"Ice Age 3\")){\r\n      return 'ice-age-img-position'\r\n    }if(movie.title.includes(\"21 Bridges\")){\r\n      return 'bridges-img-position'\r\n    }else{\r\n      return\r\n    }\r\n  }\r\n  \r\n  onGetReviewTxt=(word)=>{\r\n    if(word.length > 22){\r\n      return 'word-break'\r\n    }\r\n  }\r\n \r\n  longDescription=(desc)=>{\r\n    if((desc.length>225&&this.state.innerWidth<415)||(desc.length>378&&this.state.innerHeight<415)){\r\n      if(!this.state.fullDescription){\r\n        return 'ellipsis-description'\r\n      }else{\r\n        return 'long-description'\r\n      }\r\n    }\r\n  }\r\n\r\n  overviewRef = React.createRef()\r\n\r\n  toggleDescription=()=>{\r\n    this.setState({fullDescription:!this.state.fullDescription},()=>{\r\n      if(!this.state.fullDescription){\r\n        this.overviewRef.current.scrollIntoView() \r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { movie } = this.state\r\n\r\n    if (!movie) return <div>Loading....</div>\r\n    return (\r\n      <React.Fragment>\r\n        <div className='movie-details'>\r\n          <div\r\n            className={`details-hero-container  ${this.backgroundImagePosition(movie)}`}\r\n            style={{\r\n              backgroundImage: `url(${\r\n                movie.wideCoverUrl ? movie.wideCoverUrl : ''\r\n              })`,\r\n            }}>\r\n            <div className={`details-hero-info-container ${movie.title.length>27?'long-title':''}`}>\r\n            <div className={`details-hero-title ${this.renderTitleColor(movie.title)} ${movie.title.length>27?'long-title':''}`}>{movie.title}</div>\r\n            <div className={`details-hero-info ${this.renderInfoColor(movie.title)}`}>\r\n                <div className='details year'>{movie.year}</div>\r\n                <div className='details duration'>{movie.duration}</div>\r\n              </div>\r\n              <div className='details-hero-btns'>\r\n                <Link to={`/room/${movie._id}`}>\r\n                  <div className='details-hero-btn play-btn'>\r\n                    Play\r\n                  </div>\r\n                </Link>\r\n                <div className={`details-hero-btn my-list-btn ${this.isFavoriteMovie(movie)}`} onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?<span className=\"list-btn-symble\">+</span>:\r\n                  <span className=\"list-btn-symble\"><i className=\"fas fa-check\"></i></span>}\r\n                  <span> My List</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='scenes-container'>\r\n              {movie.scenesUrl.map((scene) => (\r\n                <div\r\n                  className='scene-img-container'\r\n                  style={{ backgroundImage: `url(${scene})` }}></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <section className='details-more-info-section'>\r\n            <div className='description-container'>\r\n              <div className='overview-title' ref={this.overviewRef}>Overview</div>\r\n              <div className='genres-title'>Genres</div>\r\n              <div className={`overview-txt ${this.longDescription(movie.description)}`}>\r\n                <p className={`overview-description ${this.state.fullDescription?'open':''}`}>{movie.description}</p>\r\n              </div>\r\n              <div className='genres-txt'>\r\n                {movie.genres.map((genre) => (\r\n                  <div>{genre}</div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n          {\r\n         ((this.state.innerWidth<414&&movie.description.length>225)||(movie.description.length>378&&this.state.innerHeight<415))&&\r\n          <div className=\"toggle-long-description\" onClick={(this.toggleDescription)}>{!this.state.fullDescription?'Read More':'Read Less'}\r\n          </div>}\r\n\r\n            <div className='cast-continer'>\r\n              <div className='cast-title'>Cast</div>\r\n              <div className=\"actors\">\r\n              {movie.cast.map((actor, idx) => (\r\n                <div className={`actor-container actor-${idx + 1}`}>\r\n                  <img className='actor-img' src={`${actor.img}`} alt='' />\r\n                  <div className='actor-info-container'>\r\n                    <div className='actor-name'>\r\n                      <span>{actor.name.split(\" \")[0]}</span>\r\n                      <span> {actor.name.split(\" \")[1]}</span>\r\n                    </div>\r\n                    <div className='actor-character'>{actor.character}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className='reviews-container'>\r\n              <div className='reviews-title'>\r\n             \r\n             <div>\r\n             <div>Reviews</div>\r\n                <div className='reviews-count' >({movie.reviews ? movie.reviews.length : 0} Reviews)</div>\r\n             </div>\r\n                <div className=\"number-style avg-number\">\r\n                \r\n                {this.avgReview()}/10\r\n                </div>\r\n               \r\n              <button className=\"colorful-button dark add-review-btn\" onClick={this.onOpenReviewModal}>\r\n                  <div className=\"wrapper\">\r\n                      <span>Add Review</span>\r\n                      <div className=\"circle circle-12\"></div>\r\n                      <div className=\"circle circle-11\"></div>\r\n                      <div className=\"circle circle-10\"></div>\r\n                      <div className=\"circle circle-9\"></div>\r\n                      <div className=\"circle circle-8\"></div>\r\n                      <div className=\"circle circle-7\"></div>\r\n                      <div className=\"circle circle-6\"></div>\r\n                      <div className=\"circle circle-5\"></div>\r\n                      <div className=\"circle circle-4\"></div>\r\n                      <div className=\"circle circle-3\"></div>\r\n                      <div className=\"circle circle-2\"></div>\r\n                      <div className=\"circle circle-1\"></div>\r\n                  </div>\r\n              </button>\r\n\r\n              </div>\r\n\r\n            <div className='reviews-section'>\r\n\r\n\r\n            {this.state.showReviewComponent?\r\n            <ReviewModal onOpenModal={this.onOpenReviewModal} updateMovie={this.updateMovie}>\r\n             <div className=\"form-container\">\r\n             <div className=\"form-title\">Your Rating</div>\r\n\r\n                <div className=\"rating-star-section\">\r\n                {this.getRatingActiveStars()}\r\n                </div>\r\n\r\n                {this.state.isRate&&<div className=\"rate-msg\"><i className=\"fas fa-exclamation\"></i> Please select rate</div>}\r\n                <div  className=\"form-title\">Your Review</div>\r\n              <textarea  className=\"review-textarea\" placeholder=\"Give us some detail about what you liked and disliked about the movie\" cols=\"30\" rows=\"5\"\r\n                name=\"txt\"\r\n                onChange={this.handleChange}\r\n                value={this.state.reviewToEdit.txt}\r\n              ></textarea>\r\n             </div>\r\n            </ReviewModal>\r\n           :null}\r\n\r\n                {movie.reviews&&movie.reviews.map(review => (\r\n                <table className=\"reviews-table\">\r\n                  <tr className=\"reviews-tr\">\r\n                    <th className=\"reviews-th th-letter\" >{review.byUser?review.byUser.substring(0, 1):\"Guest\".substring(0, 1)}</th>\r\n                     <th className=\"reviews-th th-name\">\r\n                       <div>\r\n                          <span className='reviews-th-name'>{review.byUser?review.byUser: \"Guest\"}</span>\r\n                          <span>\r\n                            \r\n                            {review.rating}/10\r\n                          </span>\r\n\r\n                       </div>\r\n                    </th>\r\n                  </tr>\r\n                  <tr className=\"reviews-tr\">\r\n                    <td className=\"reviews-td\"></td>\r\n                    <td className=\"reviews-td\">\r\n                      <div className={`td-txt`}>\r\n                        {/* {review.txt} */}\r\n                        {review.txt.split(' ').map(word=>\r\n                          <span className={this.onGetReviewTxt(word)}>\r\n                            {word}\r\n                            <span> </span>\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                ))}\r\n\r\n            </div>\r\n\r\n          </section>\r\n       \r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n    favoriteList: state.movie.favoriteList,\r\n    reviews: state.review.reviews,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList,\r\n  updateMovie,\r\n  updateUser\r\n};\r\n\r\n\r\nexport const MovieDetails = connect(mapStateToProps,mapDispatchToProps)(_MovieDetails)\r\n\r\n","import httpService from './httpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  remove\r\n};\r\n\r\nfunction query(movieId) {\r\n  console.log('movieId',movieId)\r\n  var queryStr = (!movieId)? '':`?movieId=${movieId}&sort=anaAref`;\r\n  return httpService.get(`review${queryStr || ''}`);\r\n}\r\n\r\nfunction remove(reviewId) {\r\n  return httpService.delete(`review/${reviewId}`);\r\n}\r\nasync function add(review) {\r\n  const addedReview  = await httpService.post('review', review);\r\n  return  addedReview\r\n}\r\n","export const cloudinaryService = {\n    uploadImg\n}\n\nasync function uploadImg(ev) {\n    const CLOUD_NAME = \"dzvebcsrp\"\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n\n    const formData = new FormData();\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', 'mister_toy');\n    try {\n        const res = await fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n        const data = await res.json()\n        console.log(data.secure_url);\n        console.log(\"data.secure_url\");\n        return data\n\n    } catch (err) {\n        console.log(err);\n    }\n}\n","import io from 'socket.io-client'\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030/'\r\n\r\nlet socket\r\n\r\nexport const socketService = {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit,\r\n  broadcast,\r\n}\r\n\r\nfunction setup() {\r\n  socket = io.connect(BASE_URL)\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  console.log('ON SOCKET EVENT')\r\n  socket.on(eventName, cb)\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb)\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data)\r\n}\r\n\r\nfunction broadcast(eventName, data) {\r\n  socket.broadcast.emit(eventName, data)\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadReviews } from '../store/actions/reviewActions.js';\r\nimport { updateUser, toggleFavUserList } from '../store/actions/userActions.js';\r\nimport { cloudinaryService } from '../services/cloudinarySerivice';\r\n\r\n\r\n\r\nclass _UserDetails extends Component {\r\n    state = {\r\n        imgUrl:'',\r\n        name:''\r\n    }\r\n    componentDidMount() {\r\n        if(!this.props.loggedInUser){\r\n            this.props.history.goBack()\r\n        }else{\r\n            this.setState({\r\n                imgUrl:this.props.loggedInUser.avatar,\r\n                name:this.props.loggedInUser.username\r\n            })\r\n           console.log(\"this.props.loggedInUser\",this.props.loggedInUser)\r\n        }\r\n    }\r\n\r\n    \r\n    onUploadImg = async (ev) => {\r\n        ev.preventDefault()\r\n        const cloudImg = await cloudinaryService.uploadImg(ev)\r\n        const imgUrl = cloudImg.secure_url\r\n        console.log(\"onUploadImg -> imgUrl\", imgUrl)\r\n        this.setState({ ...this.state, imgUrl })\r\n\r\n    }\r\n    handleInput = (ev) => {\r\n        const field = ev.target.name\r\n        const value = ev.target.value\r\n        this.setState({ ...this.state, [field]: value })\r\n    }\r\n\r\n    onSave =ev=>{\r\n        ev.preventDefault()\r\n        const newUser = { ...this.props.loggedInUser, username:this.state.name, avatar:this.state.imgUrl}\r\n        this.props.updateUser(newUser);\r\n        this.props.closeModal()\r\n    }\r\n    removeFromFavList=(ev,movie)=>{\r\n        if(this.props.loggedInUser){\r\n          ev.stopPropagation()\r\n          this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const { loggedInUser } = this.props\r\n        const { imgUrl } = this.state\r\n        if (!loggedInUser) return <div>Loading....</div>    \r\n        return (\r\n            <React.Fragment>\r\n                <form className=\"user-details-form\" onSubmit={this.onSave} >\r\n\r\n               <div className=\"user-avatar\">\r\n                    <div style={{ backgroundImage: `url(${imgUrl})` }}></div>\r\n                    \r\n                    <label className=\"custom-file-upload\">\r\n                        <input onChange={this.onUploadImg} type=\"file\"/>\r\n                        Upload Image\r\n                    </label>\r\n               </div>\r\n\r\n               <div className=\"username\">\r\n                <div> Change your username:</div>\r\n                <input value={this.state.name} onChange={this.handleInput} type=\"text\"  name=\"name\"/>\r\n              </div>\r\n\r\n                <button onClick={this.onSave}>Save Changes</button>\r\n              </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        movies: state.movie.movies,\r\n        loggedInUser: state.user.loggedInUser,\r\n        users: state.user.users,\r\n        reviews: state.review.reviews,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadReviews,\r\n    updateUser,\r\n    toggleFavUserList\r\n  };\r\nexport const UserDetails = connect(mapStateToProps,mapDispatchToProps)(_UserDetails)","import reviewService from '../../services/reviewService';\r\n\r\nexport function loadReviews(movieId) {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query(movieId);\r\n      dispatch({ type: 'SET_REVIEWS', reviews });\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review);\r\n      dispatch({ type: 'REVIEW_ADD',  addedReview });\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err);\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n  IoMdShare,\r\n} from 'react-icons/io'\r\n\r\n\r\n\r\nexport class Toolbar extends Component {\r\n  render() {\r\n    return (\r\n      <div className={`toolbar ${this.props.fullScreenChatBackground()}`}>\r\n        <div className='user-count toolbar-icon' onClick={this.props.onGoBack}>\r\n          <i className=\"fas fa-home\" size='20px'></i>\r\n        </div>\r\n        <div className='add-user toolbar-icon' onClick={this.props.onShare}>\r\n          <a\r\n            href={`whatsapp://send?text=${window.location.href} Watch ${this.props.movie.title} Together With Friends!`}\r\n            data-action='share/whatsapp/share'\r\n            target='_blank'\r\n            rel=\"noopener noreferrer\"\r\n            >\r\n            <IoMdShare size='20px' />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport class UserPreview extends Component {\r\n  state = {\r\n    isSelected: false,\r\n    userPosition: ['20%', '40%', '60%', '80%'],\r\n    posX: 0,\r\n  }\r\n\r\n  previewRef = React.createRef()\r\n\r\n \r\n\r\n  onUserToggle = () => {\r\n    if (this.props.user.username === this.props.currUser.username) return\r\n    this.setState({ isSelected: !this.state.isSelected })\r\n    const previewEl = this.previewRef.current\r\n    this.setState({ posX: previewEl.getBoundingClientRect().left + 25 })\r\n    console.log(\"posX:\", this.state.posX)\r\n    setTimeout(() => {\r\n      this.setState({ isSelected: false })\r\n    }, 5000)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.previewRef} className='user-preview'  style = {{ width:'50px' }}>\r\n        <div\r\n          className={`user-menu-icons ${\r\n            this.state.isSelected ? '' : 'hidden'\r\n          }`}>\r\n          <span className='user-icon tag-user' onClick={() => {\r\n            this.props.onUsernameSelect(this.props.user)\r\n          }}> </span>\r\n          <span\r\n            onClick={() => this.props.sendGift('drink', this.state.posX,this.props.user)}\r\n            className='user-icon drink'></span>\r\n          <span\r\n            onClick={() => this.props.sendGift('kiss', this.state.posX,this.props.user)}\r\n            className='user-icon kiss'></span>\r\n          <span\r\n            onClick={() =>\r\n              this.props.sendGift('small-popcorn', this.state.posX,this.props.user)\r\n            }\r\n            className='user-icon small-popcorn'></span>\r\n        </div>\r\n  \r\n        <div className='user-avatar' onClick={this.onUserToggle}>\r\n          <img\r\n            src={\r\n              this.props.user.avatar\r\n                ? this.props.user.avatar\r\n                : 'https://res.cloudinary.com/dl5mlxukz/image/upload/v1601299626/samples/default-avatar_smehur.png'\r\n            } alt=\"\"></img>\r\n        </div>\r\n        <div\r\n          className='user-name'\r\n          onClick={() => {\r\n            this.props.onUsernameSelect(this.props.user)\r\n          }}>\r\n          {this.props.user.username === this.props.currUser.username\r\n            ? `${this.props.currUser.username}(Me)`\r\n            : this.props.user.username}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport { UserPreview } from './UserPreview'\r\n\r\nexport class UsersCarousel extends Component {\r\n    render() {\r\n        const {users} = this.props\r\n        const responsive = {\r\n            0: { items: 4 },\r\n            400: { items: 4 },\r\n            600: { items: 5 },\r\n            700: { items: 6 },\r\n            800: { items: 3 },\r\n            1400: { items: 4 },\r\n            1600: { items: 5 },\r\n        };\r\n\r\n        \r\n        return (\r\n            <React.Fragment>\r\n            <AliceCarousel\r\n            mouseTracking\r\n            // infinite\r\n            responsive={responsive}\r\n            >\r\n            { users.map((user, idx)=>\r\n                <UserPreview\r\n                key={user._id}\r\n                gift={this.props.gift} \r\n                sendGift={this.props.sendGift}\r\n                socketInfo={this.props.socketInfo}\r\n                user={user}\r\n                userIdx={idx}\r\n                currUser={this.props.currUser}\r\n                onUsernameSelect={this.props.onUsernameSelect}\r\n                ref={(el) => (this.Carousel = el)}\r\n                />\r\n            )}\r\n            </AliceCarousel>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\n\r\nclass _Search extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            search: '',\r\n            minYear: -Infinity,\r\n            maxYear: Infinity,\r\n            type: 'All'\r\n        },\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadMovies(this.state.filterBy)\r\n    }\r\n\r\n\r\n\r\n    handleInputs = (ev) => {\r\n        const field = ev.target.name\r\n        let value = ev.target.value\r\n        if(value){\r\n            this.props.toggleView('FilteredMovie')\r\n        }else{\r\n            this.props.toggleView('main') \r\n        }\r\n\r\n        this.setState({ ...this.state, filterBy: { ...this.state.filterBy, [field]: value } }, () => {\r\n                this.props.loadMovies(this.state.filterBy)\r\n        })\r\n    }\r\n\r\n    onClearSearch=()=>{\r\n        this.inputField.value = \"\"\r\n        this.props.toggleView('main')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment> \r\n               {this.props.searchingValue===\"movie\"&&<form className=\"navlink-search\">\r\n                    <div className=\"search-input-container\">\r\n                        <input placeholder=\"Search Movie\" name=\"search\" autoComplete=\"off\" onChange={ this.handleInputs} type=\"search\"  \r\n                        ref={input => this.inputField = input}\r\n                        onFocus = {() =>  this.inputField.value = \"\"}\r\n                        />\r\n                        <div className=\"search\" onClick={()=>{this.onClearSearch()} } ></div>\r\n                    </div>\r\n                </form>}\r\n\r\n                {this.props.searchingValue===\"user\"&&\r\n                    <form className=\"navlink-search\" >\r\n                        <div className=\"search-input-container\">\r\n                            <input onChange={this.props.handleInput} type=\"search\"  name=\"name\" autocomplete=\"off\" placeholder=\"Search user\" ref={input => this.inputField = input}\r\n                            onFocus = {() =>  this.inputField.value = \"\"}\r\n                            />\r\n                        <div className=\"search\" onClick={()=>{this.props.onClearInput('')}}></div>\r\n                        </div>\r\n                    </form>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        movies: state.movie.movies,\r\n        loggedInUser: state.user.loggedInUser,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadMovies,\r\n}\r\nexport const Search = connect(mapStateToProps,mapDispatchToProps)(_Search)","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport {Search} from './Search'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  IoMdShare,\r\n  IoIosPerson,\r\n} from 'react-icons/io'\r\n\r\n\r\n\r\nexport class _MobileToolbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        color: '',\r\n        active: '',\r\n        location:''\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setState({ active: 'home' })\r\n        this.setState({ location: window.location.href })\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n \r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n    }\r\n  render() {\r\n    return (\r\n    <div className=\"mobile-toolbar\">\r\n\r\n        <div className=\"toolbar-btns\">\r\n            <div className={`home nav-column ${this.state.active === 'home' ? 'active-navLink' : ''}` }>\r\n                <NavLink className={`navlink-btn toolbar-btn`}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}>\r\n                    <i className=\"fas fa-home\"></i>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className='add-user toolbar-icon'>\r\n                <a\r\n                // href={'https://wa.me/?text='+encodeURIComponent(window.location.href)\r\n                href={'whatsapp://send?text='+encodeURIComponent(window.location.href)} \r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                >\r\n                    <IoMdShare size='25px' />\r\n                </a>\r\n            </div>\r\n\r\n           <div className=\"toolbar-search\">\r\n                <Search searchingValue={\"user\"} \r\n                handleInput={this.props.handleInput}\r\n                onClearInput={this.props.onClearInput}\r\n                />\r\n           </div>\r\n\r\n            <div  className='total-users-mobile'>\r\n                <IoIosPerson size='25px' color='white' />\r\n                 {this.props.users.length}\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n    }\r\n}\r\n\r\nexport const MobileToolbar = connect(mapStateToProps)(withRouter(_MobileToolbar))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { IoIosPerson } from 'react-icons/io'\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group'\r\nimport { Toolbar } from './Toolbar'\r\nimport { UsersCarousel } from './UsersCarousel'\r\nimport { MobileToolbar } from './MobileToolbar'\r\nimport {\r\n  loadUsers\r\n} from '../store/actions/userActions'\r\n\r\nexport class _UserList extends Component {\r\n  state = {\r\n    currPage: 0,\r\n    currSearch:'',\r\n    innerWidth:null\r\n  }\r\n\r\n\r\n  getUsersForDisplay = () => {\r\n    let numOfUsers = 4\r\n    const myUserIdx = this.props.users.findIndex(\r\n      (user) => user._id === this.props.currUser._id\r\n    )\r\n    if (myUserIdx > 0) {\r\n      this.props.users.splice(myUserIdx, 1)\r\n      this.props.users.unshift(this.props.currUser)\r\n    }\r\n    const width = parseInt(window.innerWidth)\r\n    if (width <= 500) numOfUsers = 1\r\n    if (width > 500 && width <= 900) numOfUsers = 2\r\n    if (width > 900 && width <= 1100) numOfUsers = 3\r\n    const startUser = this.state.currPage * numOfUsers\r\n    const users = this.props.users.slice(startUser, startUser + numOfUsers)\r\n    return users\r\n  }\r\n\r\n  onMoveRight = () => {\r\n    if ((this.state.currPage + 1) * 4 < this.props.users.length) {\r\n      this.setState(function (prevState) {\r\n        return {\r\n          currPage: prevState.currPage + 1,\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  onMoveLeft = () => {\r\n    if (this.state.currPage > 0)\r\n      this.setState(function (prevState) {\r\n        return {\r\n          currPage: prevState.currPage - 1,\r\n        }\r\n      })\r\n  }\r\n\r\n  handleInput=(ev)=>{\r\n    this.setState({ currSearch: ev.target.value })\r\n  }\r\n  onClearInput=(vlaue)=>{\r\n    this.setState({ currSearch: vlaue})\r\n  }\r\n   \r\n\r\n  getFileredUsersForDisplay(){\r\n    if(this.state.currSearch){\r\n      return this.props.users.filter(user =>\r\n            user.username.toLowerCase().includes(this.state.currSearch.toLowerCase())\r\n          )\r\n    }else{\r\n      return this.props.users\r\n    }\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.innerWidth !== this.state.innerWidth) {\r\n      this.props.onChangeUserListAndChatToVisible()\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.addEventListener('resize', this.handleResize)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    window.removeEventListener('resize', this.handleResize)\r\n  }\r\n\r\n  handleResize=()=>{\r\n    this.setState({innerWidth: window.innerWidth})\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const users = this.getFileredUsersForDisplay()\r\n    return (\r\n      <div className={`\r\n      user-list-container \r\n      ${this.props.fullScreenChatBackground()}\r\n      ${this.props.isVisible?\"show-user-list-animation\":\"hide-user-list-animation\"}\r\n      `}\r\n      >\r\n        <div className=\"watch-room-users-container\">\r\n          <UsersCarousel \r\n          users={users}\r\n          gift={this.props.gift} \r\n          sendGift={this.props.sendGift}\r\n          socketInfo={this.props.socketInfo}\r\n          currUser={this.props.currUser}\r\n          onUsernameSelect={this.props.onUsernameSelect}\r\n          />\r\n        </div>\r\n        <input onChange={this.handleInput} type=\"text\"  name=\"name\" autocomplete=\"off\" placeholder=\"Search user\" className=\"search-user-input\"/>\r\n        <MobileToolbar \r\n        onShare={this.props.onShare} \r\n        movie={this.props.movie} \r\n        users={users} \r\n        handleInput={this.handleInput} \r\n        onClearInput={this.onClearInput}\r\n        onGoBack={this.props.onGoBack}\r\n        />\r\n        <Toolbar \r\n        onShare={this.props.onShare} \r\n        movie={this.props.movie} \r\n        fullScreenChatBackground={this.props.fullScreenChatBackground}\r\n        isFullScreen={this.props.isFullScreen}\r\n        toggleFullScreen={this.props.toggleFullScreen}\r\n        onGoBack={this.props.onGoBack}\r\n        />\r\n        <div className={`user-list ${this.props.fullScreenChatBackground()}`}>\r\n          <SwitchTransition mode='out-in'>\r\n            <CSSTransition\r\n              key={this.state.currPage}\r\n              addEndListener={(node, done) => {\r\n                node.addEventListener('transitionend', done, false)\r\n              }}\r\n              classNames='fade'>\r\n              <div className='users-container'>\r\n                {this.getUsersForDisplay().length < 1 ? (\r\n                  <h1>Loading...</h1>\r\n                ) : (\r\n                  <UsersCarousel \r\n                  users={users}\r\n                  gift={this.props.gift} \r\n                  sendGift={this.props.sendGift}\r\n                  socketInfo={this.props.socketInfo}\r\n                  currUser={this.props.currUser}\r\n                  onUsernameSelect={this.props.onUsernameSelect}\r\n                  />\r\n                )}\r\n              </div>\r\n            </CSSTransition>\r\n          </SwitchTransition>\r\n          <span className='total-users'>\r\n            <IoIosPerson size='15px' color='white' /> {this.props.users.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n      loggedInUser: state.user.loggedInUser, \r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadUsers,\r\n}\r\nexport const UserList = connect(mapStateToProps,mapDispatchToProps)(_UserList)","export const customEmojis = [\r\n  {\r\n    name: ':meow_party:',\r\n    short_names: ['meow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1563480763/5999/meow_party.gif?1563480763',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party_parrot:',\r\n    short_names: ['party_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1471119458/990/party_parrot.gif?1471119458',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':aww-yeah:',\r\n    short_names: ['yeah'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1488512507/1804/aaw_yeah.gif?1488512507',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ban_dance:',\r\n    short_names: ['banana'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450694616/220/bananadance.gif?1450694616',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':meow_heart:',\r\n    short_names: ['meow_heart'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1596061862/9845/meow_heart.png?1596061862',\r\n    customCategory: 'Gif',\r\n  },\r\n\r\n  {\r\n    name: ':meow_popcorn:',\r\n    short_names: ['meow_popcorn'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1568064900/6383/meow-popcorn.gif?1568064900',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':sad:',\r\n    short_names: ['fbsad'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594314837/9661/fbsad.gif?1594314837',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':nice:',\r\n    short_names: ['nice'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1599588897/10418/nice.png?1599588897',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':wow:',\r\n    short_names: ['fbwow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594314885/9662/fbwow.gif?1594314885',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':hearteyes:',\r\n    short_names: ['heart'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340467/4971/hearteyes.gif?1542340467',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party:',\r\n    short_names: ['party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340469/4975/party.gif?1542340469',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':facepalm:',\r\n    short_names: ['facepalm'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340464/4967/facepalm.gif?1542340464',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':anger:',\r\n    short_names: ['anger'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340458/4962/anger.gif?1542340458',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':watching-you:',\r\n    short_names: ['watching-you'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':blush:',\r\n    short_names: ['blush'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340460/4963/blush.gif?1542340460',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':yuck:',\r\n    short_names: ['yuck'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4983/yuck.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':giggle:',\r\n    short_names: ['giggle'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340466/4970/giggle.gif?1542340466',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':watch:',\r\n    short_names: ['watching'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340473/4982/watching-you.gif?1542340473',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':shh:',\r\n    short_names: ['shh'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340470/4977/shhh.gif?1542340470',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':lol:',\r\n    short_names: ['lol'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340468/4973/lol.gif?1542340468',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':flyingkiss:',\r\n    short_names: ['kiss'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1542340465/4969/flying-kiss.gif?1542340465',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':alert:',\r\n    short_names: ['alert'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1497901371/2453/alert.gif?1497901371',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':pika:',\r\n    short_names: ['pika'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1579216111/7550/pikachu_wave.gif?1579216111',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':angel_parrot:',\r\n    short_names: ['angel_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1578626548/7489/angel_parrot.gif?1578626548',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':a-parrot:',\r\n    short_names: ['a-parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1512661804/3258/a-parrot.gif?1512661804',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':bunny_parrot:',\r\n    short_names: ['bunny_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609843/10048/bunny_parrot.gif?1597609843',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':everythings_fine_parrot:',\r\n    short_names: ['everythings_fine_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10064/everythings_fine_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':doc_parrot:',\r\n    short_names: ['doc_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10063/doc_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':evil_parrot:',\r\n    short_names: ['evil_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609852/10065/evil_parrot.gif?1597609852',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':headbanging_parrot:',\r\n    short_names: ['headbanging_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609860/10080/headbanging_parrot.gif?1597609860',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':hypno_parrot_dark:',\r\n    short_names: ['hypno_parrot_dark'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609863/10086/hypno_parrot_dark.gif?1597609863',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':popcorn_parrot:',\r\n    short_names: ['popcorn_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1495224267/2309/popcorn_parrot.gif?1495224267',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':unicorn_parrot:',\r\n    short_names: ['unicorn_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609906/10161/unicorn_parrot.gif?1597609906',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':troll-parrot:',\r\n    short_names: ['troll-parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1533926586/4455/troll-parrot.gif?1533926586',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ultra_fast_parrot:',\r\n    short_names: ['ultra_fast_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609906/10160/ultra_fast_parrot.gif?1597609906',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':thegrokeparrot:',\r\n    short_names: ['thegrokeparrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1567421610/6303/thegrokeparrot.gif?1567421610',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_party:',\r\n    short_names: ['among_us_party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479284/10796/among_us_party.gif?1605479284',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':party_blob:',\r\n    short_names: ['party_blob'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1547582922/5197/party_blob.gif?1547582922',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':ahhhhhhhhh:',\r\n    short_names: ['ahhhhhhhhh'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1558099591/5711/ahhhhhhhhh.gif?1558099591',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_orange_dance:',\r\n    short_names: ['among_us_orange_dance'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605722420/11386/among_us_orange_dance.gif?1605722420',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':crewmate:',\r\n    short_names: ['crewmate'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479278/11110/crewmate.gif?1605479278',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':among_us_dead:',\r\n    short_names: ['among_us_dead'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479285/10741/among_us_dead.png?1605479285',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':among_us_voted:',\r\n    short_names: ['among_us_voted'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1605479301/11160/among_us_voted.png?1605479301',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':nightking:',\r\n    short_names: ['nightking'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301698/5612/nightking.png?1555301698',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':johnsnow:',\r\n    short_names: ['johnsnow'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301587/5608/johnsnow.png?1555301587',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':daenery:',\r\n    short_names: ['daenery'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301439/5604/daenery.png?1555301439',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':cersei:',\r\n    short_names: ['cersei'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1555301396/5603/cersei.png?1555301396',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':nyancat_big:',\r\n    short_names: ['nyancat_big'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450458551/184/nyancat_big.gif?1450458551',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':eevee:',\r\n    short_names: ['eevee'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080836/1363/eevee.gif?1479080836',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':vaporeon:',\r\n    short_names: ['vaporeon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479081197/1368/vaporeon.gif?1479081197',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':jolteon:',\r\n    short_names: ['jolteon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080759/1360/jolteon.gif?1479080759',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':espeon:',\r\n    short_names: ['espeon'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1479080869/1364/espeon.gif?1479080869',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':mewtwo:',\r\n    short_names: ['mewtwo'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450736076/242/mewtwo.png?1450736076',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':poke_pika_wink:',\r\n    short_names: ['poke_pika_wink'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1472722300/1128/poke_pika_wink.png?1472722300',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':kirby:',\r\n    short_names: ['kirby'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450716258/223/kirby.gif?1450716258',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':coin:',\r\n    short_names: ['coin'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1490884029/1971/coin.gif?1490884029',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':baby-yoda:',\r\n    short_names: ['baby-yoda'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1575297777/7233/baby-yoda.png?1575297777',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':storm_trooper:',\r\n    short_names: ['storm_trooper'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1526741134/3958/storm_trooper.gif?1526741134',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':baby-yoda-soup:',\r\n    short_names: ['baby-yoda-soup'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1575409644/7248/baby-yoda-soup.gif?1575409644',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':baby_yoda:',\r\n    short_names: ['baby-yoda'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1591793668/9336/baby-yoda.gif?1591793668',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':love:',\r\n    short_names: ['love'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1492722354/2080/love.gif?1492722354',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':sheepy:',\r\n    short_names: ['sheepy'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450319441/5/sheepy.gif?1450319441',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':kermit_typing:',\r\n    short_names: ['kermit_typing'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1608026376/11743/kermit_typing.gif?1608026376',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':smudge:',\r\n    short_names: ['smudge'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1606826279/11557/smudge.png?1606826279',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':holy-poop:',\r\n    short_names: ['holy-poop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1594751185/9689/holy-poop.png?1594751185',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':rage-poop:',\r\n    short_names: ['rage-poop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1526489538/3928/rage-poop.png?1526489538',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':goldpoop:',\r\n    short_names: ['goldpoop'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1565740433/6175/goldpoop.png?1565740433',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':poop_fire:',\r\n    short_names: ['poop_fire'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1559173484/5752/poop_fire.gif?1559173484',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':trolldance:',\r\n    short_names: ['trolldance'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1477057420/1271/trolldance.gif?1477057420',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':troll:',\r\n    short_names: ['troll'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1463602125/429/troll.png?1463602125',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':coronavirus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1582658942/7898/coronavirus.png?1582658942',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':corona-virus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1580374434/7652/coronavirus.png?1580374434',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':corona-highfive:',\r\n    short_names: ['corona-highfive'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1600175068/10466/corona-highfive.gif?1600175068',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':corona_virus:',\r\n    short_names: ['coronavirus'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1583409623/7970/coronavirus.png?1583409623',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':corona_party:',\r\n    short_names: ['corona_party'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1592398908/9398/corona_party.gif?1592398908',\r\n    customCategory: 'Gif',\r\n  }, \r\n  {\r\n    name: ':angry_trump:',\r\n    short_names: ['angry_trump'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1450319451/91/angry_trump.jpg?1450319451',\r\n    customCategory: 'Png',\r\n  }, \r\n  {\r\n    name: ':viking_parrot:',\r\n    short_names: ['viking_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609908/10164/viking_parrot.gif?1597609908',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':zouk_parrot:',\r\n    short_names: ['zouk_parrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609915/10178/zouk_parrot.gif?1597609915',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':jumping_parrot_jr:',\r\n    short_names: ['jumping_parrot_jr'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1597609868/10095/jumping_parrot_jr.gif?1597609868',\r\n    customCategory: 'Gif',\r\n  },\r\n  {\r\n    name: ':virusparrot:',\r\n    short_names: ['virusparrot'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1583753108/8026/virusparrot.png?1583753108',\r\n    customCategory: 'Png',\r\n  },\r\n  {\r\n    name: ':cr_angry:',\r\n    short_names: ['cr_angry'],\r\n    text: '',\r\n    emoticons: [],\r\n    keywords: ['slack'],\r\n    imageUrl:\r\n      'https://emojis.slackmojis.com/emojis/images/1563480734/5984/cr_angry.gif?1563480734',\r\n    customCategory: 'Gif',\r\n  },\r\n]\r\n","export const msgList1 = [\r\n  {\r\n    type: '',\r\n    from: 'Angela',\r\n    to: '',\r\n    txt: 'Seriously? How did he do that...',\r\n    nameColor: 'purple',\r\n    senderId: '10001',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'David Bowie',\r\n    to: '',\r\n    txt: 'lets rock!! :headbanging_parrot:',\r\n    nameColor: 'red',\r\n    senderId: '10002',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'M.Jackson',\r\n    to: '',\r\n    nameColor: 'darkgreen',\r\n    txt: 'wow this movie is **** :yuck:',\r\n    senderId: '10003',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Angela',\r\n    to: '',\r\n    nameColor: 'purple',\r\n    txt: ' :lol: ',\r\n    senderId: '10001',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Christy',\r\n    to: '',\r\n    nameColor: 'darkorange',\r\n    txt: 'I know what will happen next',\r\n    senderId: '10005',\r\n  },\r\n  {\r\n    type: '',\r\n    from: 'Sandra',\r\n    nameColor: 'brown',\r\n    to: '',\r\n    txt: 'no spoilers please! :rage-poop: :watching-you: ',\r\n    senderId: '10004',\r\n  },\r\n]\r\n","import React, { Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from '../services/socketService'\r\nimport { IoMdSend, IoIosHappy } from 'react-icons/io'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\nimport { UserList } from './UserList'\r\nimport { customEmojis } from '../data/emojis'\r\nimport uuid from 'react-uuid'\r\nimport RSC from 'react-scrollbars-custom'\r\nimport { msgList1 } from '../data/msgs1'\r\nimport Particles from 'react-particles-js'\r\n\r\n\r\nclass _Chat extends Component {\r\n  state = {\r\n    currUser: null,\r\n    msg: {\r\n      type: '',\r\n      from: '',\r\n      to: '',\r\n      txt: '',\r\n      senderId: '',\r\n      user:null,\r\n      sendedMsg:''\r\n    },\r\n    msgList: [],\r\n    users: [],\r\n    giftName: '',\r\n    showGift: '',\r\n    showRecivedGift: '',\r\n    showRecivedMsg: '',\r\n    giftPosition: '',\r\n    socketInfo:[],\r\n    gift:{},\r\n    gifts:[],\r\n    msgForUser:{},\r\n    msgsFromUsers:[],\r\n    popupVisible: false\r\n  }\r\n\r\n  inputRef = React.createRef()\r\n  scrollBarRef = React.createRef()\r\n\r\n\r\n  handleClick=() =>{\r\n    if (!this.state.popupVisible) {\r\n      // attach/remove emojies picker\r\n      document.addEventListener('click', this.handleOutsideClick, false);\r\n      this.props.onDisableToggleUserList()\r\n    } else {\r\n      document.removeEventListener('click', this.handleOutsideClick, false);\r\n      this.props.onAnabelToggleUserList()\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n       popupVisible: !prevState.popupVisible,\r\n    }));\r\n  }\r\n\r\n  handleOutsideClick=(e)=> {\r\n    // ignore clicks on the component itself( the emojies picker )\r\n    if (this.node.contains(e.target)) {\r\n      this.props.onDisableToggleUserList()\r\n      return;\r\n    }\r\n\r\n    this.handleClick();\r\n  }\r\n\r\n  rotatedGiftTxt=(gift)=>{\r\n    let chars;\r\n    switch(gift.name) {\r\n      case 'kiss':\r\n        chars =`XOXO`.split(\"\")\r\n        return chars;\r\n      case 'drink':\r\n        chars =`Drink on me!`.split(\"\")\r\n        return chars;\r\n      case 'small-popcorn':\r\n        chars =`What's Poppin?`.split(\"\")\r\n        return chars;\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.cleanUp)\r\n    if (this.props.currUser) this.setState({ currUser: this.props.currUser })\r\n    this.setupSockets()\r\n    this.setState({ msgList:[...msgList1, ...this.props.movie.msgList]})\r\n    this.scrollDown()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.cleanUp()\r\n    socketService.terminate()\r\n    window.removeEventListener('beforeunload', this.cleanUp)\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollDown()\r\n  }\r\n\r\n  setupSockets = () => {\r\n    socketService.emit('chat room', {\r\n      roomId: this.props.roomId,\r\n      user: this.props.currUser,\r\n    })\r\n    socketService.on('chat room', (users, newUser, firstUser) => {\r\n      this.setState({ users })\r\n      if (!this.state.currUser) {\r\n        this.setState({ currUser: newUser },()=>{\r\n        })\r\n      }\r\n      this.props.onAddNewUser(users, newUser, firstUser)\r\n    })\r\n    socketService.on('chat', (msg) => {\r\n      this.setState({ msgList: [...this.state.msgList, msg] })\r\n    })\r\n    socketService.on('remove-user', (users, firstUser) => {\r\n      this.setState({ users })\r\n      console.log(\"users remain\",users)\r\n      if(users.length<1){\r\n        const movie= this.props.movie\r\n        movie.msgList = []\r\n        this.props.updateMovie(movie)\r\n      }\r\n    })\r\n    socketService.on('receive-gift', (_gift) => {\r\n      this.setState({ gift:{_gift,showRecivedGift:true }})\r\n      let gift={\r\n        ..._gift,\r\n        id:uuid(),\r\n        showRecivedGift:true \r\n      }\r\n      this.setState({ gifts:[...this.state.gifts,gift] },()=>{\r\n        setTimeout(() => {\r\n          const newGifts = this.state.gifts.filter(_gift=>_gift.id!==gift.id)\r\n          this.setState({ gifts:newGifts})\r\n        }, 5500)\r\n      })\r\n    })\r\n\r\n\r\n    socketService.on('receive-msg', (msg) => {\r\n      const currMsg = {\r\n        txt:msg.txt,\r\n        from:msg.from,\r\n        to:msg.to,\r\n        sendedMsg:msg.sendedMsg,\r\n        id:uuid(),\r\n        showRecivedMsg:true\r\n      }\r\n      this.setState({ msgForUser:currMsg })\r\n      this.setState({ msgsFromUsers:[...this.state.msgsFromUsers,currMsg] },()=>{\r\n        setTimeout(() => {\r\n          const newMsgs = this.state.msgsFromUsers.filter(_msg=>_msg.id!==currMsg.id)\r\n          this.setState({ msgsFromUsers:newMsgs})\r\n        }, 10000)\r\n      })\r\n    })\r\n  } \r\n\r\n\r\n  cleanUp = () => {\r\n    if (this.state.currUser)\r\n      socketService.emit('remove-user', {\r\n        userId: this.state.currUser._id,\r\n        userRoom: this.props.roomId,\r\n        movie:this.props.movie\r\n      })\r\n    socketService.terminate()\r\n  }\r\n\r\n  onMsgSend = () => {\r\n    if (this.state.msg.txt !== '') this.sendMsg()\r\n  }\r\n\r\n  onMsgEnter = (ev) => {\r\n    if (ev.key === 'Enter' && this.state.msg.txt !== '') this.sendMsg()\r\n  }\r\n\r\n  sendMsg = () => {\r\n    let msg = this.state.msg\r\n    msg.from = this.state.currUser.username\r\n    msg.senderId = this.state.currUser._id\r\n    socketService.emit('chat', msg)\r\n    this.props.onUpdateMovieMsgList(msg)\r\n    if(this.state.msg.txt.charAt(0)===\"@\"){\r\n      socketService.emit('receive-msg',{from:this.state.currUser, user:this.state.msg.user, txt: this.state.msg.txt, sendedMsg: this.state.msg.sendedMsg, to:this.state.msg.to })\r\n    }\r\n    this.removeMsg()\r\n    this.props.hideEmojis()\r\n  }\r\n\r\n  closeMsg=(currMsg)=>{\r\n    const newMsgs = this.state.msgsFromUsers.filter(_msg=>_msg.id!==currMsg.id)\r\n    this.setState({ msgsFromUsers:newMsgs})\r\n  }\r\n\r\n  onMsgInput = (ev) => {\r\n    const msg = this.state.msg\r\n    msg.txt = ev.target.value\r\n    this.setState({ msg })\r\n  }\r\n\r\n  onEmojiSelect = (emoji) => {\r\n    let msg = this.state.msg\r\n    if (emoji.native) {\r\n      msg.txt += emoji.native\r\n      this.setState({\r\n        msg,\r\n      })\r\n    } else {\r\n      msg.txt += emoji.name\r\n      this.setState({\r\n        msg,\r\n      })\r\n    }\r\n    this.props.onDisableToggleUserList()\r\n  }\r\n\r\n  onUsernameSelect = (user) => {\r\n    if (user._id === this.state.currUser._id) return\r\n    const input = this.inputRef.current\r\n    input.value = '@' + user.username + ' '\r\n    const msg = { to: user.username, txt: input.value ,user}\r\n    this.setState({ msg })\r\n    input.focus()\r\n  } \r\n  \r\n  ReplyToSender = (user,sendedMsg) => {\r\n    if (user._id === this.state.currUser._id) return\r\n    const input = this.inputRef.current\r\n    input.value = '@' + user.username + ' '\r\n    const msg = { to: user.username, txt: input.value ,user, sendedMsg}\r\n    this.setState({ msg })\r\n    input.focus()\r\n  }\r\n\r\n  sendGift = (giftName, giftPosition, user) => {\r\n    this.setState({ giftName, showGift: true, giftPosition})\r\n    let gift={\r\n      user,\r\n      giftName,\r\n      sender:this.state.currUser\r\n    }\r\n    socketService.emit('receive-gift',{gift})\r\n    setTimeout(() => {\r\n      this.setState({ showGift: false })\r\n    }, 2000)\r\n  }\r\n\r\n\r\n  removeMsg = () => {\r\n    const msg = {\r\n      type: '',\r\n      from: '',\r\n      to: '',\r\n      txt: '',\r\n    }\r\n    const privateMsg = {\r\n      isPrivate: false,\r\n      to: '',\r\n    }\r\n    this.setState({ privateMsg })\r\n    this.setState({ msg })\r\n  }\r\n\r\n  replaceWithGif = (msg) => {\r\n    msg = this.replaceWithTagName(msg)\r\n    let result = msg\r\n    customEmojis.forEach((em) => {\r\n      const emoji = `\r\n      <img src=${em.imageUrl} className='gif-img'></img>\r\n    ` \r\n    const trolldance = `\r\n      <img src=${em.imageUrl} className='gif-img gif-img-trolldance'></img>\r\n    `\r\n      let temp = ''\r\n      while (result !== temp) {\r\n        temp = result\r\n        const searchStr = em.name\r\n        if(searchStr===\":trolldance:\"){\r\n          result = result.replace(searchStr, trolldance)\r\n        }else{\r\n          result = result.replace(searchStr, emoji)\r\n        }\r\n      }\r\n    })\r\n    return result\r\n  }\r\n\r\n  replaceWithTagName = (msg) => {\r\n    let result = msg\r\n    this.state.users.forEach((user) => {\r\n      const tagname = `<span className='name-tag'>${user.username}</span>`\r\n      const searchStr = user.username\r\n        result = result.replace(searchStr, tagname)\r\n        // result = result.replace('@', '')\r\n    })\r\n    return result\r\n  }\r\n\r\n  scrollDown = () => {\r\n    const scrollBar = this.scrollBarRef.current\r\n    // if (scrollBar) {const scroll = scrollBar.scrollHeight - scrollBar.clientHeight;\r\n    // scrollBar.scrollTo(0, scroll);}\r\n    if (scrollBar) scrollBar.scrollToBottom()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    if (!this.state.currUser) return <div>Loading...</div>\r\n    return (\r\n      <React.Fragment>\r\n{this.state.msgsFromUsers.map(msgForUser=>\r\n\r\n  <div className={`msgForUser ${!msgForUser.showRecivedMsg ? 'hidden' : \"slide-left\"}`}>\r\n  {msgForUser.sendedMsg&&\r\n      <div className=\"old-msg\">\r\n          <span>About:</span>\r\n          <span dangerouslySetInnerHTML={{__html: this.replaceWithGif(msgForUser.sendedMsg.slice(msgForUser.to.length+1)),}}></span>\r\n      </div>\r\n  }\r\n\r\n  <div className=\"new-msg\">\r\n    <div  className=\"sender-avatar-container\" >\r\n    <div className=\"sender-avatar\" \r\n    style={{backgroundImage: `url(${\r\n        msgForUser.from.avatar ? msgForUser.from.avatar : ''})`,}}></div>\r\n    </div>\r\n    <div className=\"sender-msg-container\">\r\n        <div className=\"sender-msg-name\">{msgForUser.from.username}</div>\r\n        <div className=\"sender-msg-txt\" dangerouslySetInnerHTML={{__html: this.replaceWithGif(msgForUser.txt.slice(msgForUser.to.length+1)),}}></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div className=\"reply-btn\" onClick={()=>{this.ReplyToSender(msgForUser.from, msgForUser.txt)}}>Reply</div>\r\n\r\n  <div className=\"close-msg\" onClick={()=>{this.closeMsg(msgForUser)}}>X</div>\r\n</div>\r\n)}\r\n        \r\n        \r\n\r\n        {this.state.gifts.map(gift=>\r\n        gift.showRecivedGift?\r\n <div className={`recived-gift sended-gift sended-${gift.name} ${\r\n  !gift.showRecivedGift ? 'hidden' : \"start-animation\"\r\n}`}>\r\n  <h1>\r\n    {this.rotatedGiftTxt(gift).map((char,idx)=>\r\n        <span className={`char char-${idx+1}`} key={idx}>\r\n            {char}\r\n        </span>\r\n    )}\r\n  </h1>\r\n  <div className=\"gift-sender\">\r\n    <div className=\"avatar-container\">\r\n      <div className=\"avatar-img\" style={{\r\n        backgroundImage: `url(${\r\n          gift.sender.avatar ? gift.sender.avatar : ''\r\n        })`,\r\n      }}></div>\r\n    </div>\r\n      <div className=\"name\">{gift.sender.username}</div>\r\n  </div>\r\n</div>:''\r\n        )}\r\n\r\n      <section className={`chat ${this.props.fullScreenChat()}`} >\r\n        <UserList\r\n          socketInfo={this.state.socketInfo}\r\n          msgForUser={this.state.msgForUser}\r\n          movie={this.props.movie}\r\n          sendGift={this.sendGift}\r\n          users={this.state.users}\r\n          currUser={this.state.currUser}\r\n          onUsernameSelect={this.onUsernameSelect}\r\n          fullScreenChatBackground={this.props.fullScreenChatBackground}\r\n          isFullScreen={this.props.isFullScreen}\r\n          toggleFullScreen={this.props.toggleFullScreen}\r\n          onGoBack={this.props.onGoBack}\r\n          isVisible={this.props.isVisible}\r\n          onChangeUserListAndChatToVisible={this.props.onChangeUserListAndChatToVisible}\r\n        />\r\n        <div className={`chat-window ${window.innerWidth>813?this.props.fullScreenChatBackground():\"\"}`}>\r\n\r\n        {this.props.showParticles&&<Particles \r\n          canvasClassName='chat-particles'\r\n          params={{\r\n            particles:{number:{value:160,density:{enable:true,value_area:800}},color:{value:'#f01548'},shape:{type:'circle',stroke:{width:0,color:'#000000'},polygon:{nb_sides:5},image:{src:'img/github.svg',width:100,height:100}},opacity:{value:1,random:true,anim:{enable:true,speed:1,opacity_min:0,sync:false}},size:{value:3,random:true,anim:{enable:false,speed:4,size_min:0.3,sync:false}},line_linked:{enable:false,distance:150,color:'#ffffff',opacity:0.4,width:1},move:{enable:true,speed:1,direction:'none',random:true,straight:false,out_mode:'out',bounce:false,attract:{enable:false,rotateX:600,rotateY:600}}},interactivity:{detect_on:'canvas',events:{onhover:{enable:true,mode:'bubble'},onclick:{enable:true,mode:'repulse'},resize:true},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:0.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:true\r\n          }}></Particles>\r\n\r\n          }\r\n\r\n\r\n          <div\r\n           className={`chat-box ${this.props.isVisible?'':'expand-chat-box'}`}\r\n           ref={node => { this.node = node; }} \r\n           onClick={this.props.onToggleUserList}>\r\n            <RSC\r\n            className={`${this.props.isChatVisible?'show-chat-animation':'hide-chat-animation'}`}\r\n              ref={this.scrollBarRef}\r\n              style={{ color: 'red', \r\n              direction:'rtl'}}>\r\n              {this.state.msgList.map((msg) => (\r\n                <div \r\n                  key={uuid()} \r\n                  style={{ direction:'ltr' }}\r\n                  className={`msg-container ${\r\n                    this.state.currUser &&\r\n                    msg.senderId === this.state.currUser._id\r\n                      ? 'left'\r\n                      : 'right'\r\n                  }-msg ${this.props.fullScreenMsg()}`}>\r\n                  <div\r\n                    className={` chat-msg from-${\r\n                      this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ? 'me'\r\n                        : 'user'\r\n                    } ${this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ?this.props.fullScreenMessageMe():this.props.fullScreenMessageUser()}`}\r\n                    key={uuid()}>\r\n                    <div\r\n                      className='msg-sender'\r\n                    >\r\n                      {this.state.currUser &&\r\n                      msg.senderId === this.state.currUser._id\r\n                        ? 'Me'\r\n                        : msg.from}\r\n                    </div>\r\n                    <div\r\n                      className='msg-content'\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: this.replaceWithGif(msg.txt),\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </RSC>\r\n            <div\r\n              className={`gift ${\r\n                !this.state.showGift ? 'hidden' : this.state.giftName\r\n              }`}\r\n              style={{ left: `${this.state.giftPosition}px` }}>\r\n            </div>\r\n           {\r\n          this.state.popupVisible &&\r\n             <div \r\n              className='emojis'\r\n              >\r\n              <Picker\r\n                style={{ width: '100%' }}\r\n                custom={customEmojis}\r\n                theme='light'\r\n                perLine={6}\r\n                showPreview={false}\r\n                showSkinTones={false}\r\n                onSelect={this.onEmojiSelect}\r\n                // onClick={this.on}\r\n                exclude={[\r\n                  'flags',\r\n                  'symbols',\r\n                  'nature',\r\n                  'search',\r\n                  'places',\r\n                  'objects',\r\n                  'activity',\r\n                ]}\r\n                emojiTooltip={true}\r\n              />\r\n            </div>}\r\n          </div>\r\n\r\n          <div className={`\r\n              chat-input \r\n              ${this.props.fullScreenInput()}\r\n              ${this.props.isChatVisible?'show-input-animation':'hide-input-animation'}\r\n          `}>\r\n            <input\r\n              ref={this.inputRef}\r\n              type='text'\r\n              value={this.state.msg.txt}\r\n              placeholder='Type a message'\r\n              onChange={this.onMsgInput}\r\n              onKeyPress={this.onMsgEnter}\r\n              onFocus={this.props.hideEmojis}\r\n            />\r\n            <div\r\n              className={`input-icon ${\r\n                this.state.msg.txt === '' ? '' : 'msg-content'\r\n              }`}>\r\n              <IoMdSend size='20px' onClick={this.onMsgSend} />\r\n            </div>\r\n            <div\r\n              className={`input-icon emoji ${\r\n                this.props.showEmojis ? 'selected' : ''\r\n              }`}\r\n              onClick={this.handleClick}\r\n              >\r\n              <IoIosHappy size='20px' />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </section>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n      loggedInUser: state.user.loggedInUser, \r\n  }\r\n}\r\n\r\nexport const Chat = connect(mapStateToProps)(_Chat)","import React from 'react'\r\n\r\nexport class ReactionPicker extends React.Component {\r\n  state = {\r\n    reactions: ['like', 'heart', 'angry', 'sad', 'wow', 'lol'],\r\n  }\r\n  render() {\r\n    const { onSelectReaction } = this.props\r\n    return (\r\n      <div className='reactions-menu'>\r\n        {this.state.reactions.map((emoji,idx) => (\r\n          <span\r\n            key={idx}\r\n            className={`reaction ${emoji}`}\r\n            onClick={() => {\r\n              onSelectReaction(emoji)\r\n            }}></span>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { IoIosVolumeLow, IoIosThumbsUp } from 'react-icons/io'\r\nimport {BsVolumeMuteFill } from 'react-icons/bs'\r\nimport uuid from 'react-uuid'\r\nimport { ReactionPicker } from './ReactionPicker'\r\nimport { socketService } from '../services/socketService'\r\n\r\nexport class VideoControls extends React.Component {\r\n  state = {\r\n    showVolume: false,\r\n    showReactions: false,\r\n    reactions: [],\r\n    reactionIds: [],\r\n    clickedOutsideVolume: false,\r\n    myReaction:false\r\n  }\r\n\r\n  volumeRef = React.createRef()\r\n\r\n  handleClickOutside = e => {\r\n    if (!this.volumeRef.current.contains(e.target)) {\r\n      this.setState({ clickedOutsideVolume:false });\r\n      this.props.onChangeDisableToggleUserList()\r\n    } \r\n  };\r\n\r\n  handleClickInsideVolume = () => {\r\n    this.setState({ clickedOutsideVolume:!this.state.clickedOutsideVolume })\r\n    this.props.onToggleDisableToggleUserList()\r\n    if(window.innerHeight<415||window.innerWidth<415){\r\n      setTimeout(() => {\r\n        this.setState({ clickedOutsideVolume:false });\r\n      }, 3000) \r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    socketService.on('reactions', (reaction) => {\r\n      this.setState({ reactions: [...this.state.reactions, reaction] })\r\n    })\r\n    socketService.on('reaction-delete', (id) => {\r\n      this.removeReaction(id)\r\n    })\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  } \r\n\r\n  componentWillUnmount(){\r\n    this.setState({ reactions:[] })\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  onSelectReaction = (type) => {\r\n    const newReaction = { id: uuid(), type, posX:this.getRandomNum(5, 8)}\r\n    this.setState({ reactions: [...this.state.reactions, newReaction] })\r\n    const user = this.props.newUser \r\n    socketService.emit('reactions', {newReaction, user})\r\n    setTimeout(() => {\r\n      socketService.emit('reaction-delete', newReaction.id)\r\n    }, 2000) \r\n    this.removeReaction(newReaction.id)\r\n  }\r\n\r\n  getRandomNum = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min\r\n  }\r\n\r\n  removeReaction = (id) => {\r\n    let reactions = this.state.reactions\r\n    reactions = reactions.filter((reaction) => reaction.id !== id)\r\n    this.setState({ reactions })\r\n  }\r\n\r\n  onToggleReactions = () => {\r\n    this.setState({ showReactions: !this.state.showReactions })\r\n  }\r\n\r\n  hideReactions = () => {\r\n    this.setState({ showReactions: false })\r\n  }\r\n\r\n  changeVolume = (ev) => {\r\n    this.props.onVolumeChange(ev.target.value)\r\n    if(window.innerHeight<415||window.innerWidth<415){\r\n      setTimeout(() => {\r\n        this.setState({ clickedOutsideVolume:false });\r\n      }, 2500) \r\n    }\r\n  }\r\n\r\n  onVolumeToggle = () => {\r\n    this.setState({ showVolume: !this.state.showVolume })\r\n  }\r\n\r\n  hideVolume = () => {\r\n    this.setState({ showVolume: false })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`control-panel ${this.props.fullScreenControlPanel()}`}>\r\n        <div className='reactions' onClick={this.onToggleReactions}>\r\n          <div\r\n            className={`reactions-container\r\n            ${this.state.showReactions ? '' : 'hidden'}\r\n             `}>\r\n            <ReactionPicker\r\n              hideReactions={this.hideReactions}\r\n              onSelectReaction={this.onSelectReaction}\r\n            />\r\n          </div>\r\n\r\n          <IoIosThumbsUp className=\"IoIosThumbsUp\" style={{ width: '70%', height: '70%' }} \r\n          onClick={this.onToggleReactions}\r\n          />\r\n        </div>\r\n\r\n       \r\n        <div onClick={this.props.onTogglePlay} className=\"movie-play-btn\">\r\n        {/* {this.props.isPlaying?<i className=\"fas fa-grip-lines-vertical\"></i>:<i className=\"fas fa-play\"></i>} */}\r\n        {(!this.props.isPlaying||!this.props.currTime)?\r\n        <i className=\"fas fa-play\"></i>\r\n        :\r\n        <i className=\"fas fa-grip-lines-vertical\"></i>\r\n        }\r\n        </div>\r\n\r\n        <div className='volume' \r\n        ref={this.volumeRef} \r\n        onClick={this.handleClickInsideVolume}\r\n        >\r\n          { this.state.clickedOutsideVolume  &&<input\r\n            type='range'\r\n            id='volume'\r\n            name='volume'\r\n            min='0'\r\n            max='1'\r\n            step='0.01'\r\n            value={this.props.volume}\r\n            onChange={this.changeVolume}></input>}\r\n          {this.props.volume<0.01?<BsVolumeMuteFill  className=\"BsVolumeMuteFill\" style={{ width: '80%', height: '80%' }} />:<IoIosVolumeLow  className=\"IoIosVolumeLow\" style={{ width: '100%', height: '100%' }} />}\r\n        </div>\r\n        \r\n        <div onClick={this.props.toggleFullScreen} className=\"full-sceen-btn\">\r\n          {!this.props.isFullScreen&&<i className=\"fas fa-expand-arrows-alt\"></i>}\r\n          {this.props.isFullScreen&&<i className=\"fas fa-compress-arrows-alt\"></i>}\r\n        </div>\r\n\r\n        {this.state.reactions.map((reaction) => (\r\n          <div\r\n            style={{ right: `${reaction.posX}%` }}\r\n            key={reaction.id}\r\n            className={`reaction-animation ${reaction.type} ${reaction.myReaction?\"my-reaction\":''}`}></div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group'\r\n\r\nexport class MovieLoader extends React.Component {\r\n  state = {\r\n    phrases: ['Grab your popcorn', 'Enjoy!'],\r\n    currTxt: 'Take a seat',\r\n    txtInterval: null,\r\n    hideSpinner: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.animateText()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ txtInterval: null })\r\n  }\r\n\r\n  animateText = () => {\r\n    let counter = 0\r\n    const txtInterval = setInterval(() => {\r\n      if (this.state.phrases[counter] === 'Enjoy')\r\n        this.setState({ hideSpinner: true })\r\n      if (counter < 2) this.setState({ currTxt: this.state.phrases[counter] })\r\n      counter++\r\n    }, 2000)\r\n    this.setState({ txtInterval })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='movie-loader'>\r\n        <div className={this.state.hideSpinner ? 'hidden' : 'red-spinner'}>\r\n          <img\r\n            style={{ width: '100%', height: '100%' }}\r\n            src='https://i.gifer.com/8Etj.gif'\r\n            alt=''\r\n          />\r\n        </div>\r\n        <div>\r\n          <SwitchTransition mode='out-in'>\r\n            <CSSTransition\r\n              key={this.state.currTxt}\r\n              addEndListener={(node, done) => {\r\n                node.addEventListener('transitionend', done, false)\r\n              }}\r\n              classNames='phrase'>\r\n              <div\r\n                className={`phrases ${this.state.hideSpinner?'large-text' : ''}`}>\r\n                {this.state.currTxt}\r\n              </div>\r\n            </CSSTransition>\r\n          </SwitchTransition>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport ReactPlayer from 'react-player'\r\nimport { movieService } from '../services/movieService'\r\nimport { socketService } from '../services/socketService'\r\nimport { Chat } from '../cmps/Chat'\r\nimport { VideoControls } from '../cmps/VideoControls'\r\nimport { MovieLoader } from '../cmps/MovieLoader'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\nimport {updateMovie} from '../store/actions/movieActions.js'\r\n\r\n// let lastPress = 0;\r\nexport class _Room extends Component {\r\n  state = {\r\n    movie: null,\r\n    showVideo: false,\r\n    volume: 0.2,\r\n    currTime: 1,\r\n    timeSet: false,\r\n    currUser: null,\r\n    isFullScreen:false,\r\n    showParticles:true,\r\n    isVisible:true,\r\n    isChatVisible:true,\r\n    startX:0,\r\n    startY:0,\r\n    endX:0,\r\n    endY:0,\r\n    showEmojis: false,\r\n    duration: null,\r\n    played:null,\r\n    secondsElapsed: null,\r\n    notFirstUser:false,\r\n    newUser:{},\r\n    allowedToJoin:false,\r\n    request:false,\r\n    isFirstUser:false,\r\n    firstUser:{},\r\n    isPlaying:true,\r\n    disableToggleUserList:false,\r\n    stopToggleUserList:false,\r\n    newUserFromBackend:{},\r\n    playBtnMsg:null,\r\n    loadedSeconds:null,\r\n    isMuted:false,\r\n    innerHeight:null,\r\n    innerWidth:null\r\n  }\r\n\r\n  playerRef = React.createRef()\r\n \r\n  componentDidMount() {\r\n    this.loadMovie()\r\n    this.setState({ currUser: this.props.loggedInUser })\r\n    this.setState({innerWidth:window.innerWidth})\r\n    if(window.innerWidth<415||window.innerHeight<415){\r\n        this.setState({ isMuted:true,})\r\n    }\r\n    socketService.setup()\r\n    socketService.on('get-first-user', (data) => {\r\n      this.setState({isFirstUser:data.isFirstUser})\r\n    })\r\n    socketService.on('sending-request-for-approval', (data) => {\r\n      socketService.emit('sending-currTime-to-user',{newUser:data.newUser,currTime:this.state.currTime})\r\n    })\r\n    socketService.on('toggle-play-btn', (data) => {\r\n      this.setState({isPlaying:data.isPlaying},()=>{\r\n        if(!data.isPlaying){\r\n          this.setState({playBtnMsg:`${data.currUserName} pause the movie`})\r\n        }else{\r\n          this.setState({playBtnMsg:`${data.currUserName} resume the movie`})\r\n        }\r\n      })\r\n    })\r\n    if (!this.state.showVideo) {\r\n      setTimeout(() => {\r\n        this.setState({ showVideo: true })\r\n      }, 6500)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.innerWidth !== this.state.innerWidth) {\r\n      this.setState({innerWidth:window.innerWidth})\r\n    }\r\n    if (prevState.innerHeight !== this.state.innerHeight) {\r\n      this.setState({innerHeight:window.innerHeight})\r\n    }\r\n  }\r\n\r\n\r\n  stopVideo=()=>{\r\n    this.setState({isPlaying:false})\r\n  }\r\n\r\n  onTogglePlay=()=>{\r\n    this.setState({isPlaying:!this.state.isPlaying},()=>{\r\n      socketService.emit('toggle-play-btn', {isPlaying:this.state.isPlaying,currUserName:this.state.currUser?this.state.currUser.username:'guest'}) \r\n    })\r\n  }\r\n\r\n  playBtnMsg=()=>{\r\n    setTimeout(() => {\r\n      this.setState({ playBtnMsg: null })\r\n    }, 2000)\r\n    return this.state.playBtnMsg \r\n  }\r\n\r\n\r\n  onAddNewUser=(users, newUser, firstUser)=>{\r\n    if(newUser._id===firstUser._id){\r\n      this.setState({ allowedToJoin: true })\r\n      this.setState({firstUser:firstUser})\r\n      this.setState({isFirstUser:true})\r\n\r\n      this.setState({newUserFromBackend:newUser})\r\n      this.setState({currUser:newUser},()=>{\r\n      })\r\n    }else{\r\n      this.setState({isFirstUser:false})\r\n      this.setState({ allowedToJoin: false })\r\n      socketService.emit('get-first-user', firstUser)\r\n      socketService.emit('sending-request-for-approval', {newUser,firstUser})\r\n      socketService.on('sending-currTime-to-user', (data) => {\r\n        this.setState({currTime:data.currTime})\r\n        this.setState({ allowedToJoin: true })\r\n      })\r\n    }\r\n  }\r\n\r\n  onDuration = (duration) =>{\r\n    this.setState({duration})\r\n  }\r\n\r\n  \r\n  onProgress=(progress)=>{\r\n    if((window.innerWidth<415||window.innerHeight<415)&&progress.loadedSeconds===0){\r\n      this.setState({isPlaying:false},()=>{\r\n        this.setState({isPlaying:true})\r\n      })\r\n    }\r\n\r\n    if(!this.state.isPlaying)return\r\n    if(this.state.isFirstUser){\r\n      let player = this.playerRef.current\r\n        if (player && !this.state.timeSet&&this.state.allowedToJoin ) {\r\n          if(this.state.currTime===0){\r\n            this.setState({ currTime: 1 })\r\n          }\r\n          player.seekTo(this.state.currTime, 'seconds')\r\n          this.setState({ timeSet: true })\r\n      }\r\n      if(!this.state.duration) return\r\n      const secondsElapsed = progress.played * this.state.duration\r\n      if(secondsElapsed!==this.state.secondsElapsed){\r\n        this.setState({ currTime:secondsElapsed })\r\n      }\r\n    }else{\r\n      this.onGetCurrTime()\r\n      if(!this.state.duration) return\r\n      const secondsElapsed = progress.played * this.state.duration\r\n      if(secondsElapsed!==this.state.secondsElapsed){\r\n        this.setState({ currTime:secondsElapsed })\r\n      }\r\n    }\r\n  } \r\n\r\n\r\n  onGetCurrTime=()=>{\r\n    let player = this.playerRef.current\r\n      if (player && !this.state.timeSet&&this.state.allowedToJoin ) {\r\n        player.seekTo(this.state.currTime, 'seconds')\r\n        this.setState({ timeSet: true })\r\n      }\r\n  }\r\n\r\n\r\n  onPlaying=()=>{\r\n    if(this.state.currTime){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ isPlaying: true })\r\n  }\r\n\r\n  async loadMovie() {\r\n    const movieId = this.props.match.params.id\r\n    const movie = await movieService.getById(movieId)\r\n    this.setState({ movie })\r\n  }\r\n\r\n  onVolumeChange = (newVolume) => {\r\n    this.setState({ volume: newVolume, isMuted:false })\r\n  }\r\n\r\n  onMovieReady = () => {\r\n    let player = this.playerRef.current\r\n    if(player && this.state.allowedToJoin){\r\n      player.seekTo(this.state.currTime)\r\n    }\r\n  }\r\n\r\n  toggleEmojis = () => {\r\n    this.setState({ showEmojis: !this.state.showEmojis })\r\n  }\r\n\r\n  hideEmojis = () => {\r\n    this.setState({ showEmojis: false })\r\n  }\r\n\r\n\r\n\r\n  // full sceen classes \r\n  toggleFullScreen=()=>{\r\n    if(window.innerWidth<813){\r\n      this.setState({isFullScreen:false})\r\n    }else{\r\n      this.setState({isFullScreen:!this.state.isFullScreen})\r\n    }\r\n  }\r\n  fullScreenWatchRoom=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-watch-room\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenChat=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"fullScreen-chat\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }  \r\n  \r\n  fullScreenMsg=()=>{\r\n    if(this.state.isFullScreen&&window.innerWidth>813){\r\n        return \"\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenInput=()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-chat-input\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenChatBackground =()=>{//.user-list-container, .chat <div className=\"\">     </div>chat-window\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        this.setState({showParticles:false})\r\n        return \"chat-background\" \r\n    }else{\r\n        this.setState({showParticles:true})\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenRoomWindow=()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-room-window\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }    \r\n\r\n  fullScreenFrame =()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-frame\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenIframe =()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-iframe\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenControlPanel =()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-control-panel\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  fullScreenMessageMe =()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-message-me\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n  fullScreenMessageUser =()=>{\r\n    if(window.innerWidth>813&&this.state.isFullScreen){\r\n        return \"fullScreen-message-user\" \r\n    }else{\r\n        return \"\" \r\n    }\r\n  }\r\n\r\n  onGoBack=()=>{\r\n    this.props.history.goBack()\r\n  }\r\n  \r\n\r\n  handleTouchStart=(ev)=>{\r\n    const x = ev.targetTouches[0].clientX\r\n    const y = ev.targetTouches[0].clientY\r\n    this.setState({startX:x})\r\n    this.setState({startY:y})\r\n  }\r\n\r\n  handleTouchMove=(ev)=>{\r\n    const x = ev.targetTouches[0].clientX\r\n    const y = ev.targetTouches[0].clientY\r\n    this.setState({endX:x})\r\n    this.setState({endY:y})\r\n\r\n    const {startX,endX,startY,endY} = this.state\r\n    if (window.screen.width>415&&startX - endX > 75&&endY-startY<10) {\r\n        this.setState({isChatVisible:false})\r\n    }\r\n\r\n    if (startX - endX < -75&&endY-startY<10) {\r\n      this.setState({isChatVisible:true})\r\n    }\r\n  }\r\n\r\n  //double press\r\n  // onToggleUserList=()=>{\r\n  //   if(window.screen.width<415)return\r\n  //   const time = new Date().getTime();\r\n  //   const delta = time - lastPress;\r\n\r\n  //   const DOUBLE_PRESS_DELAY = 200;\r\n  //   if (delta < DOUBLE_PRESS_DELAY) {\r\n  //     // Success double press\r\n  //     this.setState({isVisible:!this.state.isVisible})\r\n  //   }\r\n  //   lastPress = time;\r\n  // }\r\n\r\n\r\n  onToggleDisableToggleUserList=()=>{\r\n    this.setState({disableToggleUserList:!this.state.disableToggleUserList})\r\n  }\r\n  onDisableToggleUserList=()=>{\r\n    this.setState({stopToggleUserList:true})\r\n  }\r\n  onAnabelToggleUserList=()=>{\r\n    setTimeout(()=>{this.setState({stopToggleUserList:false}) }, 500);\r\n  }\r\n  onChangeDisableToggleUserList=()=>{\r\n    setTimeout(()=>{this.setState({disableToggleUserList:false}) }, 500);\r\n  }\r\n\r\n  onToggleUserList=()=>{\r\n    if(window.innerHeight>415&&window.innerWidth<415){\r\n      this.setState({isVisible:true})\r\n    }else if(this.state.stopToggleUserList||window.innerHeight>415||this.state.disableToggleUserList){\r\n       return\r\n    }else{\r\n      this.setState({isVisible:!this.state.isVisible})\r\n    }\r\n  }\r\n\r\n  onChangeUserListAndChatToVisible=()=>{\r\n    this.setState({isVisible:true})\r\n    this.setState({isChatVisible:true})\r\n  }\r\n\r\n  onUpdateMovieMsgList=(msg)=>{\r\n    this.state.movie.msgList.push(msg)\r\n    this.props.updateMovie(this.state.movie)\r\n  }\r\n\r\n\r\n  render() {\r\n    if (!this.state.movie) return <div>Loading....</div>\r\n    return (\r\n      <React.Fragment>\r\n      <div \r\n      className={`watch-room ${this.fullScreenWatchRoom()}`} \r\n      ref={node => { this.node = node; }}\r\n      >\r\n\r\n        <div className={`room-window ${this.fullScreenRoomWindow()}`}\r\n            onTouchStart={touchStartEvent => this.handleTouchStart(touchStartEvent)}\r\n            onTouchMove={touchMoveEvent => this.handleTouchMove(touchMoveEvent)}\r\n        >\r\n          <Chat\r\n            roomId={this.state.movie._id}\r\n            currUser={this.state.currUser}\r\n            movie={this.state.movie}\r\n            fullScreenChat={this.fullScreenChat}\r\n            fullScreenChatBackground={this.fullScreenChatBackground}\r\n            toggleFullScreen={this.toggleFullScreen}\r\n            isFullScreen={this.state.isFullScreen}\r\n            fullScreenMessageMe={this.fullScreenMessageMe}\r\n            fullScreenMessageUser={this.fullScreenMessageUser}\r\n            fullScreenMsg={this.fullScreenMsg}\r\n            fullScreenInput={this.fullScreenInput}\r\n            showParticles={this.state.showParticles}\r\n            onGoBack={this.onGoBack}\r\n            isVisible={this.state.isVisible}\r\n            isChatVisible={this.state.isChatVisible}\r\n            toggleEmojis={this.toggleEmojis}\r\n            hideEmojis={this.hideEmojis}\r\n            showEmojis={this.state.showEmojis}\r\n            onAddNewUser={this.onAddNewUser}\r\n            onUpdateFirstUser={this.onUpdateFirstUser}\r\n            onToggleUserList={this.onToggleUserList}\r\n            onChangeDisableToggleUserList={this.onChangeDisableToggleUserList}\r\n            onToggleDisableToggleUserList={this.onToggleDisableToggleUserList}\r\n            onDisableToggleUserList={this.onDisableToggleUserList}\r\n            onAnabelToggleUserList={this.onAnabelToggleUserList}\r\n            stopMovie = {this.stopMovie}\r\n            onChangeUserListAndChatToVisible={this.onChangeUserListAndChatToVisible}\r\n            updateMovie={this.props.updateMovie}\r\n            onUpdateMovieMsgList={this.onUpdateMovieMsgList}\r\n          />\r\n     \r\n          <section className={`frame ${this.fullScreenFrame()}`} >\r\n            {!this.state.showVideo && <MovieLoader />}\r\n            <div\r\n              className={`video disabled player-wrapper ${\r\n                this.state.showVideo ? '' : 'hide-video'\r\n              }`}>\r\n              <ReactPlayer\r\n                className='react-player'\r\n                ref={this.playerRef}\r\n                url={this.state.movie.videoUrl}\r\n                width='100%'\r\n                height='100%'\r\n                // muted={true}\r\n                muted={this.state.isMuted}\r\n                volume={this.state.volume}\r\n                playing={this.onPlaying&&this.state.isPlaying}\r\n                onDuration={this.onDuration}\r\n                onProgress={this.onProgress}\r\n              />\r\n            </div>\r\n            {this.state.newUserFromBackend&&<VideoControls\r\n              onVolumeChange={this.onVolumeChange}\r\n              volume={this.state.volume}\r\n              toggleFullScreen={this.toggleFullScreen}\r\n              isFullScreen={this.state.isFullScreen}\r\n              fullScreenControlPanel={this.fullScreenControlPanel}\r\n              onTogglePlay={this.onTogglePlay}\r\n              isPlaying={this.state.isPlaying}\r\n              currTime={this.state.currTime}\r\n              onChangeDisableToggleUserList={this.onChangeDisableToggleUserList}\r\n              onToggleDisableToggleUserList={this.onToggleDisableToggleUserList}\r\n              newUser={this.state.newUserFromBackend}\r\n              isMuted={this.state.isMuted}\r\n            />}\r\n            <div className='reaction'></div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n\r\n      {(!this.state.isPlaying||!this.state.currTime)&&<div onClick={this.onTogglePlay} className=\"middle-play-btn\">\r\n        <i className=\"fas fa-play\"></i>\r\n      </div>}\r\n\r\n      {this.state.playBtnMsg&&\r\n      <div className={`play-btn-msg ${this.state.isPlaying?'palying':''}`}>{this.playBtnMsg()}</div>\r\n      }\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  updateMovie,\r\n};\r\n\r\n\r\nexport const Room = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Room))\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { toggleFavUserList } from '../store/actions/userActions'\r\nimport { LoginModal } from './LoginModal';\r\n\r\nclass _MoviePreview extends Component {\r\n  state = {\r\n    showComponent: false,\r\n  }\r\n\r\n  avgReview = (movie) => {\r\n    let sumReviews = 0\r\n    let avg = 0\r\n    let ratingCount = 0\r\n    if(movie.reviews){\r\n      movie.reviews.forEach((review) => {\r\n        if (review.rating) {\r\n          sumReviews += parseInt(review.rating)\r\n          ratingCount++\r\n        }\r\n      })\r\n      avg = sumReviews / ratingCount\r\n      return avg.toFixed(1)\r\n    }else{\r\n      return 0\r\n    }\r\n  }\r\n\r\n\r\n  toggleFavoriteList=(movie)=>{\r\n    if(this.props.loggedInUser){\r\n      console.log(\"loggedInUser.favMovies:\", this.props.loggedInUser.favMovies)\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n      console.log('favoriteList:',this.props.favoriteList)\r\n    }else{\r\n      this.onOpenModal()\r\n    }\r\n  }\r\n  onOpenModal=()=>{\r\n    this.setState({\r\n        showComponent: !this.state.showComponent\r\n      });\r\n  }\r\n\r\n  isFavoriteMovie=(movie)=>{\r\n    if(this.props.loggedInUser&&this.props.loggedInUser.favMovies.find(_movie=> _movie._id === movie._id  )){\r\n      return \"favoriteBtnStyle\"\r\n    }else{\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log('this.props.appCondition',this.props.appCondition)\r\n  }\r\n  render() {\r\n    const { movie, toggleView, appCondition } = this.props\r\n    return (\r\n      <React.Fragment>\r\n            <div className='genres-movie-img-container' style={{backgroundImage: `url(${movie.coverUrl? movie.coverUrl:\"\"})`}} ></div>\r\n  \r\n            <div className=\"info-continer-movie-card\">\r\n                <div className={`title ${movie.title.length>11?\"ellipsis\":\"\"}`}>{movie.title}</div>\r\n  \r\n                <div className=\"genres-container\">\r\n                  {movie.genres.map(genre=>\r\n                    <div className='genre'>{genre}</div>\r\n                  )}\r\n                </div>\r\n{/* //1 */}\r\n                {appCondition&&<div className=\"btns-container\">\r\n                  <span className=\"movie-btn movie-btn-details\" onClick={()=>{toggleView('main')}}><Link to={`/movie/${movie._id}`} ><i className=\"fas fa-info-circle\"></i></Link></span>\r\n          \r\n                  <span className=\"movie-btn\" onClick={()=>{toggleView('main')}}><Link  to={`/room/${movie._id}`}><i className=\"far fa-play-circle\"></i></Link></ span>\r\n\r\n                  <span className=\"movie-btn\" onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                    <Link><i className=\"fas fa-plus\"></i></Link>:\r\n                    <Link><i className=\"fas fa-check\"></i></Link>\r\n                  }\r\n                    </ span>\r\n                </div>}\r\n{/* //2 */}         \r\n                {!appCondition&&<div className=\"btns-container\">\r\n                <span className=\"movie-btn movie-btn-details\" ><Link to={`/movie/${movie._id}`} ><i className=\"fas fa-info-circle\"></i></Link></span>\r\n        \r\n                <span className=\"movie-btn\" ><Link  to={`/room/${movie._id}`}><i className=\"far fa-play-circle\"></i></Link></ span>\r\n\r\n                <span className=\"movie-btn\" onClick={()=>{this.toggleFavoriteList(movie)}}>\r\n                  {this.isFavoriteMovie(movie)!==\"favoriteBtnStyle\"?\r\n                  <Link><i className=\"fas fa-plus\"></i>\r\n                  </Link>:\r\n                  <Link><i className=\"fas fa-check\"></i></Link>\r\n                }\r\n                </ span>\r\n              </div>}\r\n  \r\n                <div className=\"rate-container\">\r\n                  <div><i className=\"far fa-eye\"></i>{movie.viewersNumber?movie.viewersNumber: Math.floor(Math.random() * (200 - 50) + 50)}</div>\r\n                   {this.avgReview(movie)}/10\r\n                </div>\r\n        </div>\r\n\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    favoriteList: state.movie.favoriteList,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList\r\n}\r\nexport const MoviePreview = connect(mapStateToProps, mapDispatchToProps)(_MoviePreview)","import React, { Component } from 'react'\r\nimport Slider from \"react-slick\";\r\nimport { MoviePreview } from './MoviePreview'\r\n\r\nfunction NextArrow(props) {\r\n    const { className, style, onClick} = props;\r\n    return (\r\n      <div\r\n        className={`${className} slick-next-btn-style`}\r\n        style={{ ...style }}\r\n        onClick={onClick}\r\n      />\r\n    );\r\n}\r\n  \r\nfunction PrevArrow(props) {\r\n    const { className, style, onClick } = props;\r\n    return (\r\n      <div\r\n        className={`${className} slick-prev-btn-style`}\r\n        style={{ ...style }}\r\n        onClick={onClick}\r\n      />\r\n    );\r\n}\r\n\r\n\r\nexport class MoviesCarousel extends Component{\r\n    render() {\r\n      const {movies, genre, appCondition, name } = this.props\r\n      const settings = {\r\n        nextArrow: <NextArrow />,\r\n        prevArrow: <PrevArrow />,\r\n        speed: 500,\r\n        slidesToShow: 13,\r\n        slidesToScroll: 10,\r\n        initialSlide: 0,\r\n        variableWidth: true,\r\n        swipeToSlide: true,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1600,\r\n            settings: {\r\n              slidesToShow: 9,\r\n              slidesToScroll: 9,\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 1288,\r\n            settings: {\r\n              slidesToShow: 8,\r\n              slidesToScroll: 8,\r\n            }\r\n          },\r\n            {\r\n                breakpoint: 1160,\r\n                settings: {\r\n                  slidesToShow: 8,\r\n                  slidesToScroll: 8,\r\n                }\r\n            },\r\n          {\r\n            breakpoint: 1024,\r\n            settings: {\r\n              slidesToShow: 7,\r\n              slidesToScroll: 7,\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 990,\r\n            settings: {\r\n              slidesToShow: 6,\r\n              slidesToScroll: 6,\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 870,\r\n            settings: {\r\n              slidesToShow: 5,\r\n              slidesToScroll: 5,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 730,\r\n            settings: {\r\n              slidesToShow: 4,\r\n              slidesToScroll: 4,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 600,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 3,\r\n              initialSlide: 0\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 420,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 2,\r\n              swipeToSlide: true,\r\n            }\r\n          }\r\n        ]\r\n      };\r\n  \r\n      return (\r\n        <React.Fragment>\r\n      {name==='popular'&&<Slider {...settings}>\r\n          { \r\n            movies.map(movie => \r\n              <div key={ movie._id } className=\"movie-container\">\r\n                <MoviePreview className=\"movie-preview\" movie={ movie } appCondition={appCondition}/>\r\n              </div>\r\n          )}\r\n        </Slider>}\r\n\r\n        {name==='genre'&&<Slider {...settings}>\r\n           { \r\n            movies.filter((movie) => movie.genres.includes(genre)).map(movie => \r\n              <div key={ movie._id } className=\"movie-container\">\r\n                <MoviePreview className=\"movie-preview\" movie={ movie } />\r\n              </div>\r\n          )}\r\n        </Slider>}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }","import React from 'react'\r\nimport { MoviePreview } from './MoviePreview'\r\nimport { MoviesCarousel } from './MoviesCarousel'\r\n\r\n\r\n\r\nexport function MovieList({ movies, appCondition }) {\r\n  const genres = [\r\n   'Action','Comedy','Crime','Drama','Fantasy',\r\n   'Adventure','Horror','Sci-Fi','Thriller',\r\n]\r\n  const popular = movies.slice(12, 22)\r\n\r\n\r\n\r\n \r\n  return (\r\n\r\n    <div className=\"movie-list\">\r\n       \r\n        <div className=\"movie-category\">\r\n            <div className=\"category-title\">\r\n                <h4 className=\"category-name\">Popular in WatChat</h4>\r\n            </div>\r\n            {/* <div className=\"category-movies\">\r\n                { \r\n                popular.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <MoviePreview className=\"movie-preview\" movie={ movie } appCondition={appCondition}/>\r\n                </div>)\r\n                }\r\n            </div> */}\r\n            <MoviesCarousel movies={popular} appCondition={appCondition} name={'popular'}/>\r\n        </div>\r\n\r\n        {genres.map(genre=>\r\n\r\n            <div className=\"movie-category\">\r\n                <div className=\"category-title\">\r\n                <h4 className=\"category-name\">{genre}</h4>\r\n            </div>\r\n            {/* <div className=\"category-movies\">\r\n                { \r\n                 movies.filter((movie) => movie.genres.includes(genre)).map(movie => \r\n                    <div key={ movie._id } className=\"movie-container\">\r\n                      <MoviePreview className=\"movie-preview\" movie={ movie }/>\r\n                   \r\n                 \r\n                    </div>\r\n                )}\r\n            </div> */}\r\n            <MoviesCarousel movies={movies} genre={genre} name={'genre'}/>\r\n            </div>\r\n\r\n        )}\r\n      \r\n        </div>\r\n\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { MoviePreview } from './MoviePreview'\r\n\r\n\r\nexport function FilteredMovieList({ movies, toggleView, appCondition }) {\r\n  return (\r\n    <div className=\"filtered-movie-list\">\r\n        <div className=\"movie-category\">\r\n            <div className=\"category-movies\">\r\n                { \r\n                movies.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <MoviePreview className=\"movie-preview\" movie={ movie } toggleView={toggleView} appCondition={appCondition} />\r\n                </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { FilteredMovieList } from '../cmps/FilteredMovieList'\r\n\r\nexport class FilteredMovie extends Component {\r\n    componentDidMount(){\r\n        console.log(\"this.props.currGenre\",this.props.currGenre)\r\n    }\r\n    getMoviesForDisplay() {\r\n        const moviesByGenres = this.props.movies.filter(movie => movie.genres.includes(this.props.currGenre))\r\n        let movies;\r\n        if(this.props.currGenre===\"All\"){\r\n            movies = this.props.movies.filter(movie => movie.title.toLowerCase().includes(this.props.currSearch.toLowerCase()))\r\n        }\r\n        else{\r\n            movies = moviesByGenres.filter(movie => movie.title.toLowerCase().includes(this.props.currSearch.toLowerCase()))\r\n        }\r\n        return movies;\r\n    }\r\n\r\n    render() {\r\n        const { currGenre, currSearch, currCmp , toggleView, appCondition} = this.props\r\n        let movies;\r\n        if(currCmp===\"navFilter\"){\r\n            movies = this.props.movies;\r\n        }else{\r\n            movies = this.getMoviesForDisplay();\r\n        }\r\n        return (\r\n           <div>\r\n               <div className={`filtered-movies-section ${currCmp===\"navFilter\"? 'nav-filter-style': ''}`}>\r\n                   {\r\n                        movies.length===0?\r\n                        <div className=\"no-movies-container\">\r\n                            <div className=\"no-movies-msg\">\r\n                            <h2>Sorry</h2>\r\n                            No movies Found \r\n                            {currSearch&&currSearch!==\"\"?\r\n                            <span> for \"{currSearch}\"</span>\r\n                            : null}\r\n                            {currGenre&&currGenre!=='All'?\r\n                            <span> inside \"{currGenre}\" Genre</span>\r\n                            :null}\r\n                            </div>\r\n                            <img className=\"no-movies-img\" src=\"../assets/img/no-movies-img.png\" alt=\"\"/>\r\n                        </div>\r\n                        : <FilteredMovieList movies={movies} toggleView={toggleView} appCondition={appCondition}/>\r\n                   }\r\n               </div>\r\n           </div> \r\n        )}\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport class MovieFilter extends Component {\r\n    state = {\r\n        active: 'All',\r\n        activeBtn: false,\r\n        keyUpValue: false,\r\n        search:''\r\n    }\r\n    buttons = [\r\n        'All',\r\n        'Action',\r\n        'Comedy',\r\n        'Crime',\r\n        'Drama',\r\n        'Fantasy',\r\n        'Adventure',\r\n        'Sci-Fi',\r\n        'Thriller',\r\n        'Horror',\r\n        'Fairy Tale',\r\n    ]\r\n    componentDidMount(){\r\n        if(this.props.currCategory){\r\n            this.setState({ active: this.props.currCategory })\r\n            this.setState({activeBtn:true},() => {this.changeGenre(this.props.currCategory)})\r\n        }\r\n    }\r\n\r\n    changeToActive(name) {\r\n        this.setState({ active: name })\r\n        if(name===\"All\"){\r\n            this.setState({activeBtn:false},() => {this.changeGenre(name)})\r\n        }else{\r\n            this.setState({activeBtn:true},() => {this.changeGenre(name)})\r\n        }\r\n    }\r\n    changeGenre(name){\r\n        this.toggleView()\r\n        this.props.currGenre(name)\r\n    }\r\n\r\n    onKeyUpValue(event) {\r\n        if(event.target.value){\r\n            this.setState({keyUpValue:true,search:event.target.value},() => {this.searchValue()})\r\n        }else{\r\n            this.setState({keyUpValue:false,search:event.target.value},() => {this.searchValue()})\r\n        }\r\n    }\r\n\r\n    searchValue(){\r\n        this.toggleView()\r\n        this.props.currSearch(this.state.search)\r\n    }\r\n\r\n    toggleView(){\r\n        if(this.state.activeBtn||this.state.keyUpValue){\r\n            this.props.toggleView('FilteredMovie')\r\n        }else{\r\n            this.props.toggleView('MovieList') \r\n        } \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"movies-side-nav\">\r\n              <div className={`movies-sidenav`}>\r\n                <div className=\"side-nav-main\">\r\n                    <div>Search Movie</div>\r\n                  <input type=\"text\" \r\n                  onKeyUp={this.onKeyUpValue.bind(this)}/>\r\n                </div>\r\n                {this.buttons.map(name => {\r\n                    return <div \r\n                        className={`side-btn ${this.state.active === name ? 'active-side-btn' : ''}`}\r\n                        onClick={() => this.changeToActive(name)}\r\n                        >{name}</div>;\r\n                })}\r\n              </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { MovieList } from '../cmps/MovieList'\r\nimport { FilteredMovie } from '../cmps/FilteredMovie'\r\nimport { MovieFilter } from '../cmps/MovieFilter'\r\nimport { logout } from '../store/actions/userActions'\r\n\r\nclass _Movie extends Component {\r\n    state = {\r\n        filterBy: {\r\n          search: '',\r\n          minYear: -Infinity,\r\n          maxYear: Infinity,\r\n          type: 'All',\r\n        },\r\n        currView: 'MovieList',\r\n        currGenre: 'All',\r\n        currSearch: '',\r\n        appCondition: false,\r\n    }\r\n\r\n    DynamicCmp(props) {\r\n        switch (props.currView) {\r\n            case 'MovieList':\r\n                return <MovieList { ...props } />\r\n            case 'FilteredMovie':\r\n                return <FilteredMovie { ...props } />\r\n            default:\r\n                return <h1>Something went wrong</h1>\r\n        }\r\n    }\r\n    \r\n    cmpMap = {\r\n        MovieList: MovieList,\r\n        FilteredMovie: FilteredMovie\r\n    }\r\n\r\n    toggleView = newView => {\r\n        this.setState({ currView: newView })\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const currCategory = this.props.match.params.category\r\n        console.log(\"currCategory\", currCategory)\r\n        this.currGenre(currCategory)\r\n        if(currCategory){\r\n            this.toggleView('FilteredMovie')\r\n        }  \r\n        if(!currCategory){\r\n            this.currGenre('All')\r\n        }\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    currGenre=(name)=>{\r\n        this.setState({ currGenre: name })\r\n    }\r\n\r\n    currSearch=(val)=>{\r\n        this.setState({ currSearch: val })\r\n    }\r\n    \r\n\r\n    render() {\r\n        const { movies } = this.props\r\n        const { currView } = this.state\r\n        const DynamicCmp = this.cmpMap[currView]\r\n        const currCategory = this.props.match.params.category\r\n        if (!movies) return <div>Loading....</div>\r\n        return (\r\n              <div className=\"movies-page\">\r\n                <MovieFilter toggleView={this.toggleView} currGenre={this.currGenre} currSearch={this.currSearch} currCategory={currCategory}/>\r\n                <div className=\"main-section\">\r\n                    <DynamicCmp currView={ currView } movies={movies} currGenre={this.state.currGenre} currSearch={this.state.currSearch} appCondition={this.state.appCondition}/>\r\n                </div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      movies: state.movie.movies,\r\n      loggedInUser: state.user.loggedInUser,\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    loadMovies,\r\n    logout,\r\n  }\r\n  export const Movie = connect(mapStateToProps, mapDispatchToProps)(_Movie)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\nclass _CategoryPage extends Component {\r\n  state = {\r\n        currGenre:this.props.location.genre.name,\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.loadMovies(this.state.filterBy)\r\n  }\r\n\r\n\r\n\r\nchangeCategory=()=>{\r\n    this.setState({currGenre:this.props.location.genre.name})\r\n}\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const { movies } = this.props;\r\n    let genre = movies.filter(movie => movie.genres.includes(`${this.state.currGenre}`));\r\n    if (!movies) return <div>Loading....</div>\r\n    return (\r\n      <React.Fragment>\r\n        {console.log(movies)}\r\n        <div className='movie-app'>\r\n          <div className='main-header-container'>\r\n          <div className=\"hero-slider\">\r\n            <div className=\"slide1\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>Wrath of Titans</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Action</div>\r\n                         <div className=\"genre2\">Adventure</div>\r\n                         <div className=\"genre3\">Fantasy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide2\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>Guardians of the Galaxy</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Action</div>\r\n                         <div className=\"genre2\">Adventure</div>\r\n                         <div className=\"genre3\">Comedy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide3\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title slide-dark-text'>Pirates of the Caribbean</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1 slide-dark-text\">Action</div>\r\n                         <div className=\"genre2 slide-dark-text\">Adventure</div>\r\n                         <div className=\"genre3 slide-dark-text\">Fantasy</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn slide-dark-text'>view info</div>\r\n                          <div className='slide-btn3 slide-btn slide-dark-text'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"slide4\">\r\n            <div className=\"text-inside-slide\">\r\n                  <div className=\"slide-upper-text-container\">\r\n                       <div className='slide-title'>IT</div>\r\n                       <div className=\"slide-genres\">\r\n                         <div className=\"genre1\">Horror</div>\r\n                       </div>\r\n                       <div className=\"slide-btns\">\r\n                          <div className='slide-btn1 slide-btn'>watch movie</div>\r\n                          <div className='slide-btn2 slide-btn'>view info</div>\r\n                          <div className='slide-btn3 slide-btn'>+ add to favorite</div>\r\n                       </div>\r\n                  </div>\r\n                  <div className=\"slide-rate\">\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star star-color\"></i>\r\n                    <i className=\"fas fa-star-half-alt star-color\"></i>\r\n                    <i className=\"far fa-star star-color\"></i>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n\r\n{console.log('this.props.location.genre.name',this.props.location.genre.name)}\r\n\r\n          <div className=\"movie-list\">\r\n        <div className=\"movie-category\">\r\n            <div className=\"category-title\">\r\n                <h4 className=\"category-name\">{this.state.genre}</h4>\r\n                <h4 className=\"all-btn\">See All {genre.length}</h4>\r\n            </div>\r\n            <div className=\"category-movies\">\r\n                { \r\n                genre.map(movie => \r\n                <div key={ movie._id } className=\"movie-container\">\r\n                    <div className=\"movie-preview\">\r\n                      <div className='movie-img-container' style={{backgroundImage: `url(${movie.coverUrl? movie.coverUrl:\"\"})`}} ></div>\r\n                    </div>\r\n                     <div className=\"btns-container\">\r\n                        <span className=\"movie-btn movie-btn-details\"><Link to={`/movie/${movie._id}`} >Details</Link></span>\r\n                    </div>\r\n                </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadMovies,\r\n  logout,\r\n}\r\nexport const CategoryPage = connect(mapStateToProps, mapDispatchToProps)(_CategoryPage)\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { loadMovies } from '../store/actions/movieActions'\r\n    \r\nexport class _EditorsMovies extends Component{\r\n    componentDidMount(){\r\n        this.props.loadMovies()\r\n    }\r\n    getMovies(value){\r\n        \r\n        switch(value) {\r\n            case 'editors-adventure':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'X-Men: Dark Phoenix' ||\r\n                      movie.title === 'Iorn-Man' ||\r\n                      movie.title === 'Wrath of the Titans' ||\r\n                      movie.title === 'Back to the Future' ||\r\n                      movie.title === 'Hellboy' ||\r\n                      movie.title === 'Avatar'\r\n                  )\r\n            //   return movies;\r\n            case 'all-adventure':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Adventure')\r\n                  )\r\n            //   return movies;\r\n            case 'editors-action':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'Avengers: Endgame' ||\r\n                      movie.title === 'Spider-Man: Far from Home' ||\r\n                      movie.title === 'The Suicide Squad' ||\r\n                      movie.title === 'The Batman' ||\r\n                      movie.title === 'Iorn-Man' ||\r\n                      movie.title === 'X-Men: Dark Phoenix' \r\n\r\n                  )\r\n            //   return movies;\r\n            case 'all-action':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Action')\r\n                  )\r\n            //   return movies;\r\n            case 'editors-horror':\r\n                return this.props.movies.filter(\r\n                    (movie) =>\r\n                      movie.title === 'IT' ||\r\n                      movie.title === 'Texas Chainsaw' ||\r\n                      movie.title === 'A Nightmare on Elm Street 3: Dream Warriors' ||\r\n                      movie.title === 'GRETEL & HANSEL' ||\r\n                      movie.title === 'Zombieland: Double Tap' ||\r\n                      movie.title === 'Crawl'\r\n                  )\r\n            //   return movies;\r\n            case 'all-horror':\r\n                return this.props.movies.filter(\r\n                    movie => movie.genres.includes('Horror')\r\n                  )\r\n            //   return movies;\r\n            default:\r\n              return '';\r\n        } \r\n    }\r\n    render() {\r\n\r\n        const movies = this.getMovies(this.props.match.params.category)\r\n        if (!movies) return <div>Loading....</div>\r\n        return (\r\n            <div className=\"editors-movies-page\" id='top'>\r\n                <div>\r\n                    {movies.map((movie,idx)=>\r\n                    <div  className={`movie-card ${'direction-'+(idx%2 ? 'r':'l')}`}>\r\n                        <div className={`container `}>\r\n                            <div className=\"img-container\">\r\n                                <img src={`${movie.wideCoverUrl}`} alt=\"\"/>\r\n                                <div className=\"before-img\"></div>\r\n                            </div>\r\n                            <div className=\"movie-details\">\r\n                                <div className=\"title\">{movie.title}</div>\r\n                                 <div className=\"description\">{movie.description}</div>\r\n                                 <div className=\"genres\">{movie.genres.map(genre=>\r\n                                    <span>{genre} </span>\r\n                                )}</div>\r\n                                \r\n                                <div className=\"year\">{movie.year} | \r\n                                <span > {movie.duration}</span>\r\n                                </div> \r\n                                <Link to={`/movie/${movie._id}`}><div className=\"trailer-btn\">More Info</div></Link>\r\n                            </div>\r\n                        </div>  \r\n                    </div>\r\n                    )}\r\n                </div>\r\n            </div>     \r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      movies: state.movie.movies\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    loadMovies\r\n  }\r\n  export const EditorsMovies = connect(mapStateToProps, mapDispatchToProps)(_EditorsMovies)\r\n  \r\n","import { Home } from './pages/Home.jsx'\r\nimport { About } from './pages/About.jsx'\r\nimport { MovieDetails } from './pages/MovieDetails.jsx'\r\nimport { UserDetails } from './pages/UserDetails.jsx'\r\nimport { Room } from './pages/Room.jsx'\r\nimport { Movie } from './pages/Movie.jsx'\r\nimport { CategoryPage } from './pages/CategoryPage.jsx'\r\nimport { EditorsMovies } from './pages/EditorsMovies.jsx'\r\n\r\nexport default [\r\n  {\r\n    path: '/',\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/about',\r\n    component: About,\r\n  },\r\n  {\r\n    path: '/movies',\r\n    component: Movie,\r\n  },\r\n  {\r\n    path: '/movies/:category',\r\n    component: Movie,\r\n  },\r\n  {\r\n    path: '/genre',\r\n    component: CategoryPage,\r\n  },\r\n  {\r\n    path: '/Movie/:id',\r\n    component: MovieDetails,\r\n  },\r\n  {\r\n    path: '/user',\r\n    component: UserDetails,\r\n  },\r\n  {\r\n    path: '/room/:id',\r\n    component: Room,\r\n  },\r\n  {\r\n    path: '/editor-movies/:category',\r\n    component: EditorsMovies,\r\n  },\r\n]\r\n","import React from 'react'\r\nimport {UserDetails} from '../pages/UserDetails'\r\n\r\nexport class UserModal extends React.Component {\r\n  state = {\r\n    isShown: true,\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ isShown: false })\r\n    this.props.onOpenUserModal()\r\n  }\r\n  render() {\r\n    const { isShown } = this.state\r\n    return (\r\n      <div\r\n        className={`modal-wrapper ${isShown ? '' : 'hide'}`}\r\n        onClick={this.closeModal}>\r\n        <div className='user-modal-content' onClick={(ev) => ev.stopPropagation()}>\r\n            <UserDetails closeModal={this.closeModal}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../store/actions/userActions'\r\nimport { Link } from \"react-router-dom\"\r\nimport { LoginModal } from './LoginModal';\r\nimport {Search} from './Search'\r\nimport { socketService } from '../services/socketService'\r\nimport { movieService } from '../services/movieService'\r\nimport { UserModal } from '../cmps/UserModal'\r\n\r\nclass _Navbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        showUserModal: false,\r\n        color: '',\r\n        active: \"\",\r\n        movieId:''\r\n    }\r\n    listenScrollEvent = e => {\r\n        if (window.scrollY > 400) {\r\n          this.setState({color: 'rgba(0, 0, 0, 0.666)'})\r\n        } else {\r\n          this.setState({color: ''})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.listenScrollEvent)\r\n        this.setState({ active: 'home' })\r\n        this.loadMovie()\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n\r\n    async loadMovie() {\r\n        const movieId = this.props.history.location.pathname.split(\"/\")[2]\r\n        this.setState({movieId})\r\n        const movie = await movieService.getById(movieId)\r\n        console.log(\"movie:\",movie)\r\n    }\r\n\r\n\r\n    onOpenModal=()=>{\r\n        this.setState({\r\n            showComponent: !this.state.showComponent\r\n          });\r\n    }\r\n    onOpenUserModal=()=>{\r\n        this.setState({\r\n            showUserModal: !this.state.showUserModal\r\n          });\r\n    }\r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n        this.props.toggleView('main')\r\n    }\r\n    logout=()=>{\r\n        if(this.props.history.location.pathname==='/user'){\r\n            this.props.history.push('/')\r\n            this.props.logout()\r\n        }else if(this.props.history.location.pathname.includes('/room')){\r\n            console.log(\"movie id\",this.props.history.location.pathname.split(\"/\")[2])\r\n            this.props.logout()\r\n            socketService.emit('chat room', {\r\n                roomId: this.props.history.location.pathname.split(\"/\")[2],\r\n                user: null,\r\n            })\r\n        }else{\r\n            this.props.logout()\r\n        }\r\n    }\r\n\r\n    hideNavbar=()=>{\r\n        if(this.props.history.location.pathname.includes('/room')){\r\n            return \"hide-navbar\"\r\n        }else{\r\n            return \"\" \r\n        }\r\n    }\r\n\r\n\r\n   onActiveBtnAndToggleView=()=>{\r\n        this.props.toggleView('main') \r\n        this.changeToActiveBtn('home')\r\n        this.props.changeAppActiveName('home')\r\n        window.scrollTo(0, 0);\r\n   }\r\n\r\n\r\n\r\n    render() {\r\n    const { loggedInUser} = this.props\r\n    return (\r\n        <React.Fragment>\r\n        <nav className={`main-nav after-canvas ${this.hideNavbar()}`}  style={{backgroundColor: this.state.color}}>\r\n           <div className=\"nav-container\">\r\n           <div className=\"links-container\">\r\n                <div className={`home nav-column ${this.state.active === 'home' ? 'active-navLink' : ''}` }>\r\n                <NavLink className={`navlink-btn  `}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}>Home\r\n                </NavLink>\r\n                </div>\r\n                <div className={`about nav-column ${this.state.active === 'about' ? 'active-navLink' : ''}`}>\r\n                <NavLink className=\"navlink-btn\" to=\"/about\" onClick={()=>{this.changeToActiveBtn('about') }}>About</NavLink>\r\n                </div>\r\n                <div className={`movies nav-column ${this.state.active === 'movie' ? 'active-navLink' : ''}`}>\r\n                <NavLink className=\"navlink-btn\" to=\"/movies\" onClick={()=>{this.changeToActiveBtn('movie') }}>Movies</NavLink>\r\n                </div>\r\n           </div>\r\n\r\n           <Link className=\"main-title nav-column logo\" to={`/`} onClick={()=>{this.onActiveBtnAndToggleView() }}>\r\n                <div className=\"WatChat-logo\">WatChat</div>\r\n                <div className=\"under-logo\">- online cinema -</div>\r\n            </Link>\r\n            {/* <span className=\"main-title nav-column\">\r\n                <Link className=\"logo\" to={`/`} onClick={()=>{this.onActiveBtnAndToggleView() }}>\r\n                    <div className=\"WatChat-logo\">WatChat</div>\r\n                </Link>\r\n                <div className=\"under-logo\">- online cinema -</div>\r\n            </span> */}\r\n\r\n           <div className=\"login-and-serach-section\">\r\n                <Search className=\"navlink-search nav-column\" toggleView={this.props.toggleView} searchingValue={\"movie\"}/>\r\n       \r\n                <div className=\"user-container nav-column\">\r\n        \r\n                    {loggedInUser === null && <div className=\"user-login  after-canvas\" onClick={this.onOpenModal}>Log in</div>}\r\n      \r\n                    <div className=\"user-details-container\">\r\n                        {loggedInUser && <div className=\"user-name\">Hello {loggedInUser.username}</div>}\r\n                        {loggedInUser &&<div id=\"logout-btn\" onClick={this.logout}>Logout</div>}\r\n                    </div>\r\n                    { loggedInUser && loggedInUser.avatar &&\r\n                    <div  className=\"user-details-btn userImg\">\r\n                        <div className=\"user-img\" style={{ backgroundImage: `url(${loggedInUser.avatar})` }} onClick={this.onOpenUserModal}></div>\r\n                    </div>\r\n              \r\n                    }\r\n                   \r\n                </div>\r\n           </div>\r\n            \r\n           </div>\r\n         \r\n        </nav>\r\n        {this.state.showComponent ? <LoginModal onOpenModal={this.onOpenModal}/> : null}\r\n\r\n        {this.state.showUserModal ? <UserModal onOpenUserModal={this.onOpenUserModal}/> : null}\r\n        </React.Fragment>\r\n    )\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n        users: state.user.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout,\r\n}\r\nexport const Navbar = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Navbar))","import React from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\n\r\nexport function _FavoritePreview({ movie, removeFromFavList }) {\r\n    return (\r\n        // <NavLink to={`/movie/${movie._id}`} className=\"favorite-preview-link\">\r\n            <div className=\"favorite-preview\">\r\n                <img src={`${movie.coverUrl}`} alt=\"\"/>\r\n                <div className=\"movie-details\">\r\n                    <div className=\"title\">{movie.title}</div>\r\n                    <div className=\"genres\">\r\n                        {movie.genres&&movie.genres.map((genre,idx)=>\r\n                            <span key={idx}>{genre}</span>\r\n                        \r\n                        )}\r\n                    \r\n                        \r\n                    </div>\r\n                    <div className=\"duration\">{movie.duration}</div>\r\n                </div>\r\n                <div className=\"remove-from-list-btn\" onClick={(ev)=>{removeFromFavList(ev,movie)}}> <i className=\"fas fa-trash-alt\"></i></div>\r\n            </div>     \r\n        // </NavLink>  \r\n    )\r\n}\r\nexport const FavoritePreview = withRouter(_FavoritePreview)\r\n","import React from 'react'\r\nimport { FavoritePreview } from './FavoritePreview'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport function FavoriteList({ loggedInUser, removeFromFavList, favListRef, clickedOutside, handleClickInside }) {\r\n        return (\r\n            <div className=\"fav-list-continer\">\r\n\r\n            <div \r\n            className={`fav-list-btn ${clickedOutside? \"\":\"fav-btn-open\"}`} \r\n            ref={favListRef} \r\n            onClick={handleClickInside}\r\n            >\r\n                <div>\r\n                    My List\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"favorite-movies-section\"\r\n            ref={favListRef} \r\n            onClick={handleClickInside}\r\n            >\r\n                <div className={`favorite-movies-list ${clickedOutside? \"closeNav\":\"openNav open-nav-style\"}`}\r\n                >\r\n                    <div className={`close-list-msg  ${clickedOutside? \"hide-closing-msg\":\"\"}`}>\r\n                    <i className=\"fas fa-long-arrow-alt-left\"></i> Click to Close\r\n                    </div>\r\n                    <div className=\"container\">\r\n                        { loggedInUser&&loggedInUser.favMovies.length>0?loggedInUser.favMovies.map(favMovie=>\r\n                        <FavoritePreview movie={favMovie} removeFromFavList={removeFromFavList}/>\r\n                        ):\r\n                        <div className=\"empty-msg\"><i>The List is Empty</i></div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../store/actions/userActions'\r\nimport {Search} from './Search'\r\n\r\nclass _MobileNavbar extends Component {\r\n    state ={\r\n        showComponent: false,\r\n        color: '',\r\n        active: \"\"\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setState({ active: 'home' })\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState({ active: '' })\r\n    }\r\n\r\n \r\n    changeToActiveBtn(name) {\r\n        this.setState({ active: name })\r\n        this.props.toggleView('main')\r\n        this.props.changeAppActiveName('')\r\n    }\r\n    hideNavbar=()=>{\r\n        if(this.props.history.location.pathname.includes('/room')){\r\n            return \"hide-mobile-navbar\"\r\n        }else{\r\n            return \"\" \r\n        }\r\n    }\r\n   \r\n    render() {\r\n    return (\r\n        <React.Fragment>\r\n            <div className={`mobile-navbar ${this.hideNavbar()}`}>\r\n\r\n          <div className=\"navbar-btns\">\r\n          <div className={`home nav-column ${this.state.active === 'home'|| this.props.active ? 'active-navLink' : ''}` }><NavLink className={`navlink-btn  `}  to=\"/\" onClick={()=>{this.changeToActiveBtn('home') }}><i className=\"fas fa-home\"></i>Home</NavLink></div>\r\n            <div className={`about nav-column ${this.state.active === 'about'&&this.props.active!=='home' ? 'active-navLink' : ''}`}><NavLink className=\"navlink-btn\" to=\"/about\" onClick={()=>{this.changeToActiveBtn('about') }}><i className=\"fas fa-info-circle\"></i>About</NavLink></div>\r\n            <div className={`movies nav-column ${this.state.active === 'movie'&&this.props.active!=='home' ? 'active-navLink' : ''}`}><NavLink className=\"navlink-btn\" to=\"/movies\" onClick={()=>{this.changeToActiveBtn('movie') }}><i className=\"fas fa-film\"></i>Movies</NavLink></div>\r\n          </div>\r\n\r\n          <Search className=\"navlink-search nav-column\" toggleView={this.props.toggleView} searchingValue={\"movie\"}/>\r\n\r\n\r\n\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.user.loggedInUser, \r\n        users: state.user.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\nexport const MobileNavbar = connect(mapStateToProps, mapDispatchToProps)(withRouter(_MobileNavbar))","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport routes from './routes.js'\r\nimport { Navbar } from './cmps/Navbar'\r\nimport { FilteredMovie } from './cmps/FilteredMovie'\r\nimport { FavoriteList } from './cmps/FavoriteList'\r\nimport { MobileNavbar } from './cmps/MobileNavbar'\r\nimport { connect } from 'react-redux'\r\nimport { toggleFavUserList } from './store/actions/userActions'\r\n\r\n\r\nclass _App extends React.Component{\r\n  state = {\r\n    currView: 'main',\r\n    currCmp: 'navFilter',\r\n    appCondition: true,\r\n    active: '',\r\n    clickedOutside: true\r\n  }\r\n\r\n  favListRef = React.createRef()\r\n\r\n  handleClickOutside = e => {\r\n    if ((window.screen.width <= 415 && !this.favListRef.current.contains(e.target)) ||  (window.screen.height <= 415 && !this.favListRef.current.contains(e.target))) {\r\n      this.setState({ clickedOutside:true });\r\n    } \r\n  };\r\n\r\n  handleClickInside = () => this.setState({ clickedOutside:!this.state.clickedOutside });\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  } \r\n\r\n  componentWillUnmount(){\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  removeFromFavList=(ev,movie)=>{\r\n    ev.stopPropagation()\r\n    if(this.props.loggedInUser){\r\n      this.props.toggleFavUserList(this.props.loggedInUser,movie)\r\n    }\r\n  }\r\n\r\n  toggleView = newView => {\r\n    this.setState({ currView: newView })\r\n  }\r\n\r\n  changeAppActiveName = (name) => {\r\n    this.setState({ active: name })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { currView, appCondition } = this.state\r\n    const { movies, loggedInUser } = this.props\r\n    return (\r\n      <div className='App'>\r\n        <header>\r\n          <Navbar toggleView={this.toggleView} changeAppActiveName={this.changeAppActiveName}/>\r\n        </header>\r\n       { currView===\"FilteredMovie\"&&\r\n          <FilteredMovie movies={movies} currCmp={this.state.currCmp} toggleView={this.toggleView} appCondition={appCondition}/>\r\n       }\r\n        {currView===\"main\"&&<main>\r\n        <React.Fragment>\r\n          <Switch>\r\n          {routes.map((route) => (\r\n            <Route\r\n              key={route.path}\r\n              exact\r\n              component={route.component}\r\n              path={route.path}\r\n            />\r\n          ))}\r\n          </Switch>\r\n        </React.Fragment>\r\n        </main>}\r\n        <FavoriteList removeFromFavList={this.removeFromFavList} loggedInUser={loggedInUser} clickedOutside={this.state.clickedOutside} handleClickInside={this.handleClickInside} favListRef={this.favListRef}/>\r\n        <MobileNavbar  toggleView={this.toggleView} active={this.state.active} changeAppActiveName={this.changeAppActiveName}/>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movie.movies,\r\n    loggedInUser: state.user.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  toggleFavUserList\r\n}\r\nexport const App = connect(mapStateToProps,mapDispatchToProps)(_App)","const initialState = {\r\n  reviews: [],\r\n  selectedReview: null\r\n};\r\n\r\nexport default function(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews };\r\n    case 'REVIEW_ADD':\r\n      return { ...state, reviews: [...state.reviews, action.addedReview] };\r\n    case 'REVIEW_UPDATE':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: [],\r\n}\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'USER_REMOVE':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter((user) => user._id !== action.userId),\r\n      }\r\n    case 'SET_USERS':\r\n      console.log(\"action.users:\",action.users)\r\n      return { ...state, users: action.users }\r\n\r\n    case 'UPDATE_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'ADD_FAV_MOVIE':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_FAV_MOVIE':\r\n      return { ...state, loggedInUser: action.user }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true };\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false };\r\n    default: return state;\r\n  }\r\n}\r\n","const initialState = {\r\n    movies: [],\r\n}\r\n\r\nexport function movieReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_MOVIES':\r\n            return {\r\n                ...state,\r\n                movies: action.movies\r\n            }\r\n        case 'ADD_MOVIE':\r\n            const movies = [...state.movies, action.savedMovie]\r\n            return {...state, movies} \r\n        case 'UPDATE_MOVIE':\r\n            console.log(\"UPDATE_MOVIE: \", action.savedMovie);\r\n            return {\r\n                ...state,\r\n                movies: state.movies.map(movie => movie._id === action.savedMovie._id?action.savedMovie:movie )\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport reviewReducer from './reviewReducer';\r\nimport userReducer from './userReducer';\r\nimport systemReducer from './systemReducer';\r\nimport {movieReducer} from './movieReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  system: systemReducer,\r\n  review: reviewReducer,\r\n  user: userReducer,\r\n  movie: movieReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index.js';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport { Provider } from 'react-redux'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { App } from './App.jsx'\r\nimport './styles/global.scss'\r\nimport { store } from './store/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}